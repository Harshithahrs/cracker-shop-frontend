import{A as oi,a as T,b as pe,c as py,d as gy,e as D,f as QA,g as cf,h as KA,i as YA,j as ZA,k as vy,l as df,m as Yd,n as _y,o as uf,p as hf,q as XA,r as by,s as Xe,t as Zn,u as Sr,v as mf,w as ta,x as ff,y as JA,z as Xn}from"./chunk-DZQGNQUU.js";var ek=null,pf=!1,yy=1,vf=Symbol("SIGNAL");function je(t){let e=ek;return ek=t,e}function iz(){return pf}var xy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nz(t){if(!(Sy(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yy)){if(!t.producerMustRecompute(t)&&!_f(t)){t.dirty=!1,t.lastCleanEpoch=yy;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=yy}}function rz(t){if(t.liveConsumerNode===void 0)return;let e=pf;pf=!0;try{for(let i of t.liveConsumerNode)i.dirty||tk(i)}finally{pf=e}}function tk(t){t.dirty=!0,rz(t),t.consumerMarkedDirty?.(t)}function Ey(t){return t&&(t.nextProducerIndex=0),je(t)}function Iy(t,e){if(je(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Sy(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Dy(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _f(t){gf(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(nz(i),n!==i.version))return!0}return!1}function Cy(t){if(gf(t),Sy(t))for(let e=0;e<t.producerNode.length;e++)Dy(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Dy(t,e){if(oz(t),gf(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)Dy(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];gf(r),r.producerIndexOfThis[n]=e}}function Sy(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function gf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function oz(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function sz(){throw new Error}var az=sz;function ik(t){az=t}function nk(t,e,i){let n=Object.create(lz);i&&(n.consumerAllowSignalWrites=!0),n.fn=t,n.schedule=e;let r=l=>{n.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(Cy(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=wy)}let a=()=>{if(n.fn===null)return;if(iz())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!_f(n))return;n.hasRun=!0;let l=Ey(n);try{n.cleanupFn(),n.cleanupFn=wy,n.fn(r)}finally{Iy(n,l)}};return n.ref={notify:()=>tk(n),run:a,cleanup:()=>n.cleanupFn(),destroy:()=>s(n),[vf]:n},n.ref}var wy=()=>{},lz=pe(T({},xy),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:wy});function ue(t){return typeof t=="function"}function yl(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var bf=yl(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function ia(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let o of i)o.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(ue(n))try{n()}catch(o){e=o instanceof bf?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{rk(o)}catch(s){e=e??[],s instanceof bf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bf(e)}}add(e){var i;if(e&&e!==this)if(this.closed)rk(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&ia(i,e)}remove(e){let{_finalizers:i}=this;i&&ia(i,e),e instanceof t&&e._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var Ty=Ye.EMPTY;function yf(t){return t instanceof Ye||t&&"closed"in t&&ue(t.remove)&&ue(t.add)&&ue(t.unsubscribe)}function rk(t){ue(t)?t():t.unsubscribe()}var Jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wl={setTimeout(t,e,...i){let{delegate:n}=wl;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=wl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wf(t){wl.setTimeout(()=>{let{onUnhandledError:e}=Jn;if(e)e(t);else throw t})}function Zd(){}var ok=Ay("C",void 0,void 0);function sk(t){return Ay("E",void 0,t)}function ak(t){return Ay("N",t,void 0)}function Ay(t,e,i){return{kind:t,value:e,error:i}}var na=null;function xl(t){if(Jn.useDeprecatedSynchronousErrorHandling){let e=!na;if(e&&(na={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=na;if(na=null,i)throw n}}else t()}function lk(t){Jn.useDeprecatedSynchronousErrorHandling&&na&&(na.errorThrown=!0,na.error=t)}var ra=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yf(e)&&e.add(this)):this.destination=uz}static create(e,i,n){return new fo(e,i,n)}next(e){this.isStopped?My(ak(e),this):this._next(e)}error(e){this.isStopped?My(sk(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?My(ok,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cz=Function.prototype.bind;function ky(t,e){return cz.call(t,e)}var Ry=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){xf(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){xf(n)}else xf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){xf(i)}}},fo=class extends ra{constructor(e,i,n){super();let r;if(ue(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let o;this&&Jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ky(e.next,o),error:e.error&&ky(e.error,o),complete:e.complete&&ky(e.complete,o)}):r=e}this.destination=new Ry(r)}};function xf(t){Jn.useDeprecatedSynchronousErrorHandling?lk(t):wf(t)}function dz(t){throw t}function My(t,e){let{onStoppedNotification:i}=Jn;i&&wl.setTimeout(()=>i(t,e))}var uz={closed:!0,next:Zd,error:dz,complete:Zd};var El=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bi(t){return t}function Fy(...t){return Py(t)}function Py(t){return t.length===0?Bi:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var se=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let o=mz(i)?i:new fo(i,n,r);return xl(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=ck(n),new n((r,o)=>{let s=new fo({next:a=>{try{i(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[El](){return this}pipe(...i){return Py(i)(this)}toPromise(i){return i=ck(i),new i((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function ck(t){var e;return(e=t??Jn.Promise)!==null&&e!==void 0?e:Promise}function hz(t){return t&&ue(t.next)&&ue(t.error)&&ue(t.complete)}function mz(t){return t&&t instanceof ra||hz(t)&&yf(t)}function Oy(t){return ue(t?.lift)}function we(t){return e=>{if(Oy(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,i,n,r){return new Ny(t,e,i,n,r)}var Ny=class extends ra{constructor(e,i,n,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=i?function(a){try{i(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Il(){return we((t,e)=>{let i=null;t._refCount++;let n=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,o=i;i=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var Cl=class extends se{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Oy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let i=this.getSubject();e.add(this.source.subscribe(_e(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return Il()(this)}};var dk=yl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new Ef(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new dk}next(i){xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:o}=this;return n||r?Ty:(this.currentObservers=null,o.push(i),new Ye(()=>{this.currentObservers=null,ia(o,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:o}=this;n?i.error(r):o&&i.complete()}asObservable(){let i=new se;return i.source=this,i}}return t.create=(e,i)=>new Ef(e,i),t})(),Ef=class extends W{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:Ty}};var tt=class extends W{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Xd={now(){return(Xd.delegate||Date).now()},delegate:void 0};var If=class extends W{constructor(e=1/0,i=1/0,n=Xd){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){let{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;i||(n.push(e),!r&&n.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=n?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){let{_bufferSize:e,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!r){let s=i.now(),a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}};var Cf=class extends Ye{constructor(e,i){super()}schedule(e,i=0){return this}};var Jd={setInterval(t,e,...i){let{delegate:n}=Jd;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=Jd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Dl=class extends Cf{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,i),this}requestAsyncId(e,i,n=0){return Jd.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Jd.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,ia(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var Sl=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};Sl.now=Xd.now;var Tl=class extends Sl{constructor(e,i=Sl.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var Tr=new Tl(Dl),Ly=Tr;var Df=class extends Dl{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}schedule(e,i=0){return i>0?super.schedule(e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)}execute(e,i){return i>0||this.closed?super.execute(e,i):this._execute(e,i)}requestAsyncId(e,i,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,i,n):(e.flush(this),0)}};var Sf=class extends Tl{};var Vy=new Sf(Df);var Ui=new se(t=>t.complete());function Tf(t){return t&&ue(t.schedule)}function jy(t){return t[t.length-1]}function Af(t){return ue(jy(t))?t.pop():void 0}function Ar(t){return Tf(jy(t))?t.pop():void 0}function uk(t,e){return typeof jy(t)=="number"?t.pop():e}var Al=t=>t&&typeof t.length=="number"&&typeof t!="function";function kf(t){return ue(t?.then)}function Mf(t){return ue(t[El])}function Rf(t){return Symbol.asyncIterator&&ue(t?.[Symbol.asyncIterator])}function Ff(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fz(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pf=fz();function Of(t){return ue(t?.[Pf])}function Nf(t){return KA(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield cf(i.read());if(r)return yield cf(void 0);yield yield cf(n)}}finally{i.releaseLock()}})}function Lf(t){return ue(t?.getReader)}function rt(t){if(t instanceof se)return t;if(t!=null){if(Mf(t))return pz(t);if(Al(t))return gz(t);if(kf(t))return vz(t);if(Rf(t))return hk(t);if(Of(t))return _z(t);if(Lf(t))return bz(t)}throw Ff(t)}function pz(t){return new se(e=>{let i=t[El]();if(ue(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gz(t){return new se(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function vz(t){return new se(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,wf)})}function _z(t){return new se(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function hk(t){return new se(e=>{yz(t,e).catch(i=>e.error(i))})}function bz(t){return hk(Nf(t))}function yz(t,e){var i,n,r,o;return QA(this,void 0,void 0,function*(){try{for(i=YA(t);n=yield i.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i.return)&&(yield o.call(i))}finally{if(r)throw r.error}}e.complete()})}function rn(t,e,i,n=0,r=!1){let o=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!r)return o}function un(t,e=0){return we((i,n)=>{i.subscribe(_e(n,r=>rn(n,t,()=>n.next(r),e),()=>rn(n,t,()=>n.complete(),e),r=>rn(n,t,()=>n.error(r),e)))})}function er(t,e=0){return we((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function mk(t,e){return rt(t).pipe(er(e),un(e))}function fk(t,e){return rt(t).pipe(er(e),un(e))}function pk(t,e){return new se(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function gk(t,e){return new se(i=>{let n;return rn(i,e,()=>{n=t[Pf](),rn(i,e,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){i.error(s);return}o?i.complete():i.next(r)},0,!0)}),()=>ue(n?.return)&&n.return()})}function Vf(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(i=>{rn(i,e,()=>{let n=t[Symbol.asyncIterator]();rn(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function vk(t,e){return Vf(Nf(t),e)}function _k(t,e){if(t!=null){if(Mf(t))return mk(t,e);if(Al(t))return pk(t,e);if(kf(t))return fk(t,e);if(Rf(t))return Vf(t,e);if(Of(t))return gk(t,e);if(Lf(t))return vk(t,e)}throw Ff(t)}function ge(t,e){return e?_k(t,e):rt(t)}function z(...t){let e=Ar(t);return ge(t,e)}function kr(t,e){let i=ue(t)?t:()=>t,n=r=>r.error(i());return new se(e?r=>e.schedule(n,0,r):n)}function jf(t){return!!t&&(t instanceof se||ue(t.lift)&&ue(t.subscribe))}var po=yl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function bk(t){return t instanceof Date&&!isNaN(t)}function B(t,e){return we((i,n)=>{let r=0;i.subscribe(_e(n,o=>{n.next(t.call(e,o,r++))}))})}var{isArray:wz}=Array;function xz(t,e){return wz(e)?t(...e):t(e)}function kl(t){return B(e=>xz(t,e))}var{isArray:Ez}=Array,{getPrototypeOf:Iz,prototype:Cz,keys:Dz}=Object;function Bf(t){if(t.length===1){let e=t[0];if(Ez(e))return{args:e,keys:null};if(Sz(e)){let i=Dz(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function Sz(t){return t&&typeof t=="object"&&Iz(t)===Cz}function Uf(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function oa(...t){let e=Ar(t),i=Af(t),{args:n,keys:r}=Bf(t);if(n.length===0)return ge([],e);let o=new se(Tz(n,e,r?s=>Uf(r,s):Bi));return i?o.pipe(kl(i)):o}function Tz(t,e,i=Bi){return n=>{yk(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)yk(e,()=>{let c=ge(t[l],e),d=!1;c.subscribe(_e(n,u=>{o[l]=u,d||(d=!0,a--),a||n.next(i(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function yk(t,e,i){t?rn(i,t,e):e()}function wk(t,e,i,n,r,o,s,a){let l=[],c=0,d=0,u=!1,h=()=>{u&&!l.length&&!c&&e.complete()},m=_=>c<n?p(_):l.push(_),p=_=>{o&&e.next(_),c++;let y=!1;rt(i(_,d++)).subscribe(_e(e,E=>{r?.(E),o?m(E):e.next(E)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<n;){let E=l.shift();s?rn(e,s,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(_e(e,m,()=>{u=!0,h()})),()=>{a?.()}}function Rt(t,e,i=1/0){return ue(e)?Rt((n,r)=>B((o,s)=>e(n,o,r,s))(rt(t(n,r))),i):(typeof e=="number"&&(i=e),we((n,r)=>wk(n,r,t,i)))}function Mr(t=1/0){return Rt(Bi,t)}function xk(){return Mr(1)}function ts(...t){return xk()(ge(t,Ar(t)))}function zf(t){return new se(e=>{rt(t()).subscribe(e)})}function sa(...t){let e=Af(t),{args:i,keys:n}=Bf(t),r=new se(o=>{let{length:s}=i;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let u=!1;rt(i[d]).subscribe(_e(o,h=>{u||(u=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!u)&&(c||o.next(n?Uf(n,a):a),o.complete())}))}});return e?r.pipe(kl(e)):r}var Az=["addListener","removeListener"],kz=["addEventListener","removeEventListener"],Mz=["on","off"];function go(t,e,i,n){if(ue(i)&&(n=i,i=void 0),n)return go(t,e,i).pipe(kl(n));let[r,o]=Pz(t)?kz.map(s=>a=>t[s](e,a,i)):Rz(t)?Az.map(Ek(t,e)):Fz(t)?Mz.map(Ek(t,e)):[];if(!r&&Al(t))return Rt(s=>go(s,e,i))(rt(t));if(!r)throw new TypeError("Invalid event target");return new se(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Ek(t,e){return i=>n=>t[i](e,n)}function Rz(t){return ue(t.addListener)&&ue(t.removeListener)}function Fz(t){return ue(t.on)&&ue(t.off)}function Pz(t){return ue(t.addEventListener)&&ue(t.removeEventListener)}function Ik(t=0,e,i=Ly){let n=-1;return e!=null&&(Tf(e)?i=e:n=e),new se(r=>{let o=bk(t)?+t-i.now():t;o<0&&(o=0);let s=0;return i.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function An(...t){let e=Ar(t),i=uk(t,1/0),n=t;return n.length?n.length===1?rt(n[0]):Mr(i)(ge(n,e)):Ui}function Fe(t,e){return we((i,n)=>{let r=0;i.subscribe(_e(n,o=>t.call(e,o,r++)&&n.next(o)))})}function Ck(t){return we((e,i)=>{let n=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let c=r;r=null,i.next(c)}s&&i.complete()},l=()=>{o=null,s&&i.complete()};e.subscribe(_e(i,c=>{n=!0,r=c,o||rt(t(c)).subscribe(o=_e(i,a,l))},()=>{s=!0,(!n||!o||o.closed)&&i.complete()}))})}function $f(t,e=Tr){return Ck(()=>Ik(t,e))}function Ti(t){return we((e,i)=>{let n=null,r=!1,o;n=e.subscribe(_e(i,void 0,void 0,s=>{o=rt(t(s,Ti(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(i))})}function Dk(t,e,i,n,r){return(o,s)=>{let a=i,l=e,c=0;o.subscribe(_e(s,d=>{let u=c++;l=a?t(l,d,u):(a=!0,d),n&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function vo(t,e){return ue(e)?Rt(t,e,1):Rt(t,1)}function kn(t,e=Tr){return we((i,n)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,n.next(c)}};function l(){let c=s+t,d=e.now();if(d<c){r=this.schedule(void 0,c-d),n.add(r);return}a()}i.subscribe(_e(n,c=>{o=c,s=e.now(),r||(r=e.schedule(l,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}function is(t){return we((e,i)=>{let n=!1;e.subscribe(_e(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function Et(t){return t<=0?()=>Ui:we((e,i)=>{let n=0;e.subscribe(_e(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function Ml(t){return B(()=>t)}function tr(t,e=Bi){return t=t??Oz,we((i,n)=>{let r,o=!0;i.subscribe(_e(n,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,n.next(s))}))})}function Oz(t,e){return t===e}function Hf(t=Nz){return we((e,i)=>{let n=!1;e.subscribe(_e(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function Nz(){return new po}function Rr(t){return we((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function Mn(t,e){let i=arguments.length>=2;return n=>n.pipe(t?Fe((r,o)=>t(r,o,n)):Bi,Et(1),i?is(e):Hf(()=>new po))}function Rl(t){return t<=0?()=>Ui:we((e,i)=>{let n=[];e.subscribe(_e(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function By(t,e){let i=arguments.length>=2;return n=>n.pipe(t?Fe((r,o)=>t(r,o,n)):Bi,Rl(1),i?is(e):Hf(()=>new po))}function Fl(){return we((t,e)=>{let i,n=!1;t.subscribe(_e(e,r=>{let o=i;i=r,n&&e.next([o,r]),n=!0}))})}function aa(t,e){return we(Dk(t,e,arguments.length>=2,!0))}function eu(t={}){let{connector:e=()=>new W,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,c=0,d=!1,u=!1,h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),s=l=void 0,d=u=!1},p=()=>{let _=s;m(),_?.unsubscribe()};return we((_,y)=>{c++,!u&&!d&&h();let E=l=l??e();y.add(()=>{c--,c===0&&!u&&!d&&(a=Uy(p,r))}),E.subscribe(y),!s&&c>0&&(s=new fo({next:N=>E.next(N),error:N=>{u=!0,h(),a=Uy(m,i,N),E.error(N)},complete:()=>{d=!0,h(),a=Uy(m,n),E.complete()}}),rt(_).subscribe(s))})(o)}}function Uy(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new fo({next:()=>{n.unsubscribe(),t()}});return rt(e(...i)).subscribe(n)}function tu(t,e,i){let n,r=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:i}=t:n=t??1/0,eu({connector:()=>new If(n,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function iu(t){return Fe((e,i)=>t<=i)}function si(...t){let e=Ar(t);return we((i,n)=>{(e?ts(t,i,e):ts(t,i)).subscribe(n)})}function Pe(t,e){return we((i,n)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&n.complete();i.subscribe(_e(n,l=>{r?.unsubscribe();let c=0,d=o++;rt(t(l,d)).subscribe(r=_e(n,u=>n.next(e?e(l,u,d,c++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Gf(t,e){return ue(e)?Pe(()=>t,e):Pe(()=>t)}function Ze(t){return we((e,i)=>{rt(t).subscribe(_e(i,()=>i.complete(),Zd)),!i.closed&&e.subscribe(i)})}function ot(t,e,i){let n=ue(t)||e||i?{next:t,error:e,complete:i}:t;return n?we((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(_e(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):Bi}var g1="https://g.co/ng/security#xss",L=class extends Error{constructor(e,i){super(Tp(e,i)),this.code=e}};function Tp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function vu(t){return{toString:t}.toString()}var qf="__parameters__";function Lz(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function v1(t,e,i){return vu(()=>{let n=Lz(e);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let u=l.hasOwnProperty(qf)?l[qf]:Object.defineProperty(l,qf,{value:[]})[qf];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Bt=globalThis;function ut(t){for(let e in t)if(t[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function Vz(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function $i(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($i).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function n0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var jz=ut({__forward_ref__:ut});function ui(t){return t.__forward_ref__=ui,t.toString=function(){return $i(this())},t}function zi(t){return _1(t)?t():t}function _1(t){return typeof t=="function"&&t.hasOwnProperty(jz)&&t.__forward_ref__===ui}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function V(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ap(t){return Sk(t,y1)||Sk(t,w1)}function b1(t){return Ap(t)!==null}function Sk(t,e){return t.hasOwnProperty(e)?t[e]:null}function Bz(t){let e=t&&(t[y1]||t[w1]);return e||null}function Tk(t){return t&&(t.hasOwnProperty(Ak)||t.hasOwnProperty(Uz))?t[Ak]:null}var y1=ut({\u0275prov:ut}),Ak=ut({\u0275inj:ut}),w1=ut({ngInjectableDef:ut}),Uz=ut({ngInjectorDef:ut}),k=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=I({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function x1(t){return t&&!!t.\u0275providers}var zz=ut({\u0275cmp:ut}),$z=ut({\u0275dir:ut}),Hz=ut({\u0275pipe:ut}),Gz=ut({\u0275mod:ut}),sp=ut({\u0275fac:ut}),nu=ut({__NG_ELEMENT_ID__:ut}),kk=ut({__NG_ENV_ID__:ut});function _u(t){return typeof t=="string"?t:t==null?"":String(t)}function qz(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_u(t)}function Wz(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,t)}function pw(t,e){throw new L(-201,!1)}var Ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ne||{}),r0;function E1(){return r0}function on(t){let e=r0;return r0=t,e}function I1(t,e,i){let n=Ap(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&Ne.Optional)return null;if(e!==void 0)return e;pw(t,"Injector")}var Qz={},ou=Qz,o0="__NG_DI_FLAG__",ap="ngTempTokenPath",Kz="ngTokenPath",Yz=/\n/gm,Zz="\u0275",Mk="__source",Vl;function Xz(){return Vl}function ns(t){let e=Vl;return Vl=t,e}function Jz(t,e=Ne.Default){if(Vl===void 0)throw new L(-203,!1);return Vl===null?I1(t,void 0,e):Vl.get(t,e&Ne.Optional?null:void 0,e)}function g(t,e=Ne.Default){return(E1()||Jz)(zi(t),e)}function A(t,e=Ne.Default){return g(t,kp(e))}function kp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function s0(t){let e=[];for(let i=0;i<t.length;i++){let n=zi(t[i]);if(Array.isArray(n)){if(n.length===0)throw new L(900,!1);let r,o=Ne.Default;for(let s=0;s<n.length;s++){let a=n[s],l=e3(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(g(r,o))}else e.push(g(n))}return e}function C1(t,e){return t[o0]=e,t.prototype[o0]=e,t}function e3(t){return t[o0]}function t3(t,e,i,n){let r=t[ap];throw e[Mk]&&r.unshift(e[Mk]),t.message=i3(`
`+t.message,r,i,n),t[Kz]=r,t[ap]=null,t}function i3(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Zz?t.slice(2):t;let r=$i(e);if(Array.isArray(e))r=e.map($i).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$i(a)))}r=`{${o.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(Yz,`
  `)}`}var xo=C1(v1("Optional"),8);var Kl=C1(v1("SkipSelf"),4);function ua(t,e){let i=t.hasOwnProperty(sp);return i?t[sp]:null}function n3(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(i&&(r=i(r),o=i(o)),o!==r)return!1}return!0}function r3(t){return t.flat(Number.POSITIVE_INFINITY)}function gw(t,e){t.forEach(i=>Array.isArray(i)?gw(i,e):e(i))}function D1(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function lp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function o3(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function s3(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=i,t[e+1]=n}}function Mp(t,e,i){let n=bu(t,e);return n>=0?t[n|1]=i:(n=~n,s3(t,n,e,i)),n}function zy(t,e){let i=bu(t,e);if(i>=0)return t[i|1]}function bu(t,e){return a3(t,e,1)}function a3(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let o=n+(r-n>>1),s=t[o<<i];if(e===s)return o<<i;s>e?r=o:n=o+1}return~(r<<i)}var Bl={},sn=[],Ul=new k(""),S1=new k("",-1),T1=new k(""),cp=class{get(e,i=ou){if(i===ou){let n=new Error(`NullInjectorError: No provider for ${$i(e)}!`);throw n.name="NullInjectorError",n}return i}},A1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(A1||{}),Or=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Or||{}),J=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(J||{});function l3(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===n||t.charCodeAt(r+o)<=32)return r}i=r+1}}function a0(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let o=i[n++],s=i[n++],a=i[n++];t.setAttribute(e,s,a,o)}else{let o=r,s=i[++n];c3(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function k1(t){return t===3||t===4||t===6}function c3(t){return t.charCodeAt(0)===64}function su(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?Rk(t,i,r,null,e[++n]):Rk(t,i,r,null,null))}}return t}function Rk(t,e,i,n,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[o+1]=r);return}else if(n===t[o+1]){t[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,i),n!==null&&t.splice(o++,0,n),r!==null&&t.splice(o++,0,r)}var M1="ng-template";function d3(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&l3(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(vw(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===i)return!0}return!1}function vw(t){return t.type===4&&t.value!==M1}function u3(t,e,i){let n=t.type===4&&!i?M1:t.value;return e===n}function h3(t,e,i){let n=4,r=t.attrs,o=r!==null?p3(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!ir(n)&&!ir(l))return!1;if(s&&ir(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!u3(t,l,i)||l===""&&e.length===1){if(ir(n))return!1;s=!0}}else if(n&8){if(r===null||!d3(t,r,l,i)){if(ir(n))return!1;s=!0}}else{let c=e[++a],d=m3(l,r,vw(t),i);if(d===-1){if(ir(n))return!1;s=!0;continue}if(c!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),n&2&&c!==u){if(ir(n))return!1;s=!0}}}}return ir(n)||s}function ir(t){return(t&1)===0}function m3(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return g3(e,t)}function R1(t,e,i=!1){for(let n=0;n<e.length;n++)if(h3(t,e[n],i))return!0;return!1}function f3(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function p3(t){for(let e=0;e<t.length;e++){let i=t[e];if(k1(i))return e}return t.length}function g3(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function v3(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function Fk(t,e){return t?":not("+e.trim()+")":e}function _3(t){let e=t[0],i=1,n=2,r="",o=!1;for(;i<t.length;){let s=t[i];if(typeof s=="string")if(n&2){let a=t[++i];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!ir(s)&&(e+=Fk(o,r),r=""),n=s,o=o||!ir(n);i++}return r!==""&&(e+=Fk(o,r)),e}function b3(t){return t.map(_3).join(",")}function y3(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++n]):r===8&&i.push(o);else{if(!ir(r))break;r=o}n++}return{attrs:e,classes:i}}function X(t){return vu(()=>{let e=L1(t),i=pe(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===A1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Or.Emulated,styles:t.styles||sn,_:null,schemas:t.schemas||null,tView:null,id:""});V1(i);let n=t.dependencies;return i.directiveDefs=Ok(n,!1),i.pipeDefs=Ok(n,!0),i.id=E3(i),i})}function w3(t){return _o(t)||F1(t)}function x3(t){return t!==null}function j(t){return vu(()=>({type:t.type,bootstrap:t.bootstrap||sn,declarations:t.declarations||sn,imports:t.imports||sn,exports:t.exports||sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Pk(t,e){if(t==null)return Bl;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o,s,a=J.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(i[o]=a!==J.None?[n,a]:n,e[o]=s):i[o]=n}return i}function H(t){return vu(()=>{let e=L1(t);return V1(e),e})}function yu(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _o(t){return t[zz]||null}function F1(t){return t[$z]||null}function P1(t){return t[Hz]||null}function O1(t){let e=_o(t)||F1(t)||P1(t);return e!==null?e.standalone:!1}function N1(t,e){let i=t[Gz]||null;if(!i&&e===!0)throw new Error(`Type ${$i(t)} does not have '\u0275mod' property.`);return i}function L1(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bl,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pk(t.inputs,e),outputs:Pk(t.outputs),debugInfo:null}}function V1(t){t.features?.forEach(e=>e(t))}function Ok(t,e){if(!t)return null;let i=e?P1:w3;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(x3)}function E3(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yl(t){return{\u0275providers:t}}function I3(...t){return{\u0275providers:j1(!0,t),\u0275fromNgModule:!0}}function j1(t,...e){let i=[],n=new Set,r,o=s=>{i.push(s)};return gw(e,s=>{let a=s;l0(a,o,[],n)&&(r||=[],r.push(a))}),r!==void 0&&B1(r,o),i}function B1(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];_w(r,o=>{e(o,n)})}}function l0(t,e,i,n){if(t=zi(t),!t)return!1;let r=null,o=Tk(t),s=!o&&_o(t);if(!o&&!s){let l=t.ngModule;if(o=Tk(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)l0(c,e,i,n)}}else if(o){if(o.imports!=null&&!a){n.add(r);let c;try{gw(o.imports,d=>{l0(d,e,i,n)&&(c||=[],c.push(d))})}finally{}c!==void 0&&B1(c,e)}if(!a){let c=ua(r)||(()=>new r);e({provide:r,useFactory:c,deps:sn},r),e({provide:T1,useValue:r,multi:!0},r),e({provide:Ul,useValue:()=>g(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;_w(l,d=>{e(d,c)})}}else return!1;return r!==t&&t.providers!==void 0}function _w(t,e){for(let i of t)x1(i)&&(i=i.\u0275providers),Array.isArray(i)?_w(i,e):e(i)}var C3=ut({provide:String,useValue:ut});function U1(t){return t!==null&&typeof t=="object"&&C3 in t}function D3(t){return!!(t&&t.useExisting)}function S3(t){return!!(t&&t.useFactory)}function zl(t){return typeof t=="function"}function T3(t){return!!t.useClass}var Rp=new k(""),Jf={},A3={},$y;function Fp(){return $y===void 0&&($y=new cp),$y}var _i=class{},au=class extends _i{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,d0(e,s=>this.processProvider(s)),this.records.set(S1,Pl(void 0,this)),r.has("environment")&&this.records.set(_i,Pl(void 0,this));let o=this.records.get(Rp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(T1,sn,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=je(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),je(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=ns(this),n=on(void 0),r;try{return e()}finally{ns(i),on(n)}}get(e,i=ou,n=Ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kk))return e[kk](this);n=kp(n);let r,o=ns(this),s=on(void 0);try{if(!(n&Ne.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=P3(e)&&Ap(e);c&&this.injectableDefInScope(c)?l=Pl(c0(e),Jf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&Ne.Self?Fp():this.parent;return i=n&Ne.Optional&&i===ou?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[ap]=a[ap]||[]).unshift($i(e)),o)throw a;return t3(a,e,"R3InjectorError",this.source)}else throw a}finally{on(s),ns(o)}}resolveInjectorInitializers(){let e=je(null),i=ns(this),n=on(void 0),r;try{let o=this.get(Ul,sn,Ne.Self);for(let s of o)s()}finally{ns(i),on(n),je(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push($i(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=zi(e);let i=zl(e)?e:zi(e&&e.provide),n=M3(e);if(!zl(e)&&e.multi===!0){let r=this.records.get(i);r||(r=Pl(void 0,Jf,!0),r.factory=()=>s0(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=je(null);try{return i.value===Jf&&(i.value=A3,i.value=i.factory()),typeof i.value=="object"&&i.value&&F3(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{je(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=zi(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function c0(t){let e=Ap(t),i=e!==null?e.factory:ua(t);if(i!==null)return i;if(t instanceof k)throw new L(204,!1);if(t instanceof Function)return k3(t);throw new L(204,!1)}function k3(t){if(t.length>0)throw new L(204,!1);let i=Bz(t);return i!==null?()=>i.factory(t):()=>new t}function M3(t){if(U1(t))return Pl(void 0,t.useValue);{let e=z1(t);return Pl(e,Jf)}}function z1(t,e,i){let n;if(zl(t)){let r=zi(t);return ua(r)||c0(r)}else if(U1(t))n=()=>zi(t.useValue);else if(S3(t))n=()=>t.useFactory(...s0(t.deps||[]));else if(D3(t))n=()=>g(zi(t.useExisting));else{let r=zi(t&&(t.useClass||t.provide));if(R3(t))n=()=>new r(...s0(t.deps));else return ua(r)||c0(r)}return n}function Pl(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function R3(t){return!!t.deps}function F3(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function P3(t){return typeof t=="function"||typeof t=="object"&&t instanceof k}function d0(t,e){for(let i of t)Array.isArray(i)?d0(i,e):i&&x1(i)?d0(i.\u0275providers,e):e(i)}function lr(t,e){t instanceof au&&t.assertNotDestroyed();let i,n=ns(t),r=on(void 0);try{return e()}finally{ns(n),on(r)}}function $1(){return E1()!==void 0||Xz()!=null}function H1(t){if(!$1())throw new L(-203,!1)}function O3(t){let e=Bt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function N3(t){return typeof t=="function"}var Vr=0,xe=1,fe=2,bi=3,rr=4,mn=5,$l=6,lu=7,Ai=8,Hl=9,or=10,Ft=11,cu=12,Nk=13,Zl=14,Rn=15,wu=16,Ol=17,bo=18,Pp=19,G1=20,rs=21,ep=22,ha=23,yi=25,bw=1;var ma=7,dp=8,Gl=9,ki=10,yw=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yw||{});function ca(t){return Array.isArray(t)&&typeof t[bw]=="object"}function Eo(t){return Array.isArray(t)&&t[bw]===!0}function ww(t){return(t.flags&4)!==0}function Op(t){return t.componentOffset>-1}function Np(t){return(t.flags&1)===1}function yo(t){return!!t.template}function L3(t){return(t[fe]&512)!==0}var u0=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function q1(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function Ut(){return W1}function W1(t){return t.type.prototype.ngOnChanges&&(t.setInput=j3),V3}Ut.ngInherit=!0;function V3(){let t=K1(this),e=t?.current;if(e){let i=t.previous;if(i===Bl)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function j3(t,e,i,n,r){let o=this.declaredInputs[n],s=K1(t)||B3(t,{previous:Bl,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new u0(c&&c.currentValue,i,l===Bl),q1(t,e,r,i)}var Q1="__ngSimpleChanges__";function K1(t){return t[Q1]||null}function B3(t,e){return t[Q1]=e}var Lk=null;var Fr=function(t,e,i){Lk?.(t,e,i)},U3="svg",z3="math",$3=!1;function H3(){return $3}function Nr(t){for(;Array.isArray(t);)t=t[Vr];return t}function G3(t){for(;Array.isArray(t);){if(typeof t[bw]=="object")return t;t=t[Vr]}return null}function Y1(t,e){return Nr(e[t])}function Fn(t,e){return Nr(e[t.index])}function xw(t,e){return t.data[e]}function Ew(t,e){return t[e]}function as(t,e){let i=e[t];return ca(i)?i:i[Vr]}function q3(t){return(t[fe]&4)===4}function Iw(t){return(t[fe]&128)===128}function W3(t){return Eo(t[bi])}function ql(t,e){return e==null?null:t[e]}function Z1(t){t[Ol]=0}function Q3(t){t[fe]&1024||(t[fe]|=1024,Iw(t)&&du(t))}function K3(t,e){for(;t>0;)e=e[Zl],t--;return e}function Cw(t){return!!(t[fe]&9216||t[ha]?.dirty)}function h0(t){t[or].changeDetectionScheduler?.notify(1),Cw(t)?du(t):t[fe]&64&&(H3()?(t[fe]|=1024,du(t)):t[or].changeDetectionScheduler?.notify())}function du(t){t[or].changeDetectionScheduler?.notify();let e=uu(t);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!Iw(e)));)e=uu(e)}function X1(t,e){if((t[fe]&256)===256)throw new L(911,!1);t[rs]===null&&(t[rs]=[]),t[rs].push(e)}function Y3(t,e){if(t[rs]===null)return;let i=t[rs].indexOf(e);i!==-1&&t[rs].splice(i,1)}function uu(t){let e=t[bi];return Eo(e)?e[bi]:e}var Oe={lFrame:sM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Z3(){return Oe.lFrame.elementDepthCount}function X3(){Oe.lFrame.elementDepthCount++}function J3(){Oe.lFrame.elementDepthCount--}function J1(){return Oe.bindingsEnabled}function eM(){return Oe.skipHydrationRootTNode!==null}function e$(t){return Oe.skipHydrationRootTNode===t}function t$(){Oe.skipHydrationRootTNode=null}function Ee(){return Oe.lFrame.lView}function Pt(){return Oe.lFrame.tView}function Le(t){return Oe.lFrame.contextLView=t,t[Ai]}function Ve(t){return Oe.lFrame.contextLView=null,t}function Mi(){let t=tM();for(;t!==null&&t.type===64;)t=t.parent;return t}function tM(){return Oe.lFrame.currentTNode}function i$(){let t=Oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wa(t,e){let i=Oe.lFrame;i.currentTNode=t,i.isParent=e}function Dw(){return Oe.lFrame.isParent}function Sw(){Oe.lFrame.isParent=!1}function n$(){return Oe.lFrame.contextLView}function xu(){let t=Oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function r$(t){return Oe.lFrame.bindingIndex=t}function Xl(){return Oe.lFrame.bindingIndex++}function iM(t){let e=Oe.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function o$(){return Oe.lFrame.inI18n}function s$(t,e){let i=Oe.lFrame;i.bindingIndex=i.bindingRootIndex=t,m0(e)}function a$(){return Oe.lFrame.currentDirectiveIndex}function m0(t){Oe.lFrame.currentDirectiveIndex=t}function Tw(t){let e=Oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function nM(){return Oe.lFrame.currentQueryIndex}function Aw(t){Oe.lFrame.currentQueryIndex=t}function l$(t){let e=t[xe];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function rM(t,e,i){if(i&Ne.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(i&Ne.Host);)if(r=l$(o),r===null||(o=o[Zl],r.type&10))break;if(r===null)return!1;e=r,t=o}let n=Oe.lFrame=oM();return n.currentTNode=e,n.lView=t,!0}function kw(t){let e=oM(),i=t[xe];Oe.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function oM(){let t=Oe.lFrame,e=t===null?null:t.child;return e===null?sM(t):e}function sM(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aM(){let t=Oe.lFrame;return Oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lM=aM;function Mw(){let t=aM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function c$(t){return(Oe.lFrame.contextLView=K3(t,Oe.lFrame.contextLView))[Ai]}function ls(){return Oe.lFrame.selectedIndex}function fa(t){Oe.lFrame.selectedIndex=t}function Lp(){let t=Oe.lFrame;return xw(t.tView,t.selectedIndex)}function d$(){return Oe.lFrame.currentNamespace}var cM=!0;function Vp(){return cM}function jp(t){cM=t}function u$(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(n){let s=W1(e);(i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s)}r&&(i.preOrderHooks??=[]).push(0-t,r),o&&((i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o))}function Bp(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let o=t.data[i].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-i,s),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),l&&(t.viewHooks??=[]).push(-i,l),c&&((t.viewHooks??=[]).push(i,c),(t.viewCheckHooks??=[]).push(i,c)),d!=null&&(t.destroyHooks??=[]).push(i,d)}}function tp(t,e,i){dM(t,e,3,i)}function ip(t,e,i,n){(t[fe]&3)===i&&dM(t,e,i,n)}function Hy(t,e){let i=t[fe];(i&3)===e&&(i&=16383,i+=1,t[fe]=i)}function dM(t,e,i,n){let r=n!==void 0?t[Ol]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[Ol]+=65536),(a<o||o==-1)&&(h$(t,i,e,l),t[Ol]=(t[Ol]&4294901760)+l+2),l++}function Vk(t,e){Fr(4,t,e);let i=je(null);try{e.call(t)}finally{je(i),Fr(5,t,e)}}function h$(t,e,i,n){let r=i[n]<0,o=i[n+1],s=r?-i[n]:i[n],a=t[s];r?t[fe]>>14<t[Ol]>>16&&(t[fe]&3)===e&&(t[fe]+=16384,Vk(a,o)):Vk(a,o)}var jl=-1,pa=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function m$(t){return t instanceof pa}function f$(t){return(t.flags&8)!==0}function p$(t){return(t.flags&16)!==0}function uM(t){return t!==jl}function up(t){return t&32767}function g$(t){return t>>16}function hp(t,e){let i=g$(t),n=e;for(;i>0;)n=n[Zl],i--;return n}var f0=!0;function mp(t){let e=f0;return f0=t,e}var v$=256,hM=v$-1,mM=5,_$=0,Pr={};function b$(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(nu)&&(n=i[nu]),n==null&&(n=i[nu]=_$++);let r=n&hM,o=1<<r;e.data[t+(r>>mM)]|=o}function fp(t,e){let i=fM(t,e);if(i!==-1)return i;let n=e[xe];n.firstCreatePass&&(t.injectorIndex=e.length,Gy(n.data,t),Gy(e,null),Gy(n.blueprint,null));let r=Rw(t,e),o=t.injectorIndex;if(uM(r)){let s=up(r),a=hp(r,e),l=a[xe].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Gy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fM(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rw(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=bM(r),n===null)return jl;if(i++,r=r[Zl],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return jl}function p0(t,e,i){b$(t,e,i)}function y$(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let o=i[r];if(k1(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(o===e)return i[r+1];r=r+2}}}return null}function pM(t,e,i){if(i&Ne.Optional||t!==void 0)return t;pw(e,"NodeInjector")}function gM(t,e,i,n){if(i&Ne.Optional&&n===void 0&&(n=null),!(i&(Ne.Self|Ne.Host))){let r=t[Hl],o=on(void 0);try{return r?r.get(e,n,i&Ne.Optional):I1(e,n,i&Ne.Optional)}finally{on(o)}}return pM(n,e,i)}function vM(t,e,i,n=Ne.Default,r){if(t!==null){if(e[fe]&2048&&!(n&Ne.Self)){let s=I$(t,e,i,n,Pr);if(s!==Pr)return s}let o=_M(t,e,i,n,Pr);if(o!==Pr)return o}return gM(e,i,n,r)}function _M(t,e,i,n,r){let o=x$(i);if(typeof o=="function"){if(!rM(e,t,n))return n&Ne.Host?pM(r,i,n):gM(e,i,n,r);try{let s;if(s=o(n),s==null&&!(n&Ne.Optional))pw(i);else return s}finally{lM()}}else if(typeof o=="number"){let s=null,a=fM(t,e),l=jl,c=n&Ne.Host?e[Rn][mn]:null;for((a===-1||n&Ne.SkipSelf)&&(l=a===-1?Rw(t,e):e[a+8],l===jl||!Bk(n,!1)?a=-1:(s=e[xe],a=up(l),e=hp(l,e)));a!==-1;){let d=e[xe];if(jk(o,a,d.data)){let u=w$(a,e,i,s,n,c);if(u!==Pr)return u}l=e[a+8],l!==jl&&Bk(n,e[xe].data[a+8]===c)&&jk(o,a,e)?(s=d,a=up(l),e=hp(l,e)):a=-1}}return r}function w$(t,e,i,n,r,o){let s=e[xe],a=s.data[t+8],l=n==null?Op(a)&&f0:n!=s&&(a.type&3)!==0,c=r&Ne.Host&&o===a,d=np(a,s,i,l,c);return d!==null?ga(e,s,d,a):Pr}function np(t,e,i,n,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,d=o>>20,u=n?a:a+d,h=r?a+d:c;for(let m=u;m<h;m++){let p=s[m];if(m<l&&i===p||m>=l&&p.type===i)return m}if(r){let m=s[l];if(m&&yo(m)&&m.type===i)return l}return null}function ga(t,e,i,n){let r=t[i],o=e.data;if(m$(r)){let s=r;s.resolving&&Wz(qz(o[i]));let a=mp(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?on(s.injectImpl):null,d=rM(t,n,Ne.Default);try{r=t[i]=s.factory(void 0,o,t,n),e.firstCreatePass&&i>=n.directiveStart&&u$(i,o[i],e)}finally{c!==null&&on(c),mp(a),s.resolving=!1,lM()}}return r}function x$(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(nu)?t[nu]:void 0;return typeof e=="number"?e>=0?e&hM:E$:e}function jk(t,e,i){let n=1<<t;return!!(i[e+(t>>mM)]&n)}function Bk(t,e){return!(t&Ne.Self)&&!(t&Ne.Host&&e)}var da=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return vM(this._tNode,this._lView,e,kp(n),i)}};function E$(){return new da(Mi(),Ee())}function _t(t){return vu(()=>{let e=t.prototype.constructor,i=e[sp]||g0(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let o=r[sp]||g0(r);if(o&&o!==i)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function g0(t){return _1(t)?()=>{let e=g0(zi(t));return e&&e()}:ua(t)}function I$(t,e,i,n,r){let o=t,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let a=_M(o,s,i,n|Ne.Self,Pr);if(a!==Pr)return a;let l=o.parent;if(!l){let c=s[G1];if(c){let d=c.get(i,Pr,n);if(d!==Pr)return d}l=bM(s),s=s[Zl]}o=l}return r}function bM(t){let e=t[xe],i=e.type;return i===2?e.declTNode:i===1?t[mn]:null}function Jl(t){return y$(Mi(),t)}function Uk(t,e=null,i=null,n){let r=yM(t,e,i,n);return r.resolveInjectorInitializers(),r}function yM(t,e=null,i=null,n,r=new Set){let o=[i||sn,I3(t)];return n=n||(typeof t=="object"?void 0:$i(t)),new au(o,e||Fp(),n||null,r)}var bt=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return Uk({name:""},r,n,"");{let o=n.name??"";return Uk({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=ou,e.NULL=new cp,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>g(S1)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var C$="ngOriginalError";function qy(t){return t[C$]}var Hi=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&qy(e);for(;i&&qy(i);)i=qy(i);return i||null}},wM=new k("",{providedIn:"root",factory:()=>A(Hi).handleError.bind(void 0)}),Up=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=D$,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),v0=class extends Up{constructor(e){super(),this._lView=e}onDestroy(e){return X1(this._lView,e),()=>Y3(this._lView,e)}};function D$(){return new v0(Ee())}function S$(){return ec(Mi(),Ee())}function ec(t,e){return new K(Fn(t,e))}var K=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=S$;let t=e;return t})();function T$(t){return t instanceof K?t.nativeElement:t}var _0=class extends W{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,$1()&&(this.destroyRef=A(Up,{optional:!0})??void 0)}emit(e){let i=je(null);try{super.next(e)}finally{je(i)}}subscribe(e,i,n){let r=e,o=i||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Wy(o),r&&(r=Wy(r)),s&&(s=Wy(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ye&&e.add(a),a}};function Wy(t){return e=>{setTimeout(t,void 0,e)}}var Te=_0;function A$(){return this._results[Symbol.iterator]()}var hn=class t{get changes(){return this._changes??=new Te}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=A$)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=r3(e);(this._changesDetected=!n3(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function xM(t){return(t.flags&128)===128}var EM=new Map,k$=0;function M$(){return k$++}function R$(t){EM.set(t[Pp],t)}function F$(t){EM.delete(t[Pp])}var zk="__ngContext__";function os(t,e){ca(e)?(t[zk]=e[Pp],R$(e)):t[zk]=e}function IM(t){return DM(t[cu])}function CM(t){return DM(t[rr])}function DM(t){for(;t!==null&&!Eo(t);)t=t[rr];return t}var b0;function SM(t){b0=t}function TM(){if(b0!==void 0)return b0;if(typeof document<"u")return document;throw new L(210,!1)}var tc=new k("",{providedIn:"root",factory:()=>P$}),P$="ng",Fw=new k(""),st=new k("",{providedIn:"platform",factory:()=>"unknown"});var li=new k(""),Eu=new k("",{providedIn:"root",factory:()=>TM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var O$="h",N$="b";var L$=()=>null;function Pw(t,e,i=!1){return L$(t,e,i)}var AM=!1,V$=new k("",{providedIn:"root",factory:()=>AM});var Wf;function j$(){if(Wf===void 0&&(Wf=null,Bt.trustedTypes))try{Wf=Bt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wf}function zp(t){return j$()?.createHTML(t)||t}var Qf;function kM(){if(Qf===void 0&&(Qf=null,Bt.trustedTypes))try{Qf=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qf}function $k(t){return kM()?.createHTML(t)||t}function Hk(t){return kM()?.createScriptURL(t)||t}var wo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${g1})`}},y0=class extends wo{getTypeName(){return"HTML"}},w0=class extends wo{getTypeName(){return"Style"}},x0=class extends wo{getTypeName(){return"Script"}},E0=class extends wo{getTypeName(){return"URL"}},I0=class extends wo{getTypeName(){return"ResourceURL"}};function Pn(t){return t instanceof wo?t.changingThisBreaksApplicationSecurity:t}function Io(t,e){let i=B$(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${g1})`)}return i===e}function B$(t){return t instanceof wo&&t.getTypeName()||null}function MM(t){return new y0(t)}function RM(t){return new w0(t)}function FM(t){return new x0(t)}function PM(t){return new E0(t)}function OM(t){return new I0(t)}function U$(t){let e=new D0(t);return z$()?new C0(e):e}var C0=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(zp(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},D0=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=zp(e),i}};function z$(){try{return!!new window.DOMParser().parseFromString(zp(""),"text/html")}catch{return!1}}var $$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $p(t){return t=String(t),t.match($$)?t:"unsafe:"+t}function Co(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function Iu(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var NM=Co("area,br,col,hr,img,wbr"),LM=Co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),VM=Co("rp,rt"),H$=Iu(VM,LM),G$=Iu(LM,Co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),q$=Iu(VM,Co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gk=Iu(NM,G$,q$,H$),jM=Co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),W$=Co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Q$=Co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),K$=Iu(jM,W$,Q$),Y$=Co("script,style,template"),S0=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=J$(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let o=X$(i);if(o){i=o;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=qk(e).toLowerCase();if(!Gk.hasOwnProperty(i))return this.sanitizedSomething=!0,!Y$.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),s=o.name,a=s.toLowerCase();if(!K$.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;jM[a]&&(l=$p(l)),this.buf.push(" ",s,'="',Wk(l),'"')}return this.buf.push(">"),!0}endElement(e){let i=qk(e).toLowerCase();Gk.hasOwnProperty(i)&&!NM.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(Wk(e))}};function Z$(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function X$(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw BM(e);return e}function J$(t){let e=t.firstChild;if(e&&Z$(t,e))throw BM(e);return e}function qk(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function BM(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var eH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tH=/([^\#-~ |!])/g;function Wk(t){return t.replace(/&/g,"&amp;").replace(eH,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(tH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Kf;function Ow(t,e){let i=null;try{Kf=Kf||U$(t);let n=e?String(e):"";i=Kf.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=i.innerHTML,i=Kf.getInertBodyElement(n)}while(n!==o);let a=new S0().sanitizeChildren(Qk(i)||i);return zp(a)}finally{if(i){let n=Qk(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Qk(t){return"content"in t&&iH(t)?t.content:null}function iH(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var zt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zt||{});function Nw(t){let e=Lw();return e?$k(e.sanitize(zt.HTML,t)||""):Io(t,"HTML")?$k(Pn(t)):Ow(TM(),_u(t))}function cr(t){let e=Lw();return e?e.sanitize(zt.URL,t)||"":Io(t,"URL")?Pn(t):$p(_u(t))}function nH(t){let e=Lw();if(e)return Hk(e.sanitize(zt.RESOURCE_URL,t)||"");if(Io(t,"ResourceURL"))return Hk(Pn(t));throw new L(904,!1)}function rH(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nH:cr}function UM(t,e,i){return rH(e,i)(t)}function Lw(){let t=Ee();return t&&t[or].sanitizer}var oH=/^>|^->|<!--|-->|--!>|<!-$/g,sH=/(<|>)/g,aH="\u200B$1\u200B";function lH(t){return t.replace(oH,e=>e.replace(sH,aH))}function zM(t){return t instanceof Function?t():t}function cH(t){return(t??A(bt)).get(st)==="browser"}var Lr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Lr||{}),dH;function Vw(t,e){return dH(t,e)}function Nl(t,e,i,n,r){if(n!=null){let o,s=!1;Eo(n)?o=n:ca(n)&&(s=!0,n=n[Vr]);let a=Nr(n);t===0&&i!==null?r==null?WM(e,i,a):pp(e,i,a,r||null,!0):t===1&&i!==null?pp(e,i,a,r||null,!0):t===2?DH(e,a,s):t===3&&e.destroyNode(a),o!=null&&TH(e,t,o,i,r)}}function uH(t,e){return t.createText(e)}function hH(t,e,i){t.setValue(e,i)}function mH(t,e){return t.createComment(lH(e))}function $M(t,e,i){return t.createElement(e,i)}function fH(t,e){HM(t,e),e[Vr]=null,e[mn]=null}function pH(t,e,i,n,r,o){n[Vr]=r,n[mn]=e,qp(t,n,i,1,r,o)}function HM(t,e){e[or].changeDetectionScheduler?.notify(1),qp(t,e,e[Ft],2,null,null)}function gH(t){let e=t[cu];if(!e)return Qy(t[xe],t);for(;e;){let i=null;if(ca(e))i=e[cu];else{let n=e[ki];n&&(i=n)}if(!i){for(;e&&!e[rr]&&e!==t;)ca(e)&&Qy(e[xe],e),e=e[bi];e===null&&(e=t),ca(e)&&Qy(e[xe],e),i=e&&e[rr]}e=i}}function vH(t,e,i,n){let r=ki+n,o=i.length;n>0&&(i[r-1][rr]=e),n<o-ki?(e[rr]=i[r],D1(i,ki+n,e)):(i.push(e),e[rr]=null),e[bi]=i;let s=e[wu];s!==null&&i!==s&&_H(s,e);let a=e[bo];a!==null&&a.insertView(t),h0(e),e[fe]|=128}function _H(t,e){let i=t[Gl],r=e[bi][bi][Rn];e[Rn]!==r&&(t[fe]|=yw.HasTransplantedViews),i===null?t[Gl]=[e]:i.push(e)}function GM(t,e){let i=t[Gl],n=i.indexOf(e);i.splice(n,1)}function hu(t,e){if(t.length<=ki)return;let i=ki+e,n=t[i];if(n){let r=n[wu];r!==null&&r!==t&&GM(r,n),e>0&&(t[i-1][rr]=n[rr]);let o=lp(t,ki+e);fH(n[xe],n);let s=o[bo];s!==null&&s.detachView(o[xe]),n[bi]=null,n[rr]=null,n[fe]&=-129}return n}function Hp(t,e){if(!(e[fe]&256)){let i=e[Ft];i.destroyNode&&qp(t,e,i,3,null,null),gH(e)}}function Qy(t,e){if(e[fe]&256)return;let i=je(null);try{e[fe]&=-129,e[fe]|=256,e[ha]&&Cy(e[ha]),yH(t,e),bH(t,e),e[xe].type===1&&e[Ft].destroy();let n=e[wu];if(n!==null&&Eo(e[bi])){n!==e[bi]&&GM(n,e);let r=e[bo];r!==null&&r.detachView(t)}F$(e)}finally{je(i)}}function bH(t,e){let i=t.cleanup,n=e[lu];if(i!==null)for(let o=0;o<i.length-1;o+=2)if(typeof i[o]=="string"){let s=i[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[i[o+1]];i[o].call(s)}n!==null&&(e[lu]=null);let r=e[rs];if(r!==null){e[rs]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function yH(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof pa)){let o=i[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Fr(4,a,l);try{l.call(a)}finally{Fr(5,a,l)}}else{Fr(4,r,o);try{o.call(r)}finally{Fr(5,r,o)}}}}}function qM(t,e,i){return wH(t,e.parent,i)}function wH(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[Vr];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=t.data[n.directiveStart+r];if(o===Or.None||o===Or.Emulated)return null}return Fn(n,i)}}function pp(t,e,i,n,r){t.insertBefore(e,i,n,r)}function WM(t,e,i){t.appendChild(e,i)}function Kk(t,e,i,n,r){n!==null?pp(t,e,i,n,r):WM(t,e,i)}function xH(t,e,i,n){t.removeChild(e,i,n)}function jw(t,e){return t.parentNode(e)}function EH(t,e){return t.nextSibling(e)}function QM(t,e,i){return CH(t,e,i)}function IH(t,e,i){return t.type&40?Fn(t,i):null}var CH=IH,Yk;function Gp(t,e,i,n){let r=qM(t,n,e),o=e[Ft],s=n.parent||e[mn],a=QM(s,n,e);if(r!=null)if(Array.isArray(i))for(let l=0;l<i.length;l++)Kk(o,r,i[l],a,!1);else Kk(o,r,i,a,!1);Yk!==void 0&&Yk(o,n,e,i,r)}function rp(t,e){if(e!==null){let i=e.type;if(i&3)return Fn(e,t);if(i&4)return T0(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return rp(t,n);{let r=t[e.index];return Eo(r)?T0(-1,r):Nr(r)}}else{if(i&32)return Vw(e,t)()||Nr(t[e.index]);{let n=KM(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=uu(t[Rn]);return rp(r,n)}else return rp(t,e.next)}}}return null}function KM(t,e){if(e!==null){let n=t[Rn][mn],r=e.projection;return n.projection[r]}return null}function T0(t,e){let i=ki+t+1;if(i<e.length){let n=e[i],r=n[xe].firstChild;if(r!==null)return rp(n,r)}return e[ma]}function DH(t,e,i){let n=jw(t,e);n&&xH(t,n,e,i)}function Bw(t,e,i,n,r,o,s){for(;i!=null;){let a=n[i.index],l=i.type;if(s&&e===0&&(a&&os(Nr(a),n),i.flags|=2),(i.flags&32)!==32)if(l&8)Bw(t,e,i.child,n,r,o,!1),Nl(e,t,r,a,o);else if(l&32){let c=Vw(i,n),d;for(;d=c();)Nl(e,t,r,d,o);Nl(e,t,r,a,o)}else l&16?YM(t,e,n,i,r,o):Nl(e,t,r,a,o);i=s?i.projectionNext:i.next}}function qp(t,e,i,n,r,o){Bw(i,n,t.firstChild,e,r,o,!1)}function SH(t,e,i){let n=e[Ft],r=qM(t,i,e),o=i.parent||e[mn],s=QM(o,i,e);YM(n,0,e,i,r,s)}function YM(t,e,i,n,r,o){let s=i[Rn],l=s[mn].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Nl(e,t,r,d,o)}else{let c=l,d=s[bi];xM(n)&&(c.flags|=128),Bw(t,e,c,d,r,o,!0)}}function TH(t,e,i,n,r){let o=i[ma],s=Nr(i);o!==s&&Nl(e,t,n,o,r);for(let a=ki;a<i.length;a++){let l=i[a];qp(l[xe],l,t,e,n,o)}}function AH(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let o=n.indexOf("-")===-1?void 0:Lr.DashCase;r==null?t.removeStyle(i,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Lr.Important),t.setStyle(i,n,r,o))}}function kH(t,e,i){t.setAttribute(e,"style",i)}function ZM(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function XM(t,e,i){let{mergedAttrs:n,classes:r,styles:o}=i;n!==null&&a0(t,e,n),r!==null&&ZM(t,e,r),o!==null&&kH(t,e,o)}var dr={};function w(t=1){JM(Pt(),Ee(),ls()+t,!1)}function JM(t,e,i,n){if(!n)if((e[fe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&tp(e,o,i)}else{let o=t.preOrderHooks;o!==null&&ip(e,o,0,i)}fa(i)}function f(t,e=Ne.Default){let i=Ee();if(i===null)return g(t,e);let n=Mi();return vM(n,i,zi(t),e)}function Cu(){let t="invalid";throw new Error(t)}function eR(t,e,i,n,r,o){let s=je(null);try{let a=null;r&J.SignalBased&&(a=e[n][vf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&J.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,i,n):q1(e,a,n,o)}finally{je(s)}}function MH(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)fa(~r);else{let o=r,s=i[++n],a=i[++n];s$(s,o);let l=e[o];a(2,l)}}}finally{fa(-1)}}function Wp(t,e,i,n,r,o,s,a,l,c,d){let u=e.blueprint.slice();return u[Vr]=r,u[fe]=n|4|128|8|64,(c!==null||t&&t[fe]&2048)&&(u[fe]|=2048),Z1(u),u[bi]=u[Zl]=t,u[Ai]=i,u[or]=s||t&&t[or],u[Ft]=a||t&&t[Ft],u[Hl]=l||t&&t[Hl]||null,u[mn]=o,u[Pp]=M$(),u[$l]=d,u[G1]=c,u[Rn]=e.type==2?t[Rn]:u,u}function ic(t,e,i,n,r){let o=t.data[e];if(o===null)o=RH(t,e,i,n,r),o$()&&(o.flags|=32);else if(o.type&64){o.type=i,o.value=n,o.attrs=r;let s=i$();o.injectorIndex=s===null?-1:s.injectorIndex}return wa(o,!0),o}function RH(t,e,i,n,r){let o=tM(),s=Dw(),a=s?o:o&&o.parent,l=t.data[e]=VH(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function tR(t,e,i,n){if(i===0)return-1;let r=e.length;for(let o=0;o<i;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function iR(t,e,i,n,r){let o=ls(),s=n&2;try{fa(-1),s&&e.length>yi&&JM(t,e,yi,!1),Fr(s?2:0,r),i(n,r)}finally{fa(o),Fr(s?3:1,r)}}function Uw(t,e,i){if(ww(e)){let n=je(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=i[s];a.contentQueries(1,l,s)}}}finally{je(n)}}}function zw(t,e,i){J1()&&(HH(t,e,i,Fn(i,e)),(i.flags&64)===64&&oR(t,e,i))}function $w(t,e,i=Fn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?i(e,t):t[s];t[r++]=a}}}function nR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hw(t,e,i,n,r,o,s,a,l,c,d){let u=yi+n,h=u+r,m=FH(u,h),p=typeof c=="function"?c():c;return m[xe]={type:t,blueprint:m,template:i,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:d}}function FH(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:dr);return i}function PH(t,e,i,n){let o=n.get(V$,AM)||i===Or.ShadowDom,s=t.selectRootElement(e,o);return OH(s),s}function OH(t){NH(t)}var NH=()=>null;function LH(t,e,i,n){let r=lR(e);r.push(i),t.firstCreatePass&&cR(t).push(n,r.length-1)}function VH(t,e,i,n,r,o){let s=e?e.injectorIndex:-1,a=0;return eM()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zk(t,e,i,n,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=J.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}t===0?Xk(n,i,c,a,l):Xk(n,i,c,a)}return n}function Xk(t,e,i,n,r){let o;t.hasOwnProperty(i)?(o=t[i]).push(e,n):o=t[i]=[e,n],r!==void 0&&o.push(r)}function jH(t,e,i){let n=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let d=n;d<r;d++){let u=o[d],h=i?i.get(u):null,m=h?h.inputs:null,p=h?h.outputs:null;l=Zk(0,u.inputs,d,l,m),c=Zk(1,u.outputs,d,c,p);let _=l!==null&&s!==null&&!vw(e)?t5(l,d,s):null;a.push(_)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function BH(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gw(t,e,i,n,r,o,s,a){let l=Fn(e,i),c=e.inputs,d;!a&&c!=null&&(d=c[n])?(Ww(t,i,d,n,r),Op(e)&&UH(i,e.index)):e.type&3?(n=BH(n),r=s!=null?s(r,e.value||"",n):r,o.setProperty(l,n,r)):e.type&12}function UH(t,e){let i=as(e,t);i[fe]&16||(i[fe]|=64)}function qw(t,e,i,n){if(J1()){let r=n===null?null:{"":-1},o=qH(t,i),s,a;o===null?s=a=null:[s,a]=o,s!==null&&rR(t,e,i,s,r,a),r&&WH(i,n,r)}i.mergedAttrs=su(i.mergedAttrs,i.attrs)}function rR(t,e,i,n,r,o){for(let c=0;c<n.length;c++)p0(fp(i,e),t,n[c].type);KH(i,t.data.length,n.length);for(let c=0;c<n.length;c++){let d=n[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=tR(t,e,n.length,null);for(let c=0;c<n.length;c++){let d=n[c];i.mergedAttrs=su(i.mergedAttrs,d.hostAttrs),YH(t,i,e,l,d),QH(l,d,r),d.contentQueries!==null&&(i.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(i.flags|=64);let u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}jH(t,i,o)}function zH(t,e,i,n,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;$H(s)!=a&&s.push(a),s.push(i,n,o)}}function $H(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function HH(t,e,i,n){let r=i.directiveStart,o=i.directiveEnd;Op(i)&&ZH(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||fp(i,e),os(n,e);let s=i.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],c=ga(e,t,a,i);if(os(c,e),s!==null&&e5(e,a-r,c,l,i,s),yo(l)){let d=as(i.index,e);d[Ai]=ga(e,t,a,i)}}}function oR(t,e,i){let n=i.directiveStart,r=i.directiveEnd,o=i.index,s=a$();try{fa(o);for(let a=n;a<r;a++){let l=t.data[a],c=e[a];m0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&GH(l,c)}}finally{fa(-1),m0(s)}}function GH(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qH(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let o=0;o<i.length;o++){let s=i[o];if(R1(e,s.selectors,!1))if(n||(n=[]),yo(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s);let l=a.length;A0(t,e,l)}else n.unshift(s),A0(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return n===null?null:[n,r]}function A0(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function WH(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=i[e[r+1]];if(o==null)throw new L(-301,!1);n.push(e[r],o)}}}function QH(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;yo(e)&&(i[""]=t)}}function KH(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function YH(t,e,i,n,r){t.data[n]=r;let o=r.factory||(r.factory=ua(r.type,!0)),s=new pa(o,yo(r),f);t.blueprint[n]=s,i[n]=s,zH(t,e,n,tR(t,i,r.hostVars,dr),r)}function ZH(t,e,i){let n=Fn(e,t),r=nR(i),o=t[or].rendererFactory,s=16;i.signals?s=4096:i.onPush&&(s=64);let a=Qp(t,Wp(t,r,null,s,n,e,null,o.createRenderer(n,i),null,null,null));t[e.index]=a}function XH(t,e,i,n,r,o){let s=Fn(t,e);JH(e[Ft],s,o,t.value,i,n,r)}function JH(t,e,i,n,r,o,s){if(o==null)t.removeAttribute(e,r,i);else{let a=s==null?_u(o):s(o,n||"",r);t.setAttribute(e,r,a,i)}}function e5(t,e,i,n,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],d=s[a++],u=s[a++];eR(n,i,l,c,d,u)}}function t5(t,e,i){let n=null,r=0;for(;r<i.length;){let o=i[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],i[r+1]);break}}r+=2}return n}function sR(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function aR(t,e){let i=t.contentQueries;if(i!==null){let n=je(null);try{for(let r=0;r<i.length;r+=2){let o=i[r],s=i[r+1];if(s!==-1){let a=t.data[s];Aw(o),a.contentQueries(2,e[s],s)}}}finally{je(n)}}}function Qp(t,e){return t[cu]?t[Nk][rr]=e:t[cu]=e,t[Nk]=e,e}function k0(t,e,i){Aw(0);let n=je(null);try{e(t,i)}finally{je(n)}}function lR(t){return t[lu]||(t[lu]=[])}function cR(t){return t.cleanup||(t.cleanup=[])}function dR(t,e,i){return(t===null||yo(t))&&(i=G3(i[e.index])),i[Ft]}function uR(t,e){let i=t[Hl],n=i?i.get(Hi,null):null;n&&n.handleError(e)}function Ww(t,e,i,n,r){for(let o=0;o<i.length;){let s=i[o++],a=i[o++],l=i[o++],c=e[s],d=t.data[s];eR(d,c,n,a,l,r)}}function i5(t,e,i){let n=Y1(e,t);hH(t[Ft],n,i)}function n5(t,e){let i=as(e,t),n=i[xe];r5(n,i);let r=i[Vr];r!==null&&i[$l]===null&&(i[$l]=Pw(r,i[Hl])),Qw(n,i,i[Ai])}function r5(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function Qw(t,e,i){kw(e);try{let n=t.viewQuery;n!==null&&k0(1,n,i);let r=t.template;r!==null&&iR(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[bo]?.finishViewCreation(t),t.staticContentQueries&&aR(t,e),t.staticViewQueries&&k0(2,t.viewQuery,i);let o=t.components;o!==null&&o5(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[fe]&=-5,Mw()}}function o5(t,e){for(let i=0;i<e.length;i++)n5(t,e[i])}function Kp(t,e,i,n){let r=je(null);try{let o=e.tView,a=t[fe]&4096?4096:16,l=Wp(t,o,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=t[e.index];l[wu]=c;let d=t[bo];return d!==null&&(l[bo]=d.createEmbeddedView(o)),Qw(o,l,i),l}finally{je(r)}}function hR(t,e){let i=ki+e;if(i<t.length)return t[i]}function mu(t,e){return!e||e.firstChild===null||xM(t)}function Yp(t,e,i,n=!0){let r=e[xe];if(vH(r,e,t,i),n){let s=T0(i,t),a=e[Ft],l=jw(a,t[ma]);l!==null&&pH(r,t[mn],a,e,l,s)}let o=e[$l];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mR(t,e){let i=hu(t,e);return i!==void 0&&Hp(i[xe],i),i}function gp(t,e,i,n,r=!1){for(;i!==null;){let o=e[i.index];o!==null&&n.push(Nr(o)),Eo(o)&&s5(o,n);let s=i.type;if(s&8)gp(t,e,i.child,n);else if(s&32){let a=Vw(i,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=KM(e,i);if(Array.isArray(a))n.push(...a);else{let l=uu(e[Rn]);gp(l[xe],l,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function s5(t,e){for(let i=ki;i<t.length;i++){let n=t[i],r=n[xe].firstChild;r!==null&&gp(n[xe],n,r,e)}t[ma]!==t[Vr]&&e.push(t[ma])}var fR=[];function a5(t){return t[ha]??l5(t)}function l5(t){let e=fR.pop()??Object.create(d5);return e.lView=t,e}function c5(t){t.lView[ha]!==t&&(t.lView=null,fR.push(t))}var d5=pe(T({},xy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{du(t.lView)},consumerOnSignalRead(){this.lView[ha]=this}}),pR=100;function gR(t,e=!0,i=0){let n=t[or],r=n.rendererFactory,o=!1;o||r.begin?.();try{u5(t,i)}catch(s){throw e&&uR(t,s),s}finally{o||(r.end?.(),n.inlineEffectRunner?.flush())}}function u5(t,e){M0(t,e);let i=0;for(;Cw(t);){if(i===pR)throw new L(103,!1);i++,M0(t,1)}}function h5(t,e,i,n){let r=e[fe];if((r&256)===256)return;let o=!1;!o&&e[or].inlineEffectRunner?.flush(),kw(e);let s=null,a=null;!o&&m5(t)&&(a=a5(e),s=Ey(a));try{Z1(e),r$(t.bindingStartIndex),i!==null&&iR(t,e,i,2,n);let l=(r&3)===3;if(!o)if(l){let u=t.preOrderCheckHooks;u!==null&&tp(e,u,null)}else{let u=t.preOrderHooks;u!==null&&ip(e,u,0,null),Hy(e,0)}if(f5(e),vR(e,0),t.contentQueries!==null&&aR(t,e),!o)if(l){let u=t.contentCheckHooks;u!==null&&tp(e,u)}else{let u=t.contentHooks;u!==null&&ip(e,u,1),Hy(e,1)}MH(t,e);let c=t.components;c!==null&&bR(e,c,0);let d=t.viewQuery;if(d!==null&&k0(2,d,n),!o)if(l){let u=t.viewCheckHooks;u!==null&&tp(e,u)}else{let u=t.viewHooks;u!==null&&ip(e,u,2),Hy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ep]){for(let u of e[ep])u();e[ep]=null}o||(e[fe]&=-73)}catch(l){throw du(e),l}finally{a!==null&&(Iy(a,s),c5(a)),Mw()}}function m5(t){return t.type!==2}function vR(t,e){for(let i=IM(t);i!==null;i=CM(i))for(let n=ki;n<i.length;n++){let r=i[n];_R(r,e)}}function f5(t){for(let e=IM(t);e!==null;e=CM(e)){if(!(e[fe]&yw.HasTransplantedViews))continue;let i=e[Gl];for(let n=0;n<i.length;n++){let r=i[n],o=r[bi];Q3(r)}}}function p5(t,e,i){let n=as(e,t);_R(n,i)}function _R(t,e){Iw(t)&&M0(t,e)}function M0(t,e){let n=t[xe],r=t[fe],o=t[ha],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&_f(o)),o&&(o.dirty=!1),t[fe]&=-9217,s)h5(n,t,n.template,t[Ai]);else if(r&8192){vR(t,1);let a=n.components;a!==null&&bR(t,a,1)}}function bR(t,e,i){for(let n=0;n<e.length;n++)p5(t,e[n],i)}function Kw(t){for(t[or].changeDetectionScheduler?.notify();t;){t[fe]|=64;let e=uu(t);if(L3(t)&&!e)return t;t=e}return null}var va=class{get rootNodes(){let e=this._lView,i=e[xe];return gp(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ai]}set context(e){this._lView[Ai]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bi];if(Eo(e)){let i=e[dp],n=i?i.indexOf(this):-1;n>-1&&(hu(e,n),lp(i,n))}this._attachedToViewContainer=!1}Hp(this._lView[xe],this._lView)}onDestroy(e){X1(this._lView,e)}markForCheck(){Kw(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-129}reattach(){h0(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,gR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,HM(this._lView[xe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e,h0(this._lView)}},ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_5;let t=e;return t})(),g5=ai,v5=class extends g5{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=Kp(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new va(r)}};function _5(){return Zp(Mi(),Ee())}function Zp(t,e){return t.type&4?new v5(e,t,ec(t,e)):null}var Fhe=new RegExp(`^(\\d+)*(${N$}|${O$})*(.*)`);var b5=()=>null;function fu(t,e){return b5(t,e)}var Wl=class{},R0=class{},vp=class{};function y5(t){let e=Error(`No component factory found for ${$i(t)}.`);return e[w5]=t,e}var w5="ngComponent";var F0=class{resolveComponentFactory(e){throw y5(e)}},jr=(()=>{let e=class e{};e.NULL=new F0;let t=e;return t})(),_a=class{},Gi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>x5();let t=e;return t})();function x5(){let t=Ee(),e=Mi(),i=as(e.index,t);return(ca(i)?i:t)[Ft]}var E5=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ky={};var Jk=new Set;function cs(t){Jk.has(t)||(Jk.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function e1(...t){}function I5(){let t=typeof Bt.requestAnimationFrame=="function",e=Bt[t?"requestAnimationFrame":"setTimeout"],i=Bt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var U=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=I5().nativeRequestAnimationFrame,S5(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,C5,e1,e1);try{return o.runTask(s,i,n)}finally{o.cancelTask(s)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},C5={};function Yw(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function D5(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,P0(t),t.isCheckStableRunning=!0,Yw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),P0(t))}function S5(t){let e=()=>{D5(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,o,s,a)=>{if(T5(a))return i.invokeTask(r,o,s,a);try{return t1(t),i.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),i1(t)}},onInvoke:(i,n,r,o,s,a,l)=>{try{return t1(t),i.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),i1(t)}},onHasTask:(i,n,r,o)=>{i.hasTask(r,o),n===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,P0(t),Yw(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,n,r,o)=>(i.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function P0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function t1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function i1(t){t._nesting--,Yw(t)}var O0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function T5(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function A5(t="zone.js",e){return t==="noop"?new O0:t==="zone.js"?new U(e):t}var Ll=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ll||{}),k5={destroy(){}};function Zw(t,e){!e&&H1(Zw);let i=e?.injector??A(bt);if(!cH(i))return k5;cs("NgAfterNextRender");let n=i.get(Xw),r=n.handler??=new L0,o=e?.phase??Ll.MixedReadWrite,s=()=>{r.unregister(l),a()},a=i.get(Up).onDestroy(s),l=lr(i,()=>new N0(o,()=>{s(),t()}));return r.register(l),{destroy:s}}var N0=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=A(U),this.errorHandler=A(Hi,{optional:!0}),A(Wl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},L0=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ll.EarlyRead]:new Set,[Ll.Write]:new Set,[Ll.MixedReadWrite]:new Set,[Ll.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Xw=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function _p(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=n0(r,a);else if(o==2){let l=a,c=e[++s];n=n0(n,l+": "+c+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var bp=class extends jr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=_o(e);return new ba(i,this.ngModule)}};function n1(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function M5(t){let e=t.toLowerCase();return e==="svg"?U3:e==="math"?z3:null}var V0=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=kp(n);let r=this.injector.get(e,Ky,n);return r!==Ky||i===Ky?r:this.parentInjector.get(e,i,n)}},ba=class extends vp{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=n1(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return n1(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=b3(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let o=je(null);try{r=r||this.ngModule;let s=r instanceof _i?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new V0(e,s):e,l=a.get(_a,null);if(l===null)throw new L(407,!1);let c=a.get(E5,null),d=a.get(Xw,null),u=a.get(Wl,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:u},m=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",_=n?PH(m,n,this.componentDef.encapsulation,a):$M(m,p,M5(p)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let E=null;_!==null&&(E=Pw(_,a,!0));let N=Hw(0,null,null,1,0,null,null,null,null,null,null),M=Wp(null,N,null,y,null,null,h,m,a,null,E);kw(M);let P,ie;try{let ne=this.componentDef,he,Ge=null;ne.findHostDirectiveDefs?(he=[],Ge=new Map,ne.findHostDirectiveDefs(ne,he,Ge),he.push(ne)):he=[ne];let ji=R5(M,_),Yn=F5(ji,_,ne,he,M,h,m);ie=xw(N,yi),_&&N5(m,ne,_,n),i!==void 0&&L5(ie,this.ngContentSelectors,i),P=O5(Yn,ne,he,Ge,M,[V5]),Qw(N,M,null)}finally{Mw()}return new j0(this.componentType,P,ec(ie,M),M,ie)}finally{je(o)}}},j0=class extends R0{constructor(e,i,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new va(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let o=this._rootLView;Ww(o[xe],o,r,e,i),this.previousInputValues.set(e,i);let s=as(this._tNode.index,o);Kw(s)}}get injector(){return new da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function R5(t,e){let i=t[xe],n=yi;return t[n]=e,ic(i,n,2,"#host",null)}function F5(t,e,i,n,r,o,s){let a=r[xe];P5(n,t,e,s);let l=null;e!==null&&(l=Pw(e,r[Hl]));let c=o.rendererFactory.createRenderer(e,i),d=16;i.signals?d=4096:i.onPush&&(d=64);let u=Wp(r,nR(i),null,d,r[t.index],t,o,c,null,null,l);return a.firstCreatePass&&A0(a,t,n.length-1),Qp(r,u),r[t.index]=u}function P5(t,e,i,n){for(let r of t)e.mergedAttrs=su(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(_p(e,e.mergedAttrs,!0),i!==null&&XM(n,i,e))}function O5(t,e,i,n,r,o){let s=Mi(),a=r[xe],l=Fn(s,r);rR(a,r,s,i,null,n);for(let d=0;d<i.length;d++){let u=s.directiveStart+d,h=ga(r,a,u,s);os(h,r)}oR(a,r,s),l&&os(l,r);let c=ga(r,a,s.directiveStart+s.componentOffset,s);if(t[Ai]=r[Ai]=c,o!==null)for(let d of o)d(c,e);return Uw(a,s,r),c}function N5(t,e,i,n){if(n)a0(t,i,["ng-version","17.3.4"]);else{let{attrs:r,classes:o}=y3(e.selectors[0]);r&&a0(t,i,r),o&&o.length>0&&ZM(t,i,o.join(" "))}}function L5(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let o=i[r];n.push(o!=null?Array.from(o):null)}}function V5(){let t=Mi();Bp(Ee()[xe],t)}var qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=j5;let t=e;return t})();function j5(){let t=Mi();return wR(t,Ee())}var B5=qi,yR=class extends B5{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return ec(this._hostTNode,this._hostLView)}get injector(){return new da(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rw(this._hostTNode,this._hostLView);if(uM(e)){let i=hp(e,this._hostLView),n=up(e),r=i[xe].data[n+8];return new da(r,i)}else return new da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=r1(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-ki}createEmbeddedView(e,i,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=fu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},o,s);return this.insertImpl(a,r,mu(this._hostTNode,s)),a}createComponent(e,i,n,r,o){let s=e&&!N3(e),a;if(s)a=i;else{let p=i||{};a=p.index,n=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new ba(_o(e)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let _=(s?c:this.parentInjector).get(_i,null);_&&(o=_)}let d=_o(l.componentType??{}),u=fu(this._lContainer,d?.id??null),h=u?.firstChild??null,m=l.create(c,r,h,o);return this.insertImpl(m.hostView,a,mu(this._hostTNode,u)),m}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(W3(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[bi],c=new yR(l,l[mn],l[bi]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(i),s=this._lContainer;return Yp(s,r,o,n),e.attachToViewContainerRef(),D1(Yy(s),o,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=r1(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=hu(this._lContainer,i);n&&(lp(Yy(this._lContainer),i),Hp(n[xe],n))}detach(e){let i=this._adjustIndex(e,-1),n=hu(this._lContainer,i);return n&&lp(Yy(this._lContainer),i)!=null?new va(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function r1(t){return t[dp]}function Yy(t){return t[dp]||(t[dp]=[])}function wR(t,e){let i,n=e[t.index];return Eo(n)?i=n:(i=sR(n,e,null,t),e[t.index]=i,Qp(e,i)),z5(i,e,t,n),new yR(i,t,e)}function U5(t,e){let i=t[Ft],n=i.createComment(""),r=Fn(e,t),o=jw(i,r);return pp(i,o,n,EH(i,r),!1),n}var z5=G5,$5=()=>!1;function H5(t,e,i){return $5(t,e,i)}function G5(t,e,i,n){if(t[ma])return;let r;i.type&8?r=Nr(n):r=U5(e,i),t[ma]=r}var B0=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},U0=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let o=0;o<n;o++){let s=i.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)Jw(e,i).matches!==null&&this.queries[i].setDirty()}},yp=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=J5(e):this.predicate=e}},z0=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,i!==null?i.push(o):i=[o])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$0=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(e,i,q5(i,o)),this.matchTNodeWithReadOption(e,i,np(i,e,o,!1,!1))}else n===ai?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,np(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===K||r===qi||r===ai&&i.type&4)this.addMatch(i.index,-2);else{let o=np(i,e,r,!1,!1);o!==null&&this.addMatch(i.index,o)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function q5(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function W5(t,e){return t.type&11?ec(t,e):t.type&4?Zp(t,e):null}function Q5(t,e,i,n){return i===-1?W5(e,t):i===-2?K5(t,e,n):ga(t,t[xe],i,e)}function K5(t,e,i){if(i===K)return ec(e,t);if(i===ai)return Zp(e,t);if(i===qi)return wR(e,t)}function xR(t,e,i,n){let r=e[bo].queries[n];if(r.matches===null){let o=t.data,s=i.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(Q5(e,d,s[l+1],i.metadata.read))}}r.matches=a}return r.matches}function H0(t,e,i,n){let r=t.queries.getByIndex(i),o=r.matches;if(o!==null){let s=xR(t,e,r,i);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let u=ki;u<d.length;u++){let h=d[u];h[wu]===h[bi]&&H0(h[xe],h,c,n)}if(d[Gl]!==null){let u=d[Gl];for(let h=0;h<u.length;h++){let m=u[h];H0(m[xe],m,c,n)}}}}}return n}function Y5(t,e){return t[bo].queries[e].queryList}function ER(t,e,i){let n=new hn((i&4)===4);return LH(t,e,n,n.destroy),(e[bo]??=new U0).queries.push(new B0(n))-1}function Z5(t,e,i){let n=Pt();return n.firstCreatePass&&(IR(n,new yp(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),ER(n,Ee(),e)}function X5(t,e,i,n){let r=Pt();if(r.firstCreatePass){let o=Mi();IR(r,new yp(e,i,n),o.index),eG(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return ER(r,Ee(),i)}function J5(t){return t.split(",").map(e=>e.trim())}function IR(t,e,i){t.queries===null&&(t.queries=new z0),t.queries.track(new $0(e,i))}function eG(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function Jw(t,e){return t.queries.getByIndex(e)}function tG(t,e){let i=t[xe],n=Jw(i,e);return n.crossesNgTemplate?H0(i,t,e,[]):xR(i,t,n,e)}function ex(t){return typeof t=="function"&&t[vf]!==void 0}function iG(t){let e=[],i=new Map;function n(r){let o=i.get(r);if(!o){let s=t(r);i.set(r,o=s.then(sG))}return o}return wp.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(n(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((u,h)=>{a.push(""),s.push(n(u).then(m=>{a[c+h]=m,d.splice(d.indexOf(u),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(n(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>aG(o));e.push(l)}),rG(),Promise.all(e).then(()=>{})}var wp=new Map,nG=new Set;function rG(){let t=wp;return wp=new Map,t}function oG(){return wp.size===0}function sG(t){return typeof t=="string"?t:t.text()}function aG(t){nG.delete(t)}function lG(t){return Object.getPrototypeOf(t.prototype).constructor}function ve(t){let e=lG(t.type),i=!0,n=[t];for(;e;){let r;if(yo(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let s=t;s.inputs=Yf(t.inputs),s.inputTransforms=Yf(t.inputTransforms),s.declaredInputs=Yf(t.declaredInputs),s.outputs=Yf(t.outputs);let a=r.hostBindings;a&&mG(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&uG(t,l),c&&hG(t,c),cG(t,r),Vz(t.outputs,r.outputs),yo(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ve&&(i=!1)}}e=Object.getPrototypeOf(e)}dG(n)}function cG(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function dG(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=su(r.hostAttrs,i=su(i,r.hostAttrs))}}function Yf(t){return t===Bl?{}:t===sn?[]:t}function uG(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function hG(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,o)=>{e(n,r,o),i(n,r,o)}:t.contentQueries=e}function mG(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function $t(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var ss=class{},pu=class{};var xp=class extends ss{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bp(this);let r=N1(e);this._bootstrapComponents=zM(r.bootstrap),this._r3Injector=yM(e,i,[{provide:ss,useValue:this},{provide:jr,useValue:this.componentFactoryResolver},...n],$i(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ep=class extends pu{constructor(e){super(),this.moduleType=e}create(e){return new xp(this.moduleType,e,[])}};function fG(t,e,i){return new xp(t,e,i)}var G0=class extends ss{constructor(e){super(),this.componentFactoryResolver=new bp(this),this.instance=null;let i=new au([...e.providers,{provide:ss,useValue:this},{provide:jr,useValue:this.componentFactoryResolver}],e.parent||Fp(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xp(t,e,i=null){return new G0({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var ds=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CR(t){return tx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function pG(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function tx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ix(t,e,i){return t[e]=i}function gG(t,e){return t[e]}function sr(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function vG(t,e,i,n){let r=sr(t,e,i);return sr(t,e+1,n)||r}function _G(t){return(t.flags&32)===32}function bG(t,e,i,n,r,o,s,a,l){let c=e.consts,d=ic(e,t,4,s||null,ql(c,a));qw(e,i,d,ql(c,l)),Bp(e,d);let u=d.tView=Hw(2,d,n,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}function $(t,e,i,n,r,o,s,a){let l=Ee(),c=Pt(),d=t+yi,u=c.firstCreatePass?bG(d,c,l,e,i,n,r,o,s):c.data[d];wa(u,!1);let h=yG(c,l,u,t);Vp()&&Gp(c,l,h,u),os(h,l);let m=sR(h,l,h,u);return l[d]=m,Qp(l,m),H5(m,u,l),Np(u)&&zw(c,l,u),s!=null&&$w(l,u,a),$}var yG=wG;function wG(t,e,i,n){return jp(!0),e[Ft].createComment("")}function ze(t,e,i,n){let r=Ee(),o=Xl();if(sr(r,o,e)){let s=Pt(),a=Lp();XH(a,r,t,e,i,n)}return ze}function nx(t,e,i,n){return sr(t,Xl(),i)?e+_u(i)+n:dr}function Zf(t,e){return t<<17|e<<2}function ya(t){return t>>17&32767}function xG(t){return(t&2)==2}function EG(t,e){return t&131071|e<<17}function q0(t){return t|2}function Ql(t){return(t&131068)>>2}function Zy(t,e){return t&-131069|e<<2}function IG(t){return(t&1)===1}function W0(t){return t|1}function CG(t,e,i,n,r,o){let s=o?e.classBindings:e.styleBindings,a=ya(s),l=Ql(s);t[n]=i;let c=!1,d;if(Array.isArray(i)){let u=i;d=u[1],(d===null||bu(u,d)>0)&&(c=!0)}else d=i;if(r)if(l!==0){let h=ya(t[a+1]);t[n+1]=Zf(h,a),h!==0&&(t[h+1]=Zy(t[h+1],n)),t[a+1]=EG(t[a+1],n)}else t[n+1]=Zf(a,0),a!==0&&(t[a+1]=Zy(t[a+1],n)),a=n;else t[n+1]=Zf(l,0),a===0?a=n:t[l+1]=Zy(t[l+1],n),l=n;c&&(t[n+1]=q0(t[n+1])),o1(t,d,n,!0),o1(t,d,n,!1),DG(e,d,t,n,o),s=Zf(a,l),o?e.classBindings=s:e.styleBindings=s}function DG(t,e,i,n,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&bu(o,e)>=0&&(i[n+1]=W0(i[n+1]))}function o1(t,e,i,n){let r=t[i+1],o=e===null,s=n?ya(r):Ql(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];SG(l,e)&&(a=!0,t[s+1]=n?W0(c):q0(c)),s=n?ya(c):Ql(c)}a&&(t[i+1]=n?q0(r):W0(r))}function SG(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?bu(t,e)>=0:!1}var nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TG(t){return t.substring(nr.key,nr.keyEnd)}function AG(t){return kG(t),DR(t,SR(t,0,nr.textEnd))}function DR(t,e){let i=nr.textEnd;return i===e?-1:(e=nr.keyEnd=MG(t,nr.key=e,i),SR(t,e,i))}function kG(t){nr.key=0,nr.keyEnd=0,nr.value=0,nr.valueEnd=0,nr.textEnd=t.length}function SR(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function MG(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function R(t,e,i){let n=Ee(),r=Xl();if(sr(n,r,e)){let o=Pt(),s=Lp();Gw(o,s,n,t,e,n[Ft],i,!1)}return R}function Q0(t,e,i,n,r){let o=e.inputs,s=r?"class":"style";Ww(t,i,o[s],s,n)}function fn(t,e,i){return AR(t,e,i,!1),fn}function Ie(t,e){return AR(t,e,null,!0),Ie}function Xt(t){kR(LG,TR,t,!0)}function TR(t,e){for(let i=AG(e);i>=0;i=DR(e,i))Mp(t,TG(e),!0)}function AR(t,e,i,n){let r=Ee(),o=Pt(),s=iM(2);if(o.firstUpdatePass&&RR(o,t,s,n),e!==dr&&sr(r,s,e)){let a=o.data[ls()];FR(o,a,r,r[Ft],t,r[s+1]=jG(e,i),n,s)}}function kR(t,e,i,n){let r=Pt(),o=iM(2);r.firstUpdatePass&&RR(r,null,o,n);let s=Ee();if(i!==dr&&sr(s,o,i)){let a=r.data[ls()];if(PR(a,n)&&!MR(r,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(i=n0(l,i||"")),Q0(r,a,s,i,n)}else VG(r,a,s,s[Ft],s[o+1],s[o+1]=NG(t,e,i),n,o)}}function MR(t,e){return e>=t.expandoStartIndex}function RR(t,e,i,n){let r=t.data;if(r[i+1]===null){let o=r[ls()],s=MR(t,i);PR(o,n)&&e===null&&!s&&(e=!1),e=RG(r,o,e,n),CG(r,o,e,i,s,n)}}function RG(t,e,i,n){let r=Tw(t),o=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=Xy(null,t,e,i,n),i=gu(i,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(i=Xy(r,t,e,i,n),o===null){let l=FG(t,e,n);l!==void 0&&Array.isArray(l)&&(l=Xy(null,t,e,l[1],n),l=gu(l,e.attrs,n),PG(t,e,n,l))}else o=OG(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),i}function FG(t,e,i){let n=i?e.classBindings:e.styleBindings;if(Ql(n)!==0)return t[ya(n)]}function PG(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[ya(r)]=n}function OG(t,e,i){let n,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;n=gu(n,s,i)}return gu(n,e.attrs,i)}function Xy(t,e,i,n,r){let o=null,s=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<s&&(o=e[a],n=gu(n,o.hostAttrs,r),o!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function gu(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Mp(t,s,i?!0:e[++o]))}return t===void 0?null:t}function NG(t,e,i){if(i==null||i==="")return sn;let n=[],r=Pn(i);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(n,o,r[o]);else typeof r=="string"&&e(n,r);return n}function LG(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&Mp(t,n,i)}function VG(t,e,i,n,r,o,s,a){r===dr&&(r=sn);let l=0,c=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let h=l<r.length?r[l+1]:void 0,m=c<o.length?o[c+1]:void 0,p=null,_;d===u?(l+=2,c+=2,h!==m&&(p=u,_=m)):u===null||d!==null&&d<u?(l+=2,p=d):(c+=2,p=u,_=m),p!==null&&FR(t,e,i,n,p,_,s,a),d=l<r.length?r[l]:null,u=c<o.length?o[c]:null}}function FR(t,e,i,n,r,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=IG(c)?s1(l,e,i,r,Ql(c),s):void 0;if(!Ip(d)){Ip(o)||xG(c)&&(o=s1(l,null,i,r,a,s));let u=Y1(ls(),i);AH(n,s,u,r,o)}}function s1(t,e,i,n,r,o){let s=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),d=c?l[1]:l,u=d===null,h=i[r+1];h===dr&&(h=u?sn:void 0);let m=u?zy(h,n):d===n?h:void 0;if(c&&!Ip(m)&&(m=zy(l,n)),Ip(m)&&(a=m,s))return a;let p=t[r+1];r=s?ya(p):Ql(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=zy(l,n))}return a}function Ip(t){return t!==void 0}function jG(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$i(Pn(t)))),t}function PR(t,e){return(t.flags&(e?8:16))!==0}function OR(t,e,i){let n=Ee(),r=nx(n,t,e,i);kR(Mp,TR,r,!0)}var K0=class{destroy(e){}updateValue(e,i){}swap(e,i){let n=Math.min(e,i),r=Math.max(e,i),o=this.detach(r);if(r-n>1){let s=this.detach(n);this.attach(n,o),this.attach(r,s)}else this.attach(n,o)}move(e,i){this.attach(i,this.detach(e))}};function Jy(t,e,i,n,r){return t===i&&Object.is(e,n)?1:Object.is(r(t,e),r(i,n))?-1:0}function BG(t,e,i){let n,r,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let l=t.at(o),c=e[o],d=Jy(o,l,o,c,i);if(d!==0){d<0&&t.updateValue(o,c),o++;continue}let u=t.at(s),h=e[a],m=Jy(s,u,a,h,i);if(m!==0){m<0&&t.updateValue(s,h),s--,a--;continue}let p=i(o,l),_=i(s,u),y=i(o,c);if(Object.is(y,_)){let E=i(a,h);Object.is(E,p)?(t.swap(o,s),t.updateValue(s,h),a--,s--):t.move(s,o),t.updateValue(o,c),o++;continue}if(n??=new Cp,r??=l1(t,o,s,i),Y0(t,n,o,y))t.updateValue(o,c),o++,s++;else if(r.has(y))n.set(p,t.detach(o)),s--;else{let E=t.create(o,e[o]);t.attach(o,E),o++,s++}}for(;o<=a;)a1(t,n,i,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let c=t.at(o),d=l.value,u=Jy(o,c,o,d,i);if(u!==0)u<0&&t.updateValue(o,d),o++,l=a.next();else{n??=new Cp,r??=l1(t,o,s,i);let h=i(o,d);if(Y0(t,n,o,h))t.updateValue(o,d),o++,s++,l=a.next();else if(!r.has(h))t.attach(o,t.create(o,d)),o++,s++,l=a.next();else{let m=i(o,c);n.set(m,t.detach(o)),s--}}}for(;!l.done;)a1(t,n,i,t.length,l.value),l=a.next()}for(;o<=s;)t.destroy(t.detach(s--));n?.forEach(a=>{t.destroy(a)})}function Y0(t,e,i,n){return e!==void 0&&e.has(n)?(t.attach(i,e.get(n)),e.delete(n),!0):!1}function a1(t,e,i,n,r){if(Y0(t,e,n,i(n,r)))t.updateValue(n,r);else{let o=t.create(n,r);t.attach(n,o)}}function l1(t,e,i,n){let r=new Set;for(let o=e;o<=i;o++)r.add(n(o,t.at(o)));return r}var Cp=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let i=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(i)?(this.kvMap.set(e,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,i){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,i)}else this.kvMap.set(e,i)}forEach(e){for(let[i,n]of this.kvMap)if(e(n,i),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),e(n,i)}}};function Ht(t,e,i){cs("NgControlFlow");let n=Ee(),r=Xl(),o=ew(n,yi+t),s=0;if(sr(n,r,e)){let a=je(null);try{if(mR(o,s),e!==-1){let l=tw(n[xe],yi+e),c=fu(o,l.tView.ssrId),d=Kp(n,l,i,{dehydratedView:c});Yp(o,d,s,mu(l,c))}}finally{je(a)}}else{let a=hR(o,s);a!==void 0&&(a[Ai]=i)}}var Z0=class{constructor(e,i,n){this.lContainer=e,this.$implicit=i,this.$index=n}get $count(){return this.lContainer.length-ki}};function Jp(t,e){return e}var X0=class{constructor(e,i,n){this.hasEmptyBlock=e,this.trackByFn=i,this.liveCollection=n}};function eg(t,e,i,n,r,o,s,a,l,c,d,u,h){cs("NgControlFlow");let m=l!==void 0,p=Ee(),_=a?s.bind(p[Rn][Ai]):s,y=new X0(m,_);p[yi+t]=y,$(t+1,e,i,n,r,o),m&&$(t+2,l,c,d,u,h)}var J0=class extends K0{constructor(e,i,n){super(),this.lContainer=e,this.hostLView=i,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ki}at(e){return this.getLView(e)[Ai].$implicit}attach(e,i){let n=i[$l];this.needsIndexUpdate||=e!==this.length,Yp(this.lContainer,i,e,mu(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,UG(this.lContainer,e)}create(e,i){let n=fu(this.lContainer,this.templateTNode.tView.ssrId);return Kp(this.hostLView,this.templateTNode,new Z0(this.lContainer,i,e),{dehydratedView:n})}destroy(e){Hp(e[xe],e)}updateValue(e,i){this.getLView(e)[Ai].$implicit=i}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ai].$index=e}getLView(e){return zG(this.lContainer,e)}};function tg(t){let e=je(null),i=ls();try{let n=Ee(),r=n[xe],o=n[i];if(o.liveCollection===void 0){let a=i+1,l=ew(n,a),c=tw(r,a);o.liveCollection=new J0(l,n,c)}else o.liveCollection.reset();let s=o.liveCollection;if(BG(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Xl(),l=s.length===0;if(sr(n,a,l)){let c=i+2,d=ew(n,c);if(l){let u=tw(r,c),h=fu(d,u.tView.ssrId),m=Kp(n,u,void 0,{dehydratedView:h});Yp(d,m,0,mu(u,h))}else mR(d,0)}}}finally{je(e)}}function ew(t,e){return t[e]}function UG(t,e){return hu(t,e)}function zG(t,e){return hR(t,e)}function tw(t,e){return xw(t,e)}function $G(t,e,i,n,r,o){let s=e.consts,a=ql(s,r),l=ic(e,t,2,n,a);return qw(e,i,l,ql(s,o)),l.attrs!==null&&_p(l,l.attrs,!1),l.mergedAttrs!==null&&_p(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function b(t,e,i,n){let r=Ee(),o=Pt(),s=yi+t,a=r[Ft],l=o.firstCreatePass?$G(s,o,r,e,i,n):o.data[s],c=HG(o,r,l,a,e,t);r[s]=c;let d=Np(l);return wa(l,!0),XM(a,c,l),!_G(l)&&Vp()&&Gp(o,r,c,l),Z3()===0&&os(c,r),X3(),d&&(zw(o,r,l),Uw(o,l,r)),n!==null&&$w(r,l),b}function v(){let t=Mi();Dw()?Sw():(t=t.parent,wa(t,!1));let e=t;e$(e)&&t$(),J3();let i=Pt();return i.firstCreatePass&&(Bp(i,t),ww(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&f$(e)&&Q0(i,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&p$(e)&&Q0(i,e,Ee(),e.stylesWithoutHost,!1),v}function Y(t,e,i,n){return b(t,e,i,n),v(),Y}var HG=(t,e,i,n,r,o)=>(jp(!0),$M(n,r,d$()));function GG(t,e,i,n,r){let o=e.consts,s=ql(o,n),a=ic(e,t,8,"ng-container",s);s!==null&&_p(a,s,!0);let l=ql(o,r);return qw(e,i,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Du(t,e,i){let n=Ee(),r=Pt(),o=t+yi,s=r.firstCreatePass?GG(o,r,n,e,i):r.data[o];wa(s,!0);let a=qG(r,n,s,t);return n[o]=a,Vp()&&Gp(r,n,a,s),os(a,n),Np(s)&&(zw(r,n,s),Uw(r,s,n)),i!=null&&$w(n,s),Du}function Su(){let t=Mi(),e=Pt();return Dw()?Sw():(t=t.parent,wa(t,!1)),e.firstCreatePass&&(Bp(e,t),ww(t)&&e.queries.elementEnd(t)),Su}function us(t,e,i){return Du(t,e,i),Su(),us}var qG=(t,e,i,n)=>(jp(!0),mH(e[Ft],""));function it(){return Ee()}function xa(t,e,i){let n=Ee(),r=Xl();if(sr(n,r,e)){let o=Pt(),s=Lp(),a=Tw(o.data),l=dR(a,s,n);Gw(o,s,n,t,e,l,i,!0)}return xa}var la=void 0;function WG(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var QG=["en",[["a","p"],["AM","PM"],la],[["AM","PM"],la,la],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],la,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],la,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",la,"{1} 'at' {0}",la],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WG],e0={};function an(t){let e=KG(t),i=c1(e);if(i)return i;let n=e.split("-")[0];if(i=c1(n),i)return i;if(n==="en")return QG;throw new L(701,!1)}function c1(t){return t in e0||(e0[t]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[t]),e0[t]}var Tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Tt||{});function KG(t){return t.toLowerCase().replace(/_/g,"-")}var Dp="en-US",YG="USD";var ZG=Dp;function XG(t){typeof t=="string"&&(ZG=t.toLowerCase().replace(/_/g,"-"))}function le(t,e,i,n){let r=Ee(),o=Pt(),s=Mi();return NR(o,r,r[Ft],s,t,e,n),le}function Tu(t,e){let i=Mi(),n=Ee(),r=Pt(),o=Tw(r.data),s=dR(o,i,n);return NR(r,n,s,i,t,e),Tu}function JG(t,e,i,n){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===i&&r[o+1]===n){let a=e[lu],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function NR(t,e,i,n,r,o,s){let a=Np(n),c=t.firstCreatePass&&cR(t),d=e[Ai],u=lR(e),h=!0;if(n.type&3||s){let _=Fn(n,e),y=s?s(_):_,E=u.length,N=s?P=>s(Nr(P[n.index])):n.index,M=null;if(!s&&a&&(M=JG(t,e,r,n.index)),M!==null){let P=M.__ngLastListenerFn__||M;P.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,h=!1}else{o=u1(n,e,d,o,!1);let P=i.listen(y,r,o);u.push(o,P),c&&c.push(r,N,E,E+1)}}else o=u1(n,e,d,o,!1);let m=n.outputs,p;if(h&&m!==null&&(p=m[r])){let _=p.length;if(_)for(let y=0;y<_;y+=2){let E=p[y],N=p[y+1],ie=e[E][N].subscribe(o),ne=u.length;u.push(o,ie),c&&c.push(r,n.index,ne,-(ne+1))}}}function d1(t,e,i,n){let r=je(null);try{return Fr(6,e,i),i(n)!==!1}catch(o){return uR(t,o),!1}finally{Fr(7,e,i),je(r)}}function u1(t,e,i,n,r){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?as(t.index,e):e;Kw(a);let l=d1(e,i,n,s),c=o.__ngNextListenerFn__;for(;c;)l=d1(e,i,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function Z(t=1){return c$(t)}function e6(t,e){let i=null,n=f3(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){i=r;continue}if(n===null?R1(t,o,!0):v3(n,o))return r}return i}function ct(t){let e=Ee()[Rn][mn];if(!e.projection){let i=t?t.length:1,n=e.projection=o3(i,null),r=n.slice(),o=e.child;for(;o!==null;){let s=t?e6(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function Ae(t,e=0,i){let n=Ee(),r=Pt(),o=ic(r,yi+t,16,null,i||null);o.projection===null&&(o.projection=e),Sw(),(!n[$l]||eM())&&(o.flags&32)!==32&&SH(r,n,o)}function Au(t,e,i){return LR(t,"",e,"",i),Au}function LR(t,e,i,n,r){let o=Ee(),s=nx(o,e,i,n);if(s!==dr){let a=Pt(),l=Lp();Gw(a,l,o,t,s,o[Ft],r,!1)}return LR}function ft(t,e,i,n){X5(t,e,i,n)}function Ri(t,e,i){Z5(t,e,i)}function Be(t){let e=Ee(),i=Pt(),n=nM();Aw(n+1);let r=Jw(i,n);if(t.dirty&&q3(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=tG(e,n);t.reset(o,T$),t.notifyOnChanges()}return!0}return!1}function Ue(){return Y5(Ee(),nM())}function t6(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function hi(t){let e=n$();return Ew(e,yi+t)}function x(t,e=""){let i=Ee(),n=Pt(),r=t+yi,o=n.firstCreatePass?ic(n,r,1,e,null):n.data[r],s=i6(n,i,o,e,t);i[r]=s,Vp()&&Gp(n,i,s,o),wa(o,!1)}var i6=(t,e,i,n,r)=>(jp(!0),uH(e[Ft],n));function It(t){return Ce("",t,""),It}function Ce(t,e,i){let n=Ee(),r=nx(n,t,e,i);return r!==dr&&i5(n,ls(),r),Ce}function n6(t,e,i){let n=Pt();if(n.firstCreatePass){let r=yo(t);iw(i,n.data,n.blueprint,r,!0),iw(e,n.data,n.blueprint,r,!1)}}function iw(t,e,i,n,r){if(t=zi(t),Array.isArray(t))for(let o=0;o<t.length;o++)iw(t[o],e,i,n,r);else{let o=Pt(),s=Ee(),a=Mi(),l=zl(t)?t:zi(t.provide),c=z1(t),d=a.providerIndexes&1048575,u=a.directiveStart,h=a.providerIndexes>>20;if(zl(t)||!t.multi){let m=new pa(c,r,f),p=i0(l,e,r?d:d+h,u);p===-1?(p0(fp(a,s),o,l),t0(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(m),s.push(m)):(i[p]=m,s[p]=m)}else{let m=i0(l,e,d+h,u),p=i0(l,e,d,d+h),_=m>=0&&i[m],y=p>=0&&i[p];if(r&&!y||!r&&!_){p0(fp(a,s),o,l);let E=s6(r?o6:r6,i.length,r,n,c);!r&&y&&(i[p].providerFactory=E),t0(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(E),s.push(E)}else{let E=VR(i[r?p:m],c,!r&&n);t0(o,t,m>-1?m:p,E)}!r&&n&&y&&i[p].componentProviders++}}}function t0(t,e,i,n){let r=zl(e),o=T3(e);if(r||o){let l=(o?zi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(i);d===-1?c.push(i,[n,l]):c[d+1].push(n,l)}else c.push(i,l)}}}function VR(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function i0(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function r6(t,e,i,n){return nw(this.multi,[])}function o6(t,e,i,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ga(i,i[xe],this.providerFactory.index,n);o=a.slice(0,s),nw(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],nw(r,o);return o}function nw(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function s6(t,e,i,n,r){let o=new pa(t,i,f);return o.multi=[],o.index=e,o.componentProviders=0,VR(o,r,n&&!i),o}function yt(t,e=[]){return i=>{i.providersResolver=(n,r)=>n6(n,r?r(t):t,e)}}var a6=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=j1(!1,n.type),o=r.length>0?Xp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(g(_i))});let t=e;return t})();function Me(t){cs("NgStandalone"),t.getStandaloneInjector=e=>e.get(a6).getOrCreateStandaloneInjector(t)}function hs(t,e,i){let n=xu()+t,r=Ee();return r[n]===dr?ix(r,n,i?e.call(i):e()):gG(r,n)}function ur(t,e,i,n){return BR(Ee(),xu(),t,e,i,n)}function Ea(t,e,i,n,r){return UR(Ee(),xu(),t,e,i,n,r)}function jR(t,e){let i=t[e];return i===dr?void 0:i}function BR(t,e,i,n,r,o){let s=e+i;return sr(t,s,r)?ix(t,s+1,o?n.call(o,r):n(r)):jR(t,s+1)}function UR(t,e,i,n,r,o,s){let a=e+i;return vG(t,a,r,o)?ix(t,a+2,s?n.call(s,r,o):n(r,o)):jR(t,a+2)}function Gt(t,e){let i=Pt(),n,r=t+yi;i.firstCreatePass?(n=l6(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let o=n.factory||(n.factory=ua(n.type,!0)),s,a=on(f);try{let l=mp(!1),c=o();return mp(l),t6(i,Ee(),r,c),c}finally{on(a)}}function l6(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function ln(t,e,i){let n=t+yi,r=Ee(),o=Ew(r,n);return zR(r,n)?BR(r,xu(),e,o.transform,i,o):o.transform(i)}function ms(t,e,i,n){let r=t+yi,o=Ee(),s=Ew(o,r);return zR(o,r)?UR(o,xu(),e,s.transform,i,n,s):s.transform(i,n)}function zR(t,e){return t[xe].data[e].pure}function pn(t,e){return Zp(t,e)}var Xf=null;function c6(t){Xf!==null&&(t.defaultEncapsulation!==Xf.defaultEncapsulation||t.preserveWhitespaces!==Xf.preserveWhitespaces)||(Xf=t)}var ar=class{constructor(e){this.full=e;let i=e.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}},$R=new ar("17.3.4"),ig=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var rx=new k(""),ku=new k(""),ng=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ox||(d6(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{U.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(g(U),g(rg),g(ku))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),rg=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ox?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function d6(t){ox=t}var ox;function fs(t){return!!t&&typeof t.then=="function"}function sx(t){return!!t&&typeof t.subscribe=="function"}var og=new k(""),HR=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=A(og,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(fs(s))n.push(s);else if(sx(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nc=new k("");function u6(){ik(()=>{throw new L(600,!1)})}function h6(t){return t.isBoundToModule}function m6(t,e,i){try{let n=i();return fs(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function GR(t,e){return Array.isArray(e)?e.reduce(GR,t):T(T({},t),e)}var Wi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(wM),this.afterRenderEffectManager=A(Xw),this.externalTestViews=new Set,this.beforeRender=new W,this.afterTick=new W,this.componentTypes=[],this.components=[],this.isStable=A(ds).hasPendingTasks.pipe(B(n=>!n)),this._injector=A(_i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof vp;if(!this._injector.get(HR).done){let m=!o&&O1(n),p=!1;throw new L(405,p)}let a;o?a=n:a=this._injector.get(jr).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=h6(a)?void 0:this._injector.get(ss),c=r||a.selector,d=a.create(bt.NULL,[],c,l),u=d.location.nativeElement,h=d.injector.get(rx,null);return h?.registerApplication(u),d.onDestroy(()=>{this.detachView(d.hostView),op(this.components,d),h?.unregisterApplication(u)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new L(101,!1);let r=je(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,je(r)}}detectChangesInAttachedViews(n){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===pR)throw new L(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)f6(a,s,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>rw(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>rw(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;op(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(nc,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>op(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function op(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function f6(t,e,i){!e&&!rw(t)||p6(t,i,e)}function rw(t){return Cw(t)}function p6(t,e,i){let n;i?(n=0,t[fe]|=1024):t[fe]&64?n=0:n=1,gR(t,e,n)}var ow=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},sg=(()=>{let e=class e{compileModuleSync(n){return new Ep(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=N1(n),s=zM(o.declarations).reduce((a,l)=>{let c=_o(l);return c&&a.push(new ba(c)),a},[]);return new ow(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),g6=new k("");function v6(t,e,i){let n=new Ep(i);return Promise.resolve(n)}function h1(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var _6=(()=>{let e=class e{constructor(){this.zone=A(U),this.applicationRef=A(Wi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b6(t){return[{provide:U,useFactory:t},{provide:Ul,multi:!0,useFactory:()=>{let e=A(_6,{optional:!0});return()=>e.initialize()}},{provide:Ul,multi:!0,useFactory:()=>{let e=A(x6);return()=>{e.initialize()}}},{provide:wM,useFactory:y6}]}function y6(){let t=A(U),e=A(Hi);return i=>t.runOutsideAngular(()=>e.handleError(i))}function w6(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var x6=(()=>{let e=class e{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=A(U),this.pendingTasks=A(ds)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{U.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{U.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function E6(){return typeof $localize<"u"&&$localize.locale||Dp}var rc=new k("",{providedIn:"root",factory:()=>A(rc,Ne.Optional|Ne.SkipSelf)||E6()}),qR=new k("",{providedIn:"root",factory:()=>YG});var WR=new k(""),QR=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let o=A5(r?.ngZone,w6({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=fG(n.moduleType,this.injector,b6(()=>o)),a=s.injector.get(Hi,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{op(this._modules,s),l.unsubscribe()})}),m6(a,o,()=>{let l=s.injector.get(HR);return l.runInitializers(),l.donePromise.then(()=>{let c=s.injector.get(rc,Dp);return XG(c||Dp),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,r=[]){let o=GR({},r);return v6(this.injector,o,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){let r=n.injector.get(Wi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new L(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(WR,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(g(bt))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ru=null,KR=new k("");function I6(t){if(ru&&!ru.get(KR,!1))throw new L(400,!1);u6(),ru=t;let e=t.get(QR);return S6(t),e}function ax(t,e,i=[]){let n=`Platform: ${e}`,r=new k(n);return(o=[])=>{let s=YR();if(!s||s.injector.get(KR,!1)){let a=[...i,...o,{provide:r,useValue:!0}];t?t(a):I6(C6(a,n))}return D6(r)}}function C6(t=[],e){return bt.create({name:e,providers:[{provide:Rp,useValue:"platform"},{provide:WR,useValue:new Set([()=>ru=null])},...t]})}function D6(t){let e=YR();if(!e)throw new L(401,!1);return e}function YR(){return ru?.get(QR)??null}function S6(t){t.get(Fw,null)?.forEach(i=>i())}function lx(){return!1}var pt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=T6;let t=e;return t})();function T6(t){return A6(Mi(),Ee(),(t&16)===16)}function A6(t,e,i){if(Op(t)&&!i){let n=as(t.index,e);return new va(n,n)}else if(t.type&47){let n=e[Rn];return new va(n,e)}return null}var sw=class{constructor(){}supports(e){return CR(e)}create(e){return new aw(e)}},k6=(t,e)=>e,aw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||k6}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,o=null;for(;i||n;){let s=!n||i&&i.currentIndex<m1(n,r,o)?i:n,a=m1(s,r,o),l=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(i=i._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let h=0;h<c;h++){let m=h<o.length?o[h]:o[h]=0,p=m+h;d<=p&&p<c&&(o[h]=m+1)}let u=s.previousIndex;o[u]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!CR(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),i===null||!Object.is(i.trackById,s)?(i=this._mismatch(i,o,s,a),n=!0):(n&&(i=this._verifyReinsertion(i,o,s,a)),Object.is(i.item,o)||this._addIdentityChange(i,o)),i=i._next}else r=0,pG(e,a=>{s=this._trackByFn(r,a),i===null||!Object.is(i.trackById,s)?(i=this._mismatch(i,a,s,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,s,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,o,r)):e=this._addAfter(new lw(i,n),o,r)),e}_verifyReinsertion(e,i,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new Sp),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lw=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cw=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},Sp=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new cw,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function m1(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}var dw=class{constructor(){}supports(e){return e instanceof Map||tx(e)}create(){return new uw}},uw=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let i;for(i=this._mapHead;i!==null;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||tx(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let o=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,o)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){let n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,i);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let n=new hw(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}},hw=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function f1(){return new Mu([new sw])}var Mu=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||f1()),deps:[[e,new Kl,new xo]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new L(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:f1});let t=e;return t})();function p1(){return new Ru([new dw])}var Ru=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||p1()),deps:[[e,new Kl,new xo]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r)return r;throw new L(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:p1});let t=e;return t})();var ZR=ax(null,"core",[]),XR=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(g(Wi))},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})();function dt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Fu(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function cx(t){let e=je(null);try{return t()}finally{je(e)}}var M6=new k("",{providedIn:"root",factory:()=>A(R6)}),R6=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new mw});let t=e;return t})(),mw=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=A(ds),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let i=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(i),this.taskId=null})}}enqueue(e){let i=e.creationZone;this.queues.has(i)||this.queues.set(i,new Set);let n=this.queues.get(i);n.has(e)||(this.queuedEffectCount++,n.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,i]of this.queues)e===null?this.flushQueue(i):e.run(()=>this.flushQueue(i))}flushQueue(e){for(let i of e)e.delete(i),this.queuedEffectCount--,i.run()}},fw=class{constructor(e,i,n,r,o,s){this.scheduler=e,this.effectFn=i,this.creationZone=n,this.injector=o,this.watcher=nk(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(i){this.injector.get(Hi,null,{optional:!0})?.handleError(i)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function dx(t,e){cs("NgSignals"),!e?.injector&&H1(dx);let i=e?.injector??A(bt),n=e?.manualCleanup!==!0?i.get(Up):null,r=new fw(i.get(M6),t,typeof Zone>"u"?null:Zone.current,n,i,e?.allowSignalWrites??!1),o=i.get(pt,null,{optional:!0});return!o||!(o._lView[fe]&8)?r.watcher.notify():(o._lView[ep]??=[]).push(r.watcher.notify),r}function JR(t,e){let i=_o(t),n=e.elementInjector||Fp();return new ba(i).create(n,e.projectableNodes,e.hostElement,e.environmentInjector)}function eF(t){let e=_o(t);if(!e)return null;let i=new ba(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lF=null;function Br(){return lF}function cF(t){lF??=t}var pg=class{};var re=new k(""),xx=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>A(F6),providedIn:"platform"});let t=e;return t})(),dF=new k(""),F6=(()=>{let e=class e extends xx{constructor(){super(),this._doc=A(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(n){let r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ex(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function tF(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function So(t){return t&&t[0]!=="?"?"?"+t:t}var ko=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>A(Ix),providedIn:"root"});let t=e;return t})(),uF=new k(""),Ix=(()=>{let e=class e extends ko{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ex(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+So(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+So(s));this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+So(s));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(g(xx),g(uF,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hF=(()=>{let e=class e extends ko{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ex(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+So(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+So(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(g(xx),g(uF,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),ps=(()=>{let e=class e{constructor(n){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=N6(tF(iF(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+So(r))}normalize(n){return e.stripTrailingSlash(O6(this._basePath,iF(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+So(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+So(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};e.normalizeQueryParams=So,e.joinWithSlash=Ex,e.stripTrailingSlash=tF,e.\u0275fac=function(r){return new(r||e)(g(ko))},e.\u0275prov=I({token:e,factory:()=>P6(),providedIn:"root"});let t=e;return t})();function P6(){return new ps(g(ko))}function O6(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function iF(t){return t.replace(/\/index.html$/,"")}function N6(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}var mF={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},fF=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(fF||{});var Qi=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Qi||{}),ht=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ht||{}),gn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(gn||{}),vn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function L6(t){return an(t)[Tt.LocaleId]}function V6(t,e,i){let n=an(t),r=[n[Tt.DayPeriodsFormat],n[Tt.DayPeriodsStandalone]],o=On(r,e);return On(o,i)}function j6(t,e,i){let n=an(t),r=[n[Tt.DaysFormat],n[Tt.DaysStandalone]],o=On(r,e);return On(o,i)}function B6(t,e,i){let n=an(t),r=[n[Tt.MonthsFormat],n[Tt.MonthsStandalone]],o=On(r,e);return On(o,i)}function U6(t,e){let n=an(t)[Tt.Eras];return On(n,e)}function ag(t,e){let i=an(t);return On(i[Tt.DateFormat],e)}function lg(t,e){let i=an(t);return On(i[Tt.TimeFormat],e)}function cg(t,e){let n=an(t)[Tt.DateTimeFormat];return On(n,e)}function To(t,e){let i=an(t),n=i[Tt.NumberSymbols][e];if(typeof n>"u"){if(e===vn.CurrencyDecimal)return i[Tt.NumberSymbols][vn.Decimal];if(e===vn.CurrencyGroup)return i[Tt.NumberSymbols][vn.Group]}return n}function z6(t,e){return an(t)[Tt.NumberFormats][e]}function $6(t){return an(t)[Tt.Currencies]}function pF(t){if(!t[Tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function H6(t){let e=an(t);return pF(e),(e[Tt.ExtraData][2]||[]).map(n=>typeof n=="string"?ux(n):[ux(n[0]),ux(n[1])])}function G6(t,e,i){let n=an(t);pF(n);let r=[n[Tt.ExtraData][0],n[Tt.ExtraData][1]],o=On(r,e)||[];return On(o,i)||[]}function On(t,e){for(let i=e;i>-1;i--)if(typeof t[i]<"u")return t[i];throw new Error("Locale data API: locale data undefined")}function ux(t){let[e,i]=t.split(":");return{hours:+e,minutes:+i}}function q6(t,e,i="en"){let n=$6(i)[t]||mF[t]||[],r=n[1];return e==="narrow"&&typeof r=="string"?r:n[0]||t}var W6=2;function Q6(t){let e,i=mF[t];return i&&(e=i[2]),typeof e=="number"?e:W6}var K6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dg={},Y6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ao=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Ao||{}),et=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(et||{}),Je=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Je||{});function Z6(t,e,i,n){let r=s8(t);e=Do(i,e)||e;let s=[],a;for(;e;)if(a=Y6.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=r.getTimezoneOffset();n&&(l=vF(n,l),r=o8(r,n,!0));let c="";return s.forEach(d=>{let u=n8(d);c+=u?u(r,i,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function gg(t,e,i){let n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function Do(t,e){let i=L6(t);if(dg[i]??={},dg[i][e])return dg[i][e];let n="";switch(e){case"shortDate":n=ag(t,gn.Short);break;case"mediumDate":n=ag(t,gn.Medium);break;case"longDate":n=ag(t,gn.Long);break;case"fullDate":n=ag(t,gn.Full);break;case"shortTime":n=lg(t,gn.Short);break;case"mediumTime":n=lg(t,gn.Medium);break;case"longTime":n=lg(t,gn.Long);break;case"fullTime":n=lg(t,gn.Full);break;case"short":let r=Do(t,"shortTime"),o=Do(t,"shortDate");n=ug(cg(t,gn.Short),[r,o]);break;case"medium":let s=Do(t,"mediumTime"),a=Do(t,"mediumDate");n=ug(cg(t,gn.Medium),[s,a]);break;case"long":let l=Do(t,"longTime"),c=Do(t,"longDate");n=ug(cg(t,gn.Long),[l,c]);break;case"full":let d=Do(t,"fullTime"),u=Do(t,"fullDate");n=ug(cg(t,gn.Full),[d,u]);break}return n&&(dg[i][e]=n),n}function ug(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,n){return e!=null&&n in e?e[n]:i})),t}function hr(t,e,i="-",n,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=i));let s=String(t);for(;s.length<e;)s="0"+s;return n&&(s=s.slice(s.length-e)),o+s}function X6(t,e){return hr(t,3).substring(0,e)}function Jt(t,e,i=0,n=!1,r=!1){return function(o,s){let a=J6(t,o);if((i>0||a>-i)&&(a+=i),t===et.Hours)a===0&&i===-12&&(a=12);else if(t===et.FractionalSeconds)return X6(a,e);let l=To(s,vn.MinusSign);return hr(a,e,l,n,r)}}function J6(t,e){switch(t){case et.FullYear:return e.getFullYear();case et.Month:return e.getMonth();case et.Date:return e.getDate();case et.Hours:return e.getHours();case et.Minutes:return e.getMinutes();case et.Seconds:return e.getSeconds();case et.FractionalSeconds:return e.getMilliseconds();case et.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function gt(t,e,i=Qi.Format,n=!1){return function(r,o){return e8(r,o,t,e,i,n)}}function e8(t,e,i,n,r,o){switch(i){case Je.Months:return B6(e,r,n)[t.getMonth()];case Je.Days:return j6(e,r,n)[t.getDay()];case Je.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=H6(e),d=G6(e,r,n),u=c.findIndex(h=>{if(Array.isArray(h)){let[m,p]=h,_=s>=m.hours&&a>=m.minutes,y=s<p.hours||s===p.hours&&a<p.minutes;if(m.hours<p.hours){if(_&&y)return!0}else if(_||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return V6(e,r,n)[s<12?0:1];case Je.Eras:return U6(e,n)[t.getFullYear()<=0?0:1];default:let l=i;throw new Error(`unexpected translation type ${l}`)}}function hg(t){return function(e,i,n){let r=-1*n,o=To(i,vn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Ao.Short:return(r>=0?"+":"")+hr(s,2,o)+hr(Math.abs(r%60),2,o);case Ao.ShortGMT:return"GMT"+(r>=0?"+":"")+hr(s,1,o);case Ao.Long:return"GMT"+(r>=0?"+":"")+hr(s,2,o)+":"+hr(Math.abs(r%60),2,o);case Ao.Extended:return n===0?"Z":(r>=0?"+":"")+hr(s,2,o)+":"+hr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var t8=0,fg=4;function i8(t){let e=gg(t,t8,1).getDay();return gg(t,0,1+(e<=fg?fg:fg+7)-e)}function gF(t){let e=t.getDay(),i=e===0?-3:fg-e;return gg(t.getFullYear(),t.getMonth(),t.getDate()+i)}function hx(t,e=!1){return function(i,n){let r;if(e){let o=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,s=i.getDate();r=1+Math.floor((s+o)/7)}else{let o=gF(i),s=i8(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return hr(r,t,To(n,vn.MinusSign))}}function mg(t,e=!1){return function(i,n){let o=gF(i).getFullYear();return hr(o,t,To(n,vn.MinusSign),e)}}var mx={};function n8(t){if(mx[t])return mx[t];let e;switch(t){case"G":case"GG":case"GGG":e=gt(Je.Eras,ht.Abbreviated);break;case"GGGG":e=gt(Je.Eras,ht.Wide);break;case"GGGGG":e=gt(Je.Eras,ht.Narrow);break;case"y":e=Jt(et.FullYear,1,0,!1,!0);break;case"yy":e=Jt(et.FullYear,2,0,!0,!0);break;case"yyy":e=Jt(et.FullYear,3,0,!1,!0);break;case"yyyy":e=Jt(et.FullYear,4,0,!1,!0);break;case"Y":e=mg(1);break;case"YY":e=mg(2,!0);break;case"YYY":e=mg(3);break;case"YYYY":e=mg(4);break;case"M":case"L":e=Jt(et.Month,1,1);break;case"MM":case"LL":e=Jt(et.Month,2,1);break;case"MMM":e=gt(Je.Months,ht.Abbreviated);break;case"MMMM":e=gt(Je.Months,ht.Wide);break;case"MMMMM":e=gt(Je.Months,ht.Narrow);break;case"LLL":e=gt(Je.Months,ht.Abbreviated,Qi.Standalone);break;case"LLLL":e=gt(Je.Months,ht.Wide,Qi.Standalone);break;case"LLLLL":e=gt(Je.Months,ht.Narrow,Qi.Standalone);break;case"w":e=hx(1);break;case"ww":e=hx(2);break;case"W":e=hx(1,!0);break;case"d":e=Jt(et.Date,1);break;case"dd":e=Jt(et.Date,2);break;case"c":case"cc":e=Jt(et.Day,1);break;case"ccc":e=gt(Je.Days,ht.Abbreviated,Qi.Standalone);break;case"cccc":e=gt(Je.Days,ht.Wide,Qi.Standalone);break;case"ccccc":e=gt(Je.Days,ht.Narrow,Qi.Standalone);break;case"cccccc":e=gt(Je.Days,ht.Short,Qi.Standalone);break;case"E":case"EE":case"EEE":e=gt(Je.Days,ht.Abbreviated);break;case"EEEE":e=gt(Je.Days,ht.Wide);break;case"EEEEE":e=gt(Je.Days,ht.Narrow);break;case"EEEEEE":e=gt(Je.Days,ht.Short);break;case"a":case"aa":case"aaa":e=gt(Je.DayPeriods,ht.Abbreviated);break;case"aaaa":e=gt(Je.DayPeriods,ht.Wide);break;case"aaaaa":e=gt(Je.DayPeriods,ht.Narrow);break;case"b":case"bb":case"bbb":e=gt(Je.DayPeriods,ht.Abbreviated,Qi.Standalone,!0);break;case"bbbb":e=gt(Je.DayPeriods,ht.Wide,Qi.Standalone,!0);break;case"bbbbb":e=gt(Je.DayPeriods,ht.Narrow,Qi.Standalone,!0);break;case"B":case"BB":case"BBB":e=gt(Je.DayPeriods,ht.Abbreviated,Qi.Format,!0);break;case"BBBB":e=gt(Je.DayPeriods,ht.Wide,Qi.Format,!0);break;case"BBBBB":e=gt(Je.DayPeriods,ht.Narrow,Qi.Format,!0);break;case"h":e=Jt(et.Hours,1,-12);break;case"hh":e=Jt(et.Hours,2,-12);break;case"H":e=Jt(et.Hours,1);break;case"HH":e=Jt(et.Hours,2);break;case"m":e=Jt(et.Minutes,1);break;case"mm":e=Jt(et.Minutes,2);break;case"s":e=Jt(et.Seconds,1);break;case"ss":e=Jt(et.Seconds,2);break;case"S":e=Jt(et.FractionalSeconds,1);break;case"SS":e=Jt(et.FractionalSeconds,2);break;case"SSS":e=Jt(et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=hg(Ao.Short);break;case"ZZZZZ":e=hg(Ao.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hg(Ao.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=hg(Ao.Long);break;default:return null}return mx[t]=e,e}function vF(t,e){t=t.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function r8(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function o8(t,e,i){let n=i?-1:1,r=t.getTimezoneOffset(),o=vF(e,r);return r8(t,n*(o-r))}function s8(t){if(nF(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return gg(r,o-1,s)}let i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let n;if(n=t.match(K6))return a8(n)}let e=new Date(t);if(!nF(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function a8(t){let e=new Date(0),i=0,n=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-i,a=Number(t[5]||0)-n,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function nF(t){return t instanceof Date&&!isNaN(t.valueOf())}var l8=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rF=22,vg=".",Pu="0",c8=";",d8=",",fx="#",oF="\xA4";function u8(t,e,i,n,r,o,s=!1){let a="",l=!1;if(!isFinite(t))a=To(i,vn.Infinity);else{let c=p8(t);s&&(c=f8(c));let d=e.minInt,u=e.minFrac,h=e.maxFrac;if(o){let N=o.match(l8);if(N===null)throw new Error(`${o} is not a valid digit info`);let M=N[1],P=N[3],ie=N[5];M!=null&&(d=px(M)),P!=null&&(u=px(P)),ie!=null?h=px(ie):P!=null&&u>h&&(h=u)}g8(c,u,h);let m=c.digits,p=c.integerLen,_=c.exponent,y=[];for(l=m.every(N=>!N);p<d;p++)m.unshift(0);for(;p<0;p++)m.unshift(0);p>0?y=m.splice(p,m.length):(y=m,m=[0]);let E=[];for(m.length>=e.lgSize&&E.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)E.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&E.unshift(m.join("")),a=E.join(To(i,n)),y.length&&(a+=To(i,r)+y.join("")),_&&(a+=To(i,vn.Exponential)+"+"+_)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function h8(t,e,i,n,r){let o=z6(e,fF.Currency),s=m8(o,To(e,vn.MinusSign));return s.minFrac=Q6(n),s.maxFrac=s.minFrac,u8(t,s,e,vn.CurrencyGroup,vn.CurrencyDecimal,r).replace(oF,i).replace(oF,"").trim()}function m8(t,e="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(c8),r=n[0],o=n[1],s=r.indexOf(vg)!==-1?r.split(vg):[r.substring(0,r.lastIndexOf(Pu)+1),r.substring(r.lastIndexOf(Pu)+1)],a=s[0],l=s[1]||"";i.posPre=a.substring(0,a.indexOf(fx));for(let d=0;d<l.length;d++){let u=l.charAt(d);u===Pu?i.minFrac=i.maxFrac=d+1:u===fx?i.maxFrac=d+1:i.posSuf+=u}let c=a.split(d8);if(i.gSize=c[1]?c[1].length:0,i.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-i.posPre.length-i.posSuf.length,u=o.indexOf(fx);i.negPre=o.substring(0,u).replace(/'/g,""),i.negSuf=o.slice(u+d).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}function f8(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function p8(t){let e=Math.abs(t)+"",i=0,n,r,o,s,a;for((r=e.indexOf(vg))>-1&&(e=e.replace(vg,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===Pu;o++);if(o===(a=e.length))n=[0],r=1;else{for(a--;e.charAt(a)===Pu;)a--;for(r-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(e.charAt(o))}return r>rF&&(n=n.splice(0,rF-1),i=r-1,r=1),{digits:n,exponent:i,integerLen:r}}function g8(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let n=t.digits,r=n.length-t.integerLen,o=Math.min(Math.max(e,r),i),s=o+t.integerLen,a=n[s];if(s>0){n.splice(Math.max(t.integerLen,s));for(let u=s;u<n.length;u++)n[u]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let u=1;u<s;u++)n[u]=0}if(a>=5)if(s-1<0){for(let u=0;u>s;u--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[s-1]++;for(;r<Math.max(0,o);r++)n.push(0);let l=o!==0,c=e+t.integerLen,d=n.reduceRight(function(u,h,m,p){return h=h+u,p[m]=h<10?h:h-10,l&&(p[m]===0&&m>=c?p.pop():l=!1),h>=10?1:0},0);d&&(n.unshift(d),t.integerLen++)}function px(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function _g(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,o]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var gx=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Nn=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new gx(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),sF(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);sF(s,o)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(qi),f(ai),f(Mu))},e.\u0275dir=H({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function sF(t,e){t.context.$implicit=e.item}var qt=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new vx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){aF("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){aF("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(qi),f(ai))},e.\u0275dir=H({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),vx=class{constructor(){this.$implicit=null,this.ngIf=null}};function aF(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$i(e)}'.`)}var sc=(()=>{let e=class e{constructor(n,r,o){this._ngEl=n,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[o,s]=n.split("."),a=o.indexOf("-")===-1?void 0:Lr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(f(K),f(Ru),f(Gi))},e.\u0275dir=H({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),Ou=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(f(qi))},e.\u0275dir=H({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ut]});let t=e;return t})();function Cx(t,e){return new L(2100,!1)}var _x=class{createSubscription(e,i){return cx(()=>e.subscribe({next:i,error:n=>{throw n}}))}dispose(e){cx(()=>e.unsubscribe())}},bx=class{createSubscription(e,i){return e.then(i,n=>{throw n})}dispose(e){}},v8=new bx,_8=new _x,Ur=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(fs(n))return v8;if(sx(n))return _8;throw Cx(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(f(pt,16))},e.\u0275pipe=yu({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var b8="mediumDate",y8=new k(""),w8=new k(""),_F=(()=>{let e=class e{constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,s){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??b8,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Z6(n,a,s||this.locale,l)}catch(a){throw Cx(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(f(rc,16),f(y8,24),f(w8,24))},e.\u0275pipe=yu({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var bg=(()=>{let e=class e{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,o="symbol",s,a){if(!x8(n))return null;a||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let l=r||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?l=q6(l,o==="symbol"?"wide":"narrow",a):l=o);try{let c=E8(n);return h8(c,a,l,r,s)}catch(c){throw Cx(e,c.message)}}};e.\u0275fac=function(r){return new(r||e)(f(rc,16),f(qR,16))},e.\u0275pipe=yu({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function x8(t){return!(t==null||t===""||t!==t)}function E8(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var _n=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})(),Dx="browser",I8="server";function zr(t){return t===Dx}function Ki(t){return t===I8}var bF=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>zr(A(st))?new yx(A(re),window):new wx});let t=e;return t})(),yx=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=C8(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function C8(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=n.nextNode()}}return null}var wx=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},oc=class{};var Lu=class{},wg=class{},Ia=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Tx=class{encodeKey(e){return yF(e)}encodeValue(e){return yF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function T8(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var A8=/%(\d[a-f0-9])/gi,k8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yF(t){return encodeURIComponent(t).replace(A8,(e,i)=>k8[i]??e)}function yg(t){return`${t}`}var gs=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tx,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=T8(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(yg):[yg(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(yg(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(yg(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ax=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function M8(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wF(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xF(t){return typeof Blob<"u"&&t instanceof Blob}function EF(t){return typeof FormData<"u"&&t instanceof FormData}function R8(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Nu=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(M8(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ia,this.context??=new Ax,!this.params)this.params=new gs,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wF(this.body)||xF(this.body)||EF(this.body)||R8(this.body)?this.body:this.body instanceof gs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||EF(this.body)?null:xF(this.body)?this.body.type||null:wF(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof gs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((h,m)=>h.set(m,e.setHeaders[m]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,m)=>h.set(m,e.setParams[m]),d)),new t(i,n,s,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},ac=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ac||{}),Vu=class{constructor(e,i=Ig.Ok,n="OK"){this.headers=e.headers||new Ia,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kx=class t extends Vu{constructor(e={}){super(e),this.type=ac.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xg=class t extends Vu{constructor(e={}){super(e),this.type=ac.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Eg=class extends Vu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ig=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ig||{});function Sx(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Mx=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Nu)s=n;else{let c;o.headers instanceof Ia?c=o.headers:c=new Ia(o.headers);let d;o.params&&(o.params instanceof gs?d=o.params:d=new gs({fromObject:o.params})),s=new Nu(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=z(s).pipe(vo(c=>this.handler.handle(c)));if(n instanceof Nu||o.observe==="events")return a;let l=a.pipe(Fe(c=>c instanceof xg));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(B(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(B(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new gs().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Sx(o,r))}post(n,r,o={}){return this.request("POST",n,Sx(o,r))}put(n,r,o={}){return this.request("PUT",n,Sx(o,r))}};e.\u0275fac=function(r){return new(r||e)(g(Lu))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function SF(t,e){return e(t)}function F8(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function P8(t,e,i){return(n,r)=>lr(i,()=>e(n,o=>t(o,r)))}var O8=new k(""),Rx=new k(""),N8=new k(""),L8=new k("");function V8(){let t=null;return(e,i)=>{t===null&&(t=(A(O8,{optional:!0})??[]).reduceRight(F8,SF));let n=A(ds),r=n.add();return t(e,i).pipe(Rr(()=>n.remove(r)))}}var IF=(()=>{let e=class e extends Lu{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=A(ds);let o=A(L8,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Rx),...this.injector.get(N8,[])]));this.chain=o.reduceRight((s,a)=>P8(s,a,this.injector),SF)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Rr(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(g(wg),g(_i))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();var j8=/^\)\]\}',?\n/;function B8(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var CF=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ge(r.\u0275loadImpl()):z(null)).pipe(Pe(()=>new se(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((y,E)=>a.setRequestHeader(y,E.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let y=n.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(n.responseType){let y=n.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let l=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let y=a.statusText||"OK",E=new Ia(a.getAllResponseHeaders()),N=B8(a)||n.url;return c=new kx({headers:E,status:a.status,statusText:y,url:N}),c},u=()=>{let{headers:y,status:E,statusText:N,url:M}=d(),P=null;E!==Ig.NoContent&&(P=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=P?Ig.Ok:0);let ie=E>=200&&E<300;if(n.responseType==="json"&&typeof P=="string"){let ne=P;P=P.replace(j8,"");try{P=P!==""?JSON.parse(P):null}catch(he){P=ne,ie&&(ie=!1,P={error:he,text:P})}}ie?(s.next(new xg({body:P,headers:y,status:E,statusText:N,url:M||void 0})),s.complete()):s.error(new Eg({error:P,headers:y,status:E,statusText:N,url:M||void 0}))},h=y=>{let{url:E}=d(),N=new Eg({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});s.error(N)},m=!1,p=y=>{m||(s.next(d()),m=!0);let E={type:ac.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),n.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),s.next(E)},_=y=>{let E={type:ac.UploadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),s.next(E)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(l),s.next({type:ac.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(g(oc))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),TF=new k(""),U8="XSRF-TOKEN",z8=new k("",{providedIn:"root",factory:()=>U8}),$8="X-XSRF-TOKEN",H8=new k("",{providedIn:"root",factory:()=>$8}),Cg=class{},G8=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_g(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(g(re),g(st),g(z8))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function q8(t,e){let i=t.url.toLowerCase();if(!A(TF)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=A(Cg).getToken(),r=A(H8);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var AF=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(AF||{});function W8(t,e){return{\u0275kind:t,\u0275providers:e}}function Q8(...t){let e=[Mx,CF,IF,{provide:Lu,useExisting:IF},{provide:wg,useExisting:CF},{provide:Rx,useValue:q8,multi:!0},{provide:TF,useValue:!0},{provide:Cg,useClass:G8}];for(let i of t)e.push(...i.\u0275providers);return Yl(e)}var DF=new k("");function K8(){return W8(AF.LegacyInterceptors,[{provide:DF,useFactory:V8},{provide:Rx,useExisting:DF,multi:!0}])}var kF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({providers:[Q8(K8())]});let t=e;return t})();var Ox=class extends pg{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Nx=class t extends Ox{static makeCurrent(){cF(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=Z8();return i==null?null:X8(i)}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _g(document.cookie,e)}},ju=null;function Z8(){return ju=ju||document.querySelector("base"),ju?ju.getAttribute("href"):null}function X8(t){return new URL(t,document.baseURI).pathname}var Lx=class{addToWindow(e){Bt.getAngularTestability=(n,r=!0)=>{let o=e.findTestabilityInTree(n,r);if(o==null)throw new L(5103,!1);return o},Bt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Bt.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Bt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(a=>{a.whenStable(s)})};Bt.frameworkStabilizers||(Bt.frameworkStabilizers=[]),Bt.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?Br().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},J8=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Vx=new k(""),FF=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(g(Vx),g(U))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Dg=class{constructor(e){this._doc=e}},Fx="ng-app-id",PF=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ki(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Fx}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Fx),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Fx,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(g(re),g(tc),g(Eu,8),g(st))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Px={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bx=/%COMP%/g,OF="%COMP%",eq=`_nghost-${OF}`,tq=`_ngcontent-${OF}`,iq=!0,nq=new k("",{providedIn:"root",factory:()=>iq});function rq(t){return tq.replace(Bx,t)}function oq(t){return eq.replace(Bx,t)}function NF(t,e){return e.map(i=>i.replace(Bx,t))}var Sg=(()=>{let e=class e{constructor(n,r,o,s,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ki(l),this.defaultRenderer=new Bu(n,a,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Or.ShadowDom&&(r=pe(T({},r),{encapsulation:Or.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Tg?o.applyToHost(n):o instanceof Uu&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Or.Emulated:s=new Tg(c,d,r,this.appId,u,a,l,h);break;case Or.ShadowDom:return new jx(c,d,n,r,a,l,this.nonce,h);default:s=new Uu(c,d,r,u,a,l,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(g(FF),g(PF),g(tc),g(nq),g(re),g(st),g(U),g(Eu))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Bu=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Px[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(MF(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(MF(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new L(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let o=Px[r];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=Px[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Lr.DashCase|Lr.Important)?e.style.setProperty(i,n,r&Lr.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Lr.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Br().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function MF(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jx=class extends Bu{constructor(e,i,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=NF(r.id,r.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uu=class extends Bu{constructor(e,i,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?NF(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tg=class extends Uu{constructor(e,i,n,r,o,s,a,l){let c=r+"-"+n.id;super(e,i,n,o,s,a,l,c),this.contentAttr=rq(c),this.hostAttr=oq(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},sq=(()=>{let e=class e extends Dg{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),RF=["alt","control","meta","shift"],aq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cq=(()=>{let e=class e extends Dg{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),RF.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let o=aq[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),RF.forEach(a=>{if(a!==o){let l=lq[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function dq(){Nx.makeCurrent()}function uq(){return new Hi}function hq(){return SM(document),document}var mq=[{provide:st,useValue:Dx},{provide:Fw,useValue:dq,multi:!0},{provide:re,useFactory:hq,deps:[]}],LF=ax(ZR,"browser",mq),fq=new k(""),pq=[{provide:ku,useClass:Lx,deps:[]},{provide:rx,useClass:ng,deps:[U,rg,ku]},{provide:ng,useClass:ng,deps:[U,rg,ku]}],gq=[{provide:Rp,useValue:"root"},{provide:Hi,useFactory:uq,deps:[]},{provide:Vx,useClass:sq,multi:!0,deps:[re,U,st]},{provide:Vx,useClass:cq,multi:!0,deps:[re]},Sg,PF,FF,{provide:_a,useExisting:Sg},{provide:oc,useClass:J8,deps:[]},[]],lc=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:tc,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(g(fq,12))},e.\u0275mod=j({type:e}),e.\u0275inj=V({providers:[...gq,...pq],imports:[_n,XR]});let t=e;return t})();var VF=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ca=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=g(vq),o},providedIn:"root"});let t=e;return t})(),vq=(()=>{let e=class e extends Ca{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case zt.NONE:return r;case zt.HTML:return Io(r,"HTML")?Pn(r):Ow(this._doc,String(r)).toString();case zt.STYLE:return Io(r,"Style")?Pn(r):r;case zt.SCRIPT:if(Io(r,"Script"))return Pn(r);throw new L(5200,!1);case zt.URL:return Io(r,"URL")?Pn(r):$p(String(r));case zt.RESOURCE_URL:if(Io(r,"ResourceURL"))return Pn(r);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(n){return MM(n)}bypassSecurityTrustStyle(n){return RM(n)}bypassSecurityTrustScript(n){return FM(n)}bypassSecurityTrustUrl(n){return PM(n)}bypassSecurityTrustResourceUrl(n){return OM(n)}};e.\u0275fac=function(r){return new(r||e)(g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Re="primary",nh=Symbol("RouteTitle"),Gx=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function mc(t){return new Gx(t)}function _q(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function bq(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!$r(t[i],e[i]))return!1;return!0}function $r(t,e){let i=t?qx(t):void 0,n=e?qx(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!WF(t[r],e[r]))return!1;return!0}function qx(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function WF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,o)=>n[o]===r)}else return t===e}function QF(t){return t.length>0?t[t.length-1]:null}function ys(t){return jf(t)?t:fs(t)?ge(Promise.resolve(t)):z(t)}var yq={exact:YF,subset:ZF},KF={exact:wq,subset:xq,ignored:()=>!0};function jF(t,e,i){return yq[i.paths](t.root,e.root,i.matrixParams)&&KF[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function wq(t,e){return $r(t,e)}function YF(t,e,i){if(!Sa(t.segments,e.segments)||!Mg(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!YF(t.children[n],e.children[n],i))return!1;return!0}function xq(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>WF(t[i],e[i]))}function ZF(t,e,i){return XF(t,e,e.segments,i)}function XF(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!Sa(r,i)||e.hasChildren()||!Mg(r,i,n))}else if(t.segments.length===i.length){if(!Sa(t.segments,i)||!Mg(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!ZF(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!Sa(t.segments,r)||!Mg(t.segments,r,n)||!t.children[Re]?!1:XF(t.children[Re],e,o,n)}}function Mg(t,e,i){return e.every((n,r)=>KF[i](t[r].parameters,n.parameters))}var vs=class{constructor(e=new nt([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=mc(this.queryParams),this._queryParamMap}toString(){return Cq.serialize(this)}},nt=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rg(this)}},Da=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=mc(this.parameters),this._parameterMap}toString(){return eP(this)}};function Eq(t,e){return Sa(t,e)&&t.every((i,n)=>$r(i.parameters,e[n].parameters))}function Sa(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function Iq(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===Re&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==Re&&(i=i.concat(e(r,n)))}),i}var rh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>new Ku,providedIn:"root"});let t=e;return t})(),Ku=class{parse(e){let i=new Qx(e);return new vs(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${$u(e.root,!0)}`,n=Tq(e.queryParams),r=typeof e.fragment=="string"?`#${Dq(e.fragment)}`:"";return`${i}${n}${r}`}},Cq=new Ku;function Rg(t){return t.segments.map(e=>eP(e)).join("/")}function $u(t,e){if(!t.hasChildren())return Rg(t);if(e){let i=t.children[Re]?$u(t.children[Re],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Re&&n.push(`${r}:${$u(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=Iq(t,(n,r)=>r===Re?[$u(t.children[Re],!1)]:[`${r}:${$u(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Re]!=null?`${Rg(t)}/${i[0]}`:`${Rg(t)}/(${i.join("//")})`}}function JF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ag(t){return JF(t).replace(/%3B/gi,";")}function Dq(t){return encodeURI(t)}function Wx(t){return JF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fg(t){return decodeURIComponent(t)}function BF(t){return Fg(t.replace(/\+/g,"%20"))}function eP(t){return`${Wx(t.path)}${Sq(t.parameters)}`}function Sq(t){return Object.entries(t).map(([e,i])=>`;${Wx(e)}=${Wx(i)}`).join("")}function Tq(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Ag(i)}=${Ag(r)}`).join("&"):`${Ag(i)}=${Ag(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var Aq=/^[^\/()?;#]+/;function Ux(t){let e=t.match(Aq);return e?e[0]:""}var kq=/^[^\/()?;=#]+/;function Mq(t){let e=t.match(kq);return e?e[0]:""}var Rq=/^[^=?&#]+/;function Fq(t){let e=t.match(Rq);return e?e[0]:""}var Pq=/^[^&#]+/;function Oq(t){let e=t.match(Pq);return e?e[0]:""}var Qx=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[Re]=new nt(e,i)),n}parseSegment(){let e=Ux(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Da(Fg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=Mq(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Ux(this.remaining);r&&(n=r,this.capture(n))}e[Fg(i)]=Fg(n)}parseQueryParam(e){let i=Fq(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=Oq(this.remaining);s&&(n=s,this.capture(n))}let r=BF(i),o=BF(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ux(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new L(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Re);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[Re]:new nt([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function tP(t){return t.segments.length>0?new nt([],{[Re]:t}):t}function iP(t){let e={};for(let[n,r]of Object.entries(t.children)){let o=iP(r);if(n===Re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let i=new nt(t.segments,e);return Nq(i)}function Nq(t){if(t.numberOfChildren===1&&t.children[Re]){let e=t.children[Re];return new nt(t.segments.concat(e.segments),e.children)}return t}function fc(t){return t instanceof vs}function Lq(t,e,i=null,n=null){let r=nP(t);return rP(r,e,i,n)}function nP(t){let e;function i(o){let s={};for(let l of o.children){let c=i(l);s[l.outlet]=c}let a=new nt(o.url,s);return o===t&&(e=a),a}let n=i(t.root),r=tP(n);return e??r}function rP(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return zx(r,r,r,i,n);let o=Vq(e);if(o.toRoot())return zx(r,r,new nt([],{}),i,n);let s=jq(o,r,t),a=s.processChildren?qu(s.segmentGroup,s.index,o.commands):sP(s.segmentGroup,s.index,o.commands);return zx(r,s.segmentGroup,a,i,n)}function Pg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Yu(t){return typeof t=="object"&&t!=null&&t.outlets}function zx(t,e,i,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===e?s=i:s=oP(t,e,i);let a=tP(iP(s));return new vs(a,o,r)}function oP(t,e,i){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===e?n[r]=i:n[r]=oP(o,e,i)}),new nt(t.segments,n)}var Og=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Pg(n[0]))throw new L(4003,!1);let r=n.find(Yu);if(r&&r!==QF(n))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Vq(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Og(!0,0,t);let e=0,i=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Og(i,e,n)}var uc=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function jq(t,e,i){if(t.isAbsolute)return new uc(e,!0,0);if(!i)return new uc(e,!1,NaN);if(i.parent===null)return new uc(i,!0,0);let n=Pg(t.commands[0])?0:1,r=i.segments.length-1+n;return Bq(i,r,t.numberOfDoubleDots)}function Bq(t,e,i){let n=t,r=e,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new L(4005,!1);r=n.segments.length}return new uc(n,!1,r-o)}function Uq(t){return Yu(t[0])?t[0].outlets:{[Re]:t}}function sP(t,e,i){if(t??=new nt([],{}),t.segments.length===0&&t.hasChildren())return qu(t,e,i);let n=zq(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new nt(t.segments.slice(0,n.pathIndex),{});return o.children[Re]=new nt(t.segments.slice(n.pathIndex),t.children),qu(o,0,r)}else return n.match&&r.length===0?new nt(t.segments,{}):n.match&&!t.hasChildren()?Kx(t,e,i):n.match?qu(t,0,r):Kx(t,e,i)}function qu(t,e,i){if(i.length===0)return new nt(t.segments,{});{let n=Uq(i),r={};if(Object.keys(n).some(o=>o!==Re)&&t.children[Re]&&t.numberOfChildren===1&&t.children[Re].segments.length===0){let o=qu(t.children[Re],e,i);return new nt(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=sP(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new nt(t.segments,r)}}function zq(t,e,i){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return o;let s=t.segments[r],a=i[n];if(Yu(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!zF(l,c,s))return o;n+=2}else{if(!zF(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Kx(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(Yu(o)){let l=$q(o.outlets);return new nt(n,l)}if(r===0&&Pg(i[0])){let l=t.segments[e];n.push(new Da(l.path,UF(i[0]))),r++;continue}let s=Yu(o)?o.outlets[Re]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Pg(a)?(n.push(new Da(s,UF(a))),r+=2):(n.push(new Da(s,{})),r++)}return new nt(n,{})}function $q(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=Kx(new nt([],{}),0,n))}),e}function UF(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function zF(t,e,i){return t==i.path&&$r(e,i.parameters)}var Wu="imperative",mi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(mi||{}),Ln=class{constructor(e,i){this.id=e,this.url=i}},pc=class extends Ln{constructor(e,i,n="imperative",r=null){super(e,i),this.type=mi.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mr=class extends Ln{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=mi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(yn||{}),Ng=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ng||{}),_s=class extends Ln{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=mi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bs=class extends Ln{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=mi.NavigationSkipped}},Zu=class extends Ln{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=mi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lg=class extends Ln{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=mi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yx=class extends Ln{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=mi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zx=class extends Ln{constructor(e,i,n,r,o){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=mi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xx=class extends Ln{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=mi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jx=class extends Ln{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=mi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eE=class{constructor(e){this.route=e,this.type=mi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tE=class{constructor(e){this.route=e,this.type=mi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},iE=class{constructor(e){this.snapshot=e,this.type=mi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nE=class{constructor(e){this.snapshot=e,this.type=mi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rE=class{constructor(e){this.snapshot=e,this.type=mi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oE=class{constructor(e){this.snapshot=e,this.type=mi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vg=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=mi.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Xu=class{},Ju=class{constructor(e){this.url=e}};var sE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oh,this.attachRef=null}},oh=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new sE,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jg=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=aE(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=aE(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=lE(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return lE(e,this._root).map(i=>i.value)}};function aE(t,e){if(t===e.value)return e;for(let i of e.children){let n=aE(t,i);if(n)return n}return null}function lE(t,e){if(t===e.value)return[e];for(let i of e.children){let n=lE(t,i);if(n.length)return n.unshift(e),n}return[]}var bn=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function dc(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Bg=class extends jg{constructor(e,i){super(e),this.snapshot=i,_E(this,e)}toString(){return this.snapshot.toString()}};function aP(t){let e=Hq(t),i=new tt([new Da("",{})]),n=new tt({}),r=new tt({}),o=new tt({}),s=new tt(""),a=new wn(i,n,o,s,r,Re,t,e.root);return a.snapshot=e.root,new Bg(new bn(a,[]),e)}function Hq(t){let e={},i={},n={},r="",o=new eh([],e,n,r,i,Re,t,null,{});return new Ug("",new bn(o,[]))}var wn=class{constructor(e,i,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(c=>c[nh]))??z(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>mc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>mc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vE(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),r?.data),t._resolvedData)}:n={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},r&&cP(r)&&(n.resolve[nh]=r.title),n}var eh=class{get title(){return this.data?.[nh]}constructor(e,i,n,r,o,s,a,l,c){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Ug=class extends jg{constructor(e,i){super(i),this.url=e,_E(this,i)}toString(){return lP(this._root)}};function _E(t,e){e.value._routerState=t,e.children.forEach(i=>_E(t,i))}function lP(t){let e=t.children.length>0?` { ${t.children.map(lP).join(", ")} } `:"";return`${t.value}${e}`}function $x(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,$r(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),$r(e.params,i.params)||t.paramsSubject.next(i.params),bq(e.url,i.url)||t.urlSubject.next(i.url),$r(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cE(t,e){let i=$r(t.params,e.params)&&Eq(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||cE(t.parent,e.parent))}function cP(t){return typeof t.title=="string"||t.title===null}var bE=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=A(oh),this.location=A(qi),this.changeDetector=A(pt),this.environmentInjector=A(_i),this.inputBinder=A(qg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new dE(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ut]});let t=e;return t})(),dE=class{constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n,this.__ngOutletInjector=!0}get(e,i){return e===wn?this.route:e===oh?this.childContexts:this.parent.get(e,i)}},qg=new k(""),$F=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=oa([r.queryParams,r.params,r.data]).pipe(Pe(([s,a,l],c)=>(l=T(T(T({},s),a),l),c===0?z(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=eF(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function Gq(t,e,i){let n=th(t,e._root,i?i._root:void 0);return new Bg(n,e)}function th(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=qq(t,e,i);return new bn(n,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>th(t,a)),s}}let n=Wq(e.value),r=e.children.map(o=>th(t,o));return new bn(n,r)}}function qq(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return th(t,n,r);return th(t,n)})}function Wq(t){return new wn(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var dP="ngNavigationCancelingError";function uP(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=fc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=hP(!1,yn.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function hP(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[dP]=!0,i.cancellationCode=e,i}function Qq(t){return mP(t)&&fc(t.url)}function mP(t){return!!t&&t[dP]}var Kq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["ng-component"]],standalone:!0,features:[Me],decls:1,vars:0,template:function(r,o){r&1&&Y(0,"router-outlet")},dependencies:[bE],encapsulation:2});let t=e;return t})();function Yq(t,e){return t.providers&&!t._injector&&(t._injector=Xp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yE(t){let e=t.children&&t.children.map(yE),i=e?pe(T({},t),{children:e}):T({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Re&&(i.component=Kq),i}function Hr(t){return t.outlet||Re}function Zq(t,e){let i=t.filter(n=>Hr(n)===e);return i.push(...t.filter(n=>Hr(n)!==e)),i}function sh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Xq=(t,e,i,n)=>B(r=>(new uE(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),uE=class{constructor(e,i,n,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),$x(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=dc(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=dc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=dc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=dc(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new oE(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nE(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if($x(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$x(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=sh(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},zg=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hc=class{constructor(e,i){this.component=e,this.route=i}};function Jq(t,e,i){let n=t._root,r=e?e._root:null;return Hu(n,r,i,[n.value])}function e9(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vc(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!b1(t)?t:e.get(t):n}function Hu(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=dc(e);return t.children.forEach(s=>{t9(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qu(a,i.getContext(s),r)),r}function t9(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=i9(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new zg(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Hu(t,e,a?a.children:null,n,r):Hu(t,e,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new hc(a.outlet.component,s))}else s&&Qu(e,a,r),r.canActivateChecks.push(new zg(n)),o.component?Hu(t,null,a?a.children:null,n,r):Hu(t,null,i,n,r);return r}function i9(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!Sa(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sa(t.url,e.url)||!$r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cE(t,e)||!$r(t.queryParams,e.queryParams);case"paramsChange":default:return!cE(t,e)}}function Qu(t,e,i){let n=dc(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?e?Qu(s,e.children.getContext(o),i):Qu(s,null,i):Qu(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new hc(e.outlet.component,r)):i.canDeactivateChecks.push(new hc(null,r)):i.canDeactivateChecks.push(new hc(null,r))}function ah(t){return typeof t=="function"}function n9(t){return typeof t=="boolean"}function r9(t){return t&&ah(t.canLoad)}function o9(t){return t&&ah(t.canActivate)}function s9(t){return t&&ah(t.canActivateChild)}function a9(t){return t&&ah(t.canDeactivate)}function l9(t){return t&&ah(t.canMatch)}function fP(t){return t instanceof po||t?.name==="EmptyError"}var kg=Symbol("INITIAL_VALUE");function gc(){return Pe(t=>oa(t.map(e=>e.pipe(Et(1),si(kg)))).pipe(B(e=>{for(let i of e)if(i!==!0){if(i===kg)return kg;if(i===!1||i instanceof vs)return i}return!0}),Fe(e=>e!==kg),Et(1)))}function c9(t,e){return Rt(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?z(pe(T({},i),{guardsResult:!0})):d9(s,n,r,t).pipe(Rt(a=>a&&n9(a)?u9(n,o,t,e):z(a)),B(a=>pe(T({},i),{guardsResult:a})))})}function d9(t,e,i,n){return ge(t).pipe(Rt(r=>g9(r.component,r.route,i,e,n)),Mn(r=>r!==!0,!0))}function u9(t,e,i,n){return ge(e).pipe(vo(r=>ts(m9(r.route.parent,n),h9(r.route,n),p9(t,r.path,i),f9(t,r.route,i))),Mn(r=>r!==!0,!0))}function h9(t,e){return t!==null&&e&&e(new rE(t)),z(!0)}function m9(t,e){return t!==null&&e&&e(new iE(t)),z(!0)}function f9(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return z(!0);let r=n.map(o=>zf(()=>{let s=sh(e)??i,a=vc(o,s),l=o9(a)?a.canActivate(e,t):lr(s,()=>a(e,t));return ys(l).pipe(Mn())}));return z(r).pipe(gc())}function p9(t,e,i){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>e9(s)).filter(s=>s!==null).map(s=>zf(()=>{let a=s.guards.map(l=>{let c=sh(s.node)??i,d=vc(l,c),u=s9(d)?d.canActivateChild(n,t):lr(c,()=>d(n,t));return ys(u).pipe(Mn())});return z(a).pipe(gc())}));return z(o).pipe(gc())}function g9(t,e,i,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let l=sh(e)??r,c=vc(a,l),d=a9(c)?c.canDeactivate(t,e,i,n):lr(l,()=>c(t,e,i,n));return ys(d).pipe(Mn())});return z(s).pipe(gc())}function v9(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return z(!0);let o=r.map(s=>{let a=vc(s,t),l=r9(a)?a.canLoad(e,i):lr(t,()=>a(e,i));return ys(l)});return z(o).pipe(gc(),pP(n))}function pP(t){return Fy(ot(e=>{if(fc(e))throw uP(t,e)}),B(e=>e===!0))}function _9(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return z(!0);let o=r.map(s=>{let a=vc(s,t),l=l9(a)?a.canMatch(e,i):lr(t,()=>a(e,i));return ys(l)});return z(o).pipe(gc(),pP(n))}var ih=class{constructor(e){this.segmentGroup=e||null}},$g=class extends Error{constructor(e){super(),this.urlTree=e}};function cc(t){return kr(new ih(t))}function b9(t){return kr(new L(4e3,!1))}function y9(t){return kr(hP(!1,yn.GuardRejected))}var hE=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return z(n);if(r.numberOfChildren>1||!r.children[Re])return b9(e.redirectTo);r=r.children[Re]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new $g(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let o=this.createSegmentGroup(e,i.root,n,r);return new vs(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(e,i,n,r){let o=this.createSegments(e,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new nt(o,s)}createSegments(e,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new L(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},mE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w9(t,e,i,n,r){let o=wE(t,e,i);return o.matched?(n=Yq(e,n),_9(n,e,i,r).pipe(B(s=>s===!0?o:T({},mE)))):z(o)}function wE(t,e,i){if(e.path==="**")return x9(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?T({},mE):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||_q)(i,t,e);if(!r)return T({},mE);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?T(T({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function x9(t){return{matched:!0,parameters:t.length>0?QF(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function HF(t,e,i,n){return i.length>0&&C9(t,i,n)?{segmentGroup:new nt(e,I9(n,new nt(i,t.children))),slicedSegments:[]}:i.length===0&&D9(t,i,n)?{segmentGroup:new nt(t.segments,E9(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new nt(t.segments,t.children),slicedSegments:i}}function E9(t,e,i,n){let r={};for(let o of i)if(Wg(t,e,o)&&!n[Hr(o)]){let s=new nt([],{});r[Hr(o)]=s}return T(T({},n),r)}function I9(t,e){let i={};i[Re]=e;for(let n of t)if(n.path===""&&Hr(n)!==Re){let r=new nt([],{});i[Hr(n)]=r}return i}function C9(t,e,i){return i.some(n=>Wg(t,e,n)&&Hr(n)!==Re)}function D9(t,e,i){return i.some(n=>Wg(t,e,n))}function Wg(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function S9(t,e,i,n){return Hr(t)!==n&&(n===Re||!Wg(e,i,t))?!1:wE(e,t,i).matched}function T9(t,e,i){return e.length===0&&!t.children[i]}var fE=class{};function A9(t,e,i,n,r,o,s="emptyOnly"){return new pE(t,e,i,n,r,s,o).recognize()}var k9=31,pE=class{constructor(e,i,n,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=HF(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(i=>{let n=new eh([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),r=new bn(n,i),o=new Ug("",r),s=Lq(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Re).pipe(Ti(n=>{if(n instanceof $g)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ih?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=vE(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(B(o=>o instanceof bn?[o]:[]))}processChildren(e,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return ge(r).pipe(vo(o=>{let s=n.children[o],a=Zq(i,o);return this.processSegmentGroup(e,a,s,o)}),aa((o,s)=>(o.push(...s),o)),is(null),By(),Rt(o=>{if(o===null)return cc(n);let s=gP(o);return M9(s),z(s)}))}processSegment(e,i,n,r,o,s){return ge(i).pipe(vo(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,o,s).pipe(Ti(l=>{if(l instanceof ih)return z(null);throw l}))),Mn(a=>!!a),Ti(a=>{if(fP(a))return T9(n,r,o)?z(new fE):cc(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,o,s,a){return S9(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,o,s):cc(r):cc(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=wE(i,r,o);if(!a)return cc(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>k9&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,u).pipe(Rt(h=>this.processSegment(e,n,i,h.concat(d),s,!1)))}matchSegmentAgainstRoute(e,i,n,r,o){let s=w9(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(Pe(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(Pe(({routes:l})=>{let c=n._loadedInjector??e,{consumedSegments:d,remainingSegments:u,parameters:h}=a,m=new eh(d,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,F9(n),Hr(n),n.component??n._loadedComponent??null,n,P9(n)),{segmentGroup:p,slicedSegments:_}=HF(i,d,u,l);if(_.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(B(E=>E===null?null:new bn(m,E)));if(l.length===0&&_.length===0)return z(new bn(m,[]));let y=Hr(n)===o;return this.processSegment(c,l,p,_,y?Re:o,!0).pipe(B(E=>new bn(m,E instanceof bn?[E]:[])))}))):cc(i)))}getChildConfig(e,i,n){return i.children?z({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?z({routes:i._loadedRoutes,injector:i._loadedInjector}):v9(e,i,n,this.urlSerializer).pipe(Rt(r=>r?this.configLoader.loadChildren(e,i).pipe(ot(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):y9(i))):z({routes:[],injector:e})}};function M9(t){t.sort((e,i)=>e.value.outlet===Re?-1:i.value.outlet===Re?1:e.value.outlet.localeCompare(i.value.outlet))}function R9(t){let e=t.value.routeConfig;return e&&e.path===""}function gP(t){let e=[],i=new Set;for(let n of t){if(!R9(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=gP(n.children);e.push(new bn(n.value,r))}return e.filter(n=>!i.has(n))}function F9(t){return t.data||{}}function P9(t){return t.resolve||{}}function O9(t,e,i,n,r,o){return Rt(s=>A9(t,e,i,n,s.extractedUrl,r,o).pipe(B(({state:a,tree:l})=>pe(T({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function N9(t,e){return Rt(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return z(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of vP(l))s.add(c);let a=0;return ge(s).pipe(vo(l=>o.has(l)?L9(l,n,t,e):(l.data=vE(l,l.parent,t).resolve,z(void 0))),ot(()=>a++),Rl(1),Rt(l=>a===s.size?z(i):Ui))})}function vP(t){let e=t.children.map(i=>vP(i)).flat();return[t,...e]}function L9(t,e,i,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!cP(r)&&(o[nh]=r.title),V9(o,t,e,n).pipe(B(s=>(t._resolvedData=s,t.data=vE(t,t.parent,i).resolve,null)))}function V9(t,e,i,n){let r=qx(t);if(r.length===0)return z({});let o={};return ge(r).pipe(Rt(s=>j9(t[s],e,i,n).pipe(Mn(),ot(a=>{o[s]=a}))),Rl(1),Ml(o),Ti(s=>fP(s)?Ui:kr(s)))}function j9(t,e,i,n){let r=sh(e)??n,o=vc(t,r),s=o.resolve?o.resolve(e,i):lr(r,()=>o(e,i));return ys(s)}function Hx(t){return Pe(e=>{let i=t(e);return i?ge(i).pipe(B(()=>e)):z(e)})}var _P=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Re);return r}getResolvedTitleForRoute(n){return n.data[nh]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>A(B9),providedIn:"root"});let t=e;return t})(),B9=(()=>{let e=class e extends _P{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(g(VF))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lh=new k("",{providedIn:"root",factory:()=>({})}),Hg=new k(""),xE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(sg)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ys(n.loadComponent()).pipe(B(bP),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Rr(()=>{this.componentLoaders.delete(n)})),o=new Cl(r,()=>new W).pipe(Il());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=U9(r,this.compiler,n,this.onLoadEndListener).pipe(Rr(()=>{this.childrenLoaders.delete(r)})),a=new Cl(s,()=>new W).pipe(Il());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U9(t,e,i,n){return ys(t.loadChildren()).pipe(B(bP),Rt(r=>r instanceof pu||Array.isArray(r)?z(r):ge(e.compileModuleAsync(r))),B(r=>{n&&n(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(Hg,[],{optional:!0,self:!0}).flat()),{routes:s.map(yE),injector:o}}))}function z9(t){return t&&typeof t=="object"&&"default"in t}function bP(t){return z9(t)?t.default:t}var EE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>A($9),providedIn:"root"});let t=e;return t})(),$9=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yP=new k(""),wP=new k("");function H9(t,e,i){let n=t.get(wP),r=t.get(re);return t.get(U).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),G9(t))),{onViewTransitionCreated:l}=n;return l&&lr(t,()=>l({transition:a,from:e,to:i})),s})}function G9(t){return new Promise(e=>{Zw(e,{injector:t})})}var IE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new W,this.transitionAbortSubject=new W,this.configLoader=A(xE),this.environmentInjector=A(_i),this.urlSerializer=A(rh),this.rootContexts=A(oh),this.location=A(ps),this.inputBindingEnabled=A(qg,{optional:!0})!==null,this.titleStrategy=A(_P),this.options=A(lh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(EE),this.createViewTransition=A(yP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=o=>this.events.next(new eE(o)),r=o=>this.events.next(new tE(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(pe(T(T({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fe(s=>s.id!==0),B(s=>pe(T({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pe(s=>{let a=!1,l=!1;return z(s).pipe(Pe(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",yn.SupersededByNewNavigation),Ui;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?pe(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new bs(c.id,this.urlSerializer.serialize(c.rawUrl),h,Ng.IgnoredSameUrlNavigation)),c.resolve(null),Ui}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(Pe(h=>{let m=this.transitions?.getValue();return this.events.next(new pc(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?Ui:Promise.resolve(h)}),O9(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=pe(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new Lg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:m,source:p,restoredState:_,extras:y}=c,E=new pc(h,this.urlSerializer.serialize(m),p,_);this.events.next(E);let N=aP(this.rootComponentType).snapshot;return this.currentTransition=s=pe(T({},c),{targetSnapshot:N,urlAfterRedirects:m,extras:pe(T({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,z(s)}else{let h="";return this.events.next(new bs(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Ng.IgnoredByUrlHandlingStrategy)),c.resolve(null),Ui}}),ot(c=>{let d=new Yx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),B(c=>(this.currentTransition=s=pe(T({},c),{guards:Jq(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),c9(this.environmentInjector,c=>this.events.next(c)),ot(c=>{if(s.guardsResult=c.guardsResult,fc(c.guardsResult))throw uP(this.urlSerializer,c.guardsResult);let d=new Zx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Fe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",yn.GuardRejected),!1)),Hx(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(ot(d=>{let u=new Xx(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Pe(d=>{let u=!1;return z(d).pipe(N9(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",yn.NoDataFromResolver)}}))}),ot(d=>{let u=new Jx(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),Hx(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(ot(m=>{u.component=m}),B(()=>{})));for(let m of u.children)h.push(...d(m));return h};return oa(d(c.targetSnapshot.root)).pipe(is(null),Et(1))}),Hx(()=>this.afterPreactivation()),Pe(()=>{let{currentSnapshot:c,targetSnapshot:d}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?ge(u).pipe(B(()=>s)):z(s)}),B(c=>{let d=Gq(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=pe(T({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),ot(()=>{this.events.next(new Xu)}),Xq(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Et(1),ot({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Ze(this.transitionAbortSubject.pipe(ot(c=>{throw c}))),Rr(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",yn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ti(c=>{if(l=!0,mP(c))this.events.next(new _s(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Qq(c)?this.events.next(new Ju(c.url)):s.resolve(!1);else{this.events.next(new Zu(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Ui}))}))}cancelNavigationTransition(n,r,o){let s=new _s(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q9(t){return t!==Wu}var W9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>A(Q9),providedIn:"root"});let t=e;return t})(),gE=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},Q9=(()=>{let e=class e extends gE{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:()=>A(K9),providedIn:"root"});let t=e;return t})(),K9=(()=>{let e=class e extends xP{constructor(){super(...arguments),this.location=A(ps),this.urlSerializer=A(rh),this.options=A(lh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(EE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=aP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof pc)this.stateMemento=this.createStateMemento();else if(n instanceof bs)this.rawUrlTree=r.initialUrl;else if(n instanceof Lg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Xu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof _s&&(n.code===yn.GuardRejected||n.code===yn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Zu?this.restoreHistory(r,!0):n instanceof mr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=T(T({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=T(T({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gu||{});function EP(t,e){t.events.pipe(Fe(i=>i instanceof mr||i instanceof _s||i instanceof Zu||i instanceof bs),B(i=>i instanceof mr||i instanceof bs?Gu.COMPLETE:(i instanceof _s?i.code===yn.Redirect||i.code===yn.SupersededByNewNavigation:!1)?Gu.REDIRECTING:Gu.FAILED),Fe(i=>i!==Gu.REDIRECTING),Et(1)).subscribe(()=>{e()})}function Y9(t){throw t}var Z9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},At=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=A(ig),this.stateManager=A(xP),this.options=A(lh,{optional:!0})||{},this.pendingTasks=A(ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(IE),this.urlSerializer=A(rh),this.location=A(ps),this.urlHandlingStrategy=A(EE),this._events=new W,this.errorHandler=this.options.errorHandler||Y9,this.navigated=!1,this.routeReuseStrategy=A(W9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(Hg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(qg,{optional:!0}),this.eventsSubscription=new Ye,this.isNgZoneEnabled=A(U)instanceof U&&U.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof _s&&r.code!==yn.Redirect&&r.code!==yn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof mr)this.navigated=!0;else if(r instanceof Ju){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||q9(o.source)};this.scheduleNavigation(a,Wu,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}eW(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=T({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=T(T({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let m=o?o.snapshot:this.routerState.snapshot.root;h=nP(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return rP(h,n,u,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=fc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Wu,null,r)}navigate(n,r={skipLocationChange:!1}){return J9(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=T({},Z9):r===!1?o=T({},X9):o=r,fc(n))return jF(this.currentUrlTree,n,o);let s=this.parseUrl(n);return jF(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((h,m)=>{l=h,c=m});let u=this.pendingTasks.add();return EP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J9(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function eW(t){return!(t instanceof Xu)&&!(t instanceof Ju)}var Ot=(()=>{let e=class e{constructor(n,r,o,s,a,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new W,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof mr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:UM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,n,r):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(f(At),f(wn),Jl("tabindex"),f(Gi),f(K),f(ko))},e.\u0275dir=H({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&le("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ze("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[J.HasDecoratorInputTransform,"preserveFragment","preserveFragment",dt],skipLocationChange:[J.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",dt],replaceUrl:[J.HasDecoratorInputTransform,"replaceUrl","replaceUrl",dt],routerLink:"routerLink"},standalone:!0,features:[$t,Ut]});let t=e;return t})(),IP=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,r,o,s,a){this.router=n,this.element=r,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Te,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof mr&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(Mr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ge(n).pipe(Mr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=tW(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(r){return new(r||e)(f(At),f(K),f(Gi),f(pt),f(Ot,8))},e.\u0275dir=H({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,s){if(r&1&&ft(s,Ot,5),r&2){let a;Be(a=Ue())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ut]});let t=e;return t})();function tW(t){return!!t.paths}var Gg=class{};var iW=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Fe(n=>n instanceof mr),vo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Xp(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ge(o).pipe(Mr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=z(null);let s=o.pipe(Rt(a=>a===null?z(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ge([s,a]).pipe(Mr())}else return s})}};e.\u0275fac=function(r){return new(r||e)(g(At),g(sg),g(_i),g(Gg),g(xE))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CP=new k(""),nW=(()=>{let e=class e{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof mr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof bs&&n.code===Ng.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vg&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vg(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Cu()},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function rW(t){return t.routerState.root}function ch(t,e){return{\u0275kind:t,\u0275providers:e}}function oW(){let t=A(bt);return e=>{let i=t.get(Wi);if(e!==i.components[0])return;let n=t.get(At),r=t.get(DP);t.get(CE)===1&&n.initialNavigation(),t.get(SP,null,Ne.Optional)?.setUpPreloading(),t.get(CP,null,Ne.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var DP=new k("",{factory:()=>new W}),CE=new k("",{providedIn:"root",factory:()=>1});function sW(){return ch(2,[{provide:CE,useValue:0},{provide:og,multi:!0,deps:[bt],useFactory:e=>{let i=e.get(dF,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(At),o=e.get(DP);EP(r,()=>{n(!0)}),e.get(IE).afterPreactivation=()=>(n(!0),o.closed?z(void 0):o),r.initialNavigation()}))}}])}function aW(){return ch(3,[{provide:og,multi:!0,useFactory:()=>{let e=A(At);return()=>{e.setUpLocationChangeListener()}}},{provide:CE,useValue:2}])}var SP=new k("");function lW(t){return ch(0,[{provide:SP,useExisting:iW},{provide:Gg,useExisting:t}])}function cW(){return ch(8,[$F,{provide:qg,useExisting:$F}])}function dW(t){let e=[{provide:yP,useValue:H9},{provide:wP,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return ch(9,e)}var GF=new k("ROUTER_FORROOT_GUARD"),uW=[ps,{provide:rh,useClass:Ku},At,oh,{provide:wn,useFactory:rW,deps:[At]},xE,[]],DE=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[uW,[],{provide:Hg,multi:!0,useValue:n},{provide:GF,useFactory:pW,deps:[[At,new xo,new Kl]]},{provide:lh,useValue:r||{}},r?.useHash?mW():fW(),hW(),r?.preloadingStrategy?lW(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?gW(r):[],r?.bindToComponentInputs?cW().\u0275providers:[],r?.enableViewTransitions?dW().\u0275providers:[],vW()]}}static forChild(n){return{ngModule:e,providers:[{provide:Hg,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(g(GF,8))},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})();function hW(){return{provide:CP,useFactory:()=>{let t=A(bF),e=A(U),i=A(lh),n=A(IE),r=A(rh);return i.scrollOffset&&t.setOffset(i.scrollOffset),new nW(r,n,t,e,i)}}}function mW(){return{provide:ko,useClass:hF}}function fW(){return{provide:ko,useClass:Ix}}function pW(t){return"guarded"}function gW(t){return[t.initialNavigation==="disabled"?aW().\u0275providers:[],t.initialNavigation==="enabledBlocking"?sW().\u0275providers:[]]}var qF=new k("");function vW(){return[{provide:qF,useFactory:oW},{provide:nc,multi:!0,useExisting:qF}]}var LP=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(f(Gi),f(K))},e.\u0275dir=H({type:e});let t=e;return t})(),kE=(()=>{let e=class e extends LP{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275dir=H({type:e,features:[ve]});let t=e;return t})(),iv=new k("");var _W={provide:iv,useExisting:ui(()=>xs),multi:!0};function bW(){let t=Br()?Br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var yW=new k(""),xs=(()=>{let e=class e extends LP{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!bW())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(f(Gi),f(K),f(yW,8))},e.\u0275dir=H({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&le("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[yt([_W]),ve]});let t=e;return t})();function ws(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function VP(t){return t!=null&&typeof t.length=="number"}var nv=new k(""),rv=new k(""),wW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nt=class{static min(e){return xW(e)}static max(e){return EW(e)}static required(e){return IW(e)}static requiredTrue(e){return CW(e)}static email(e){return DW(e)}static minLength(e){return SW(e)}static maxLength(e){return TW(e)}static pattern(e){return AW(e)}static nullValidator(e){return jP(e)}static compose(e){return GP(e)}static composeAsync(e){return WP(e)}};function xW(t){return e=>{if(ws(e.value)||ws(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function EW(t){return e=>{if(ws(e.value)||ws(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function IW(t){return ws(t.value)?{required:!0}:null}function CW(t){return t.value===!0?null:{required:!0}}function DW(t){return ws(t.value)||wW.test(t.value)?null:{email:!0}}function SW(t){return e=>ws(e.value)||!VP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function TW(t){return e=>VP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function AW(t){if(!t)return jP;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(ws(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function jP(t){return null}function BP(t){return t!=null}function UP(t){return fs(t)?ge(t):t}function zP(t){let e={};return t.forEach(i=>{e=i!=null?T(T({},e),i):e}),Object.keys(e).length===0?null:e}function $P(t,e){return e.map(i=>i(t))}function kW(t){return!t.validate}function HP(t){return t.map(e=>kW(e)?e:i=>e.validate(i))}function GP(t){if(!t)return null;let e=t.filter(BP);return e.length==0?null:function(i){return zP($P(i,e))}}function qP(t){return t!=null?GP(HP(t)):null}function WP(t){if(!t)return null;let e=t.filter(BP);return e.length==0?null:function(i){let n=$P(i,e).map(UP);return sa(n).pipe(B(zP))}}function QP(t){return t!=null?WP(HP(t)):null}function TP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function KP(t){return t._rawValidators}function YP(t){return t._rawAsyncValidators}function SE(t){return t?Array.isArray(t)?t:[t]:[]}function Yg(t,e){return Array.isArray(t)?t.includes(e):t===e}function AP(t,e){let i=SE(e);return SE(t).forEach(r=>{Yg(i,r)||i.push(r)}),i}function kP(t,e){return SE(e).filter(i=>!Yg(t,i))}var Zg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},Vn=class extends Zg{get formDirective(){return null}get path(){return null}},hh=class extends Zg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xg=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},MW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Jme=pe(T({},MW),{"[class.ng-submitted]":"isSubmitted"}),yc=(()=>{let e=class e extends Xg{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(f(hh,2))},e.\u0275dir=H({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ie("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ve]});let t=e;return t})(),wc=(()=>{let e=class e extends Xg{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(f(Vn,10))},e.\u0275dir=H({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ie("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ve]});let t=e;return t})();var dh="VALID",Qg="INVALID",_c="PENDING",uh="DISABLED";function ME(t){return(ov(t)?t.validators:t)||null}function RW(t){return Array.isArray(t)?qP(t):t||null}function RE(t,e){return(ov(e)?e.asyncValidators:t)||null}function FW(t){return Array.isArray(t)?QP(t):t||null}function ov(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ZP(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new L(1e3,"");if(!n[i])throw new L(1001,"")}function XP(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new L(1002,"")})}var bc=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dh}get invalid(){return this.status===Qg}get pending(){return this.status==_c}get disabled(){return this.status===uh}get enabled(){return this.status!==uh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kP(e,this._rawAsyncValidators))}hasValidator(e){return Yg(this._rawValidators,e)}hasAsyncValidator(e){return Yg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_c,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=uh,this.errors=null,this._forEachChild(n=>{n.disable(pe(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(T({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=dh,this._forEachChild(n=>{n.enable(pe(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(T({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dh||this.status===_c)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uh:dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_c,this._hasOwnPendingAsyncValidator=!0;let i=UP(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?uh:this.errors?Qg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_c)?_c:this._anyControlsHaveStatus(Qg)?Qg:dh}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ov(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=RW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=FW(this._rawAsyncValidators)}},Jg=class extends bc{constructor(e,i,n){super(ME(i),RE(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){XP(this,!0,e),Object.keys(e).forEach(n=>{ZP(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var TE=class extends Jg{};var FE=new k("CallSetDisabledState",{providedIn:"root",factory:()=>sv}),sv="always";function PE(t,e){return[...e.path,t]}function MP(t,e,i=sv){OE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),OW(t,e),LW(t,e),NW(t,e),PW(t,e)}function RP(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),tv(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ev(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function PW(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function OE(t,e){let i=KP(t);e.validator!==null?t.setValidators(TP(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=YP(t);e.asyncValidator!==null?t.setAsyncValidators(TP(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();ev(e._rawValidators,r),ev(e._rawAsyncValidators,r)}function tv(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=KP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(i=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=YP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(i=!0,t.setAsyncValidators(o))}}}let n=()=>{};return ev(e._rawValidators,n),ev(e._rawAsyncValidators,n),i}function OW(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&JP(t,e)})}function NW(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&JP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function JP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LW(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function VW(t,e){t==null,OE(t,e)}function jW(t,e){return tv(t,e)}function BW(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function UW(t){return Object.getPrototypeOf(t.constructor)===kE}function zW(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function $W(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(o=>{o.constructor===xs?i=o:UW(o)?n=o:r=o}),r||n||i||null}function HW(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function FP(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function PP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Kg=class extends bc{constructor(e=null,i,n){super(ME(i),RE(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ov(i)&&(i.nonNullable||i.initialValueIsDefault)&&(PP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var GW=t=>t instanceof Kg,qW=(()=>{let e=class e extends Vn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return PE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275dir=H({type:e,features:[ve]});let t=e;return t})();var xc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var eO=new k("");var WW={provide:Vn,useExisting:ui(()=>Es)},Es=(()=>{let e=class e extends Vn{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return MP(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){RP(n.control||null,n,!1),HW(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,zW(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(RP(r||null,n),GW(o)&&(MP(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);VW(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&jW(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){OE(this.form,this),this._oldForm&&tv(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(f(nv,10),f(rv,10),f(FE,8))},e.\u0275dir=H({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&le("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[J.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yt([WW]),ve,Ut]});let t=e;return t})(),QW={provide:Vn,useExisting:ui(()=>av)},av=(()=>{let e=class e extends qW{constructor(n,r,o){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(o)}_checkParentType(){iO(this._parent)}};e.\u0275fac=function(r){return new(r||e)(f(Vn,13),f(nv,10),f(rv,10))},e.\u0275dir=H({type:e,selectors:[["","formGroupName",""]],inputs:{name:[J.None,"formGroupName","name"]},features:[yt([QW]),ve]});let t=e;return t})(),KW={provide:Vn,useExisting:ui(()=>tO)},tO=(()=>{let e=class e extends Vn{constructor(n,r,o){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return PE(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){iO(this._parent)}};e.\u0275fac=function(r){return new(r||e)(f(Vn,13),f(nv,10),f(rv,10))},e.\u0275dir=H({type:e,selectors:[["","formArrayName",""]],inputs:{name:[J.None,"formArrayName","name"]},features:[yt([KW]),ve]});let t=e;return t})();function iO(t){return!(t instanceof av)&&!(t instanceof Es)&&!(t instanceof tO)}var YW={provide:hh,useExisting:ui(()=>Ta)},Ta=(()=>{let e=class e extends hh{set isDisabled(n){}constructor(n,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Te,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=$W(this,s)}ngOnChanges(n){this._added||this._setUpControl(),BW(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return PE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(f(Vn,13),f(nv,10),f(rv,10),f(iv,10),f(eO,8))},e.\u0275dir=H({type:e,selectors:[["","formControlName",""]],inputs:{name:[J.None,"formControlName","name"],isDisabled:[J.None,"disabled","isDisabled"],model:[J.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[yt([YW]),ve,Ut]});let t=e;return t})(),ZW={provide:iv,useExisting:ui(()=>rO),multi:!0};function nO(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function XW(t){return t.split(":")[0]}var rO=(()=>{let e=class e extends kE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),o=nO(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=XW(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&le("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[yt([ZW]),ve]});let t=e;return t})(),oO=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(nO(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(f(K),f(Gi),f(rO,9))},e.\u0275dir=H({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),JW={provide:iv,useExisting:ui(()=>sO),multi:!0};function OP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function e7(t){return t.split(":")[0]}var sO=(()=>{let e=class e extends kE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],d=this._getOptionValue(c.value);o.push(d)}}else{let a=r.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let d=this._getOptionValue(c.value);o.push(d)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=e7(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&le("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[yt([JW]),ve]});let t=e;return t})(),aO=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(OP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(OP(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(f(K),f(Gi),f(sO,9))},e.\u0275dir=H({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var lO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})(),AE=class extends bc{constructor(e,i,n){super(ME(i),RE(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,n={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,i={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){XP(this,!1,e),e.forEach((n,r)=>{ZP(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((i,n)=>{e(i,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function NP(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Ec=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return NP(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Jg(o,s)}record(n,r=null){let o=this._reduceControls(n);return new TE(o,r)}control(n,r,o){let s={};return this.useNonNullable?(NP(r)?s=r:(s.validators=r,s.asyncValidators=o),new Kg(n,pe(T({},s),{nonNullable:!0}))):new Kg(n,r,o)}array(n,r,o){let s=n.map(a=>this._createControl(a));return new AE(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Kg)return n;if(n instanceof bc)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cO=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:FE,useValue:n.callSetDisabledState??sv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[lO]});let t=e;return t})(),dO=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:eO,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:FE,useValue:n.callSetDisabledState??sv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[lO]});let t=e;return t})();var t7="firebase",i7="10.11.0";Xn(t7,i7,"app");var Ro=new ar("ANGULARFIRE2_VERSION");var n7=(t,e)=>{let i=e?[e]:JA(),n=[];return i.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Mo=class{constructor(){return n7(r7)}},r7="app-check";function NE(){}var cv=class{zone;delegate;constructor(e,i=Vy){this.zone=e,this.delegate=i}now(){return this.delegate.now()}schedule(e,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},LE=class{zone;task=null;constructor(e){this.zone=e}call(e,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",NE,{},NE,NE)),i.pipe(ot({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ic=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new cv(Zone.current)),this.insideAngular=i.run(()=>new cv(Zone.current,Tr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||t)(g(U))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uO(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function VE(t){return t.pipe(un(uO().outsideAngular))}function wi(t){return o7(uO())(t)}function o7(t){return function(i){return i=i.lift(new LE(t.ngZone)),i.pipe(er(t.outsideAngular),un(t.insideAngular))}}var s7=new Map,a7={activated:!1,tokenObservers:[]},l7={initialized:!1,enabled:!1};function fr(t){return s7.get(t)||Object.assign({},a7)}function _O(){return l7}var c7="https://content-firebaseappcheck.googleapis.com/v1";var d7="exchangeDebugToken",hO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},_fe=24*60*60*1e3;var UE=class{constructor(e,i,n,r,o){if(this.operation=e,this.retryPolicy=i,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return D(this,null,function*(){this.stop();try{this.pending=new vy,this.pending.promise.catch(i=>{}),yield u7(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new vy,this.pending.promise.catch(i=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}};function u7(t){return new Promise(e=>{setTimeout(e,t)})}var h7={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Is=new XA("appCheck","AppCheck",h7);function bO(t){if(!fr(t).activated)throw Is.create("use-before-activation",{appName:t.name})}function yO(n,r){return D(this,arguments,function*({url:t,body:e},i){let o={"Content-Type":"application/json"},s=i.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(m){throw Is.create("fetch-network-error",{originalErrorMessage:m?.message})}if(l.status!==200)throw Is.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(m){throw Is.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let u=Number(d[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}})}function wO(t,e){let{projectId:i,appId:n,apiKey:r}=t.options;return{url:`${c7}/projects/${i}/apps/${n}:${d7}?key=${r}`,body:{debug_token:e}}}var m7="firebase-app-check-database",f7=1,zE="firebase-app-check-store";var dv=null;function p7(){return dv||(dv=new Promise((t,e)=>{try{let i=indexedDB.open(m7,f7);i.onsuccess=n=>{t(n.target.result)},i.onerror=n=>{var r;e(Is.create("storage-open",{originalErrorMessage:(r=n.target.error)===null||r===void 0?void 0:r.message}))},i.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(zE,{keyPath:"compositeKey"})}}}catch(i){e(Is.create("storage-open",{originalErrorMessage:i?.message}))}}),dv)}function g7(t,e){return v7(_7(t),e)}function v7(t,e){return D(this,null,function*(){let n=(yield p7()).transaction(zE,"readwrite"),o=n.objectStore(zE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},n.onerror=l=>{var c;a(Is.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function _7(t){return`${t.options.appId}-${t.name}`}var $E=new mf("@firebase/app-check");function BE(t,e){return uf()?g7(t,e).catch(i=>{$E.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function xO(){return _O().enabled}function EO(){return D(this,null,function*(){let t=_O();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var b7={error:"UNKNOWN_ERROR"};function y7(t){return ZA.encodeString(JSON.stringify(t),!1)}function HE(t,e=!1){return D(this,null,function*(){let i=t.app;bO(i);let n=fr(i),r=n.token,o;if(r&&!mh(r)&&(n.token=void 0,r=void 0),!r){let l=yield n.cachedTokenPromise;l&&(mh(l)?r=l:yield BE(i,void 0))}if(!e&&r&&mh(r))return{token:r.token};let s=!1;if(xO()){n.exchangeTokenPromise||(n.exchangeTokenPromise=yO(wO(i,yield EO()),t.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),s=!0);let l=yield n.exchangeTokenPromise;return yield BE(i,l),n.token=l,{token:l.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),s=!0),r=yield fr(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?$E.warn(l.message):$E.error(l),o=l}let a;return r?o?mh(r)?a={token:r.token,internalError:o}:a=fO(o):(a={token:r.token},n.token=r,yield BE(i,r)):a=fO(o),s&&I7(i,a),a})}function w7(t){return D(this,null,function*(){let e=t.app;bO(e);let{provider:i}=fr(e);if(xO()){let n=yield EO(),{token:r}=yield yO(wO(e,n),t.heartbeatServiceProvider);return{token:r}}else{let{token:n}=yield i.getToken();return{token:n}}})}function x7(t,e,i,n){let{app:r}=t,o=fr(r),s={next:i,error:n,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&mh(o.token)){let a=o.token;Promise.resolve().then(()=>{i({token:a.token}),mO(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mO(t))}function IO(t,e){let i=fr(t),n=i.tokenObservers.filter(r=>r.next!==e);n.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=n}function mO(t){let{app:e}=t,i=fr(e),n=i.tokenRefresher;n||(n=E7(t),i.tokenRefresher=n),!n.isRunning()&&i.isTokenAutoRefreshEnabled&&n.start()}function E7(t){let{app:e}=t;return new UE(()=>D(this,null,function*(){let i=fr(e),n;if(i.token?n=yield HE(t,!0):n=yield HE(t),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{let i=fr(e);if(i.token){let n=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5,r=i.token.expireTimeMillis-5*60*1e3;return n=Math.min(n,r),Math.max(0,n-Date.now())}else return 0},hO.RETRIAL_MIN_WAIT,hO.RETRIAL_MAX_WAIT)}function I7(t,e){let i=fr(t).tokenObservers;for(let n of i)try{n.type==="EXTERNAL"&&e.error!=null?n.error(e.error):n.next(e)}catch{}}function mh(t){return t.expireTimeMillis-Date.now()>0}function fO(t){return{token:y7(b7),error:t}}var GE=class{constructor(e,i){this.app=e,this.heartbeatServiceProvider=i}_delete(){let{tokenObservers:e}=fr(this.app);for(let i of e)IO(this.app,i.next);return Promise.resolve()}};function C7(t,e){return new GE(t,e)}function D7(t){return{getToken:e=>HE(t,e),getLimitedUseToken:()=>w7(t),addTokenListener:e=>x7(t,"INTERNAL",e),removeTokenListener:e=>IO(t.app,e)}}var S7="@firebase/app-check",T7="0.8.3";var A7="app-check",pO="app-check-internal";function k7(){ta(new Zn(A7,t=>{let e=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat");return C7(e,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider(pO).initialize()})),ta(new Zn(pO,t=>{let e=t.getProvider("app-check").getImmediate();return D7(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xn(S7,T7)}k7();var M7=["localhost","0.0.0.0","127.0.0.1"],kfe=typeof window<"u"&&M7.includes(window.location.hostname);var R7="firebase",F7="10.11.0";oi.registerVersion(R7,F7,"app-compat");var P7=["ngOnDestroy"],DO=(t,e,i,n={})=>new Proxy(t,{get:(r,o)=>i.runOutsideAngular(()=>{if(t[o])return n?.spy?.get&&n.spy.get(o,t[o]),t[o];if(P7.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>i.run(()=>c)):i.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(d=>{let u=d?.(...c);return n?.spy?.apply&&n.spy.apply(o,c,u),u})})})});var uv=class{constructor(e){return e}},Cs=new k("angularfire2.app.options"),Ds=new k("angularfire2.app.name");function Aa(t,e,i){let n=typeof i=="string"&&i||"[DEFAULT]",r=typeof i=="object"&&i||{};r.name=r.name||n;let s=oi.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>oi.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;O7("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new uv(s)}var O7=(t,...e)=>{lx()&&typeof console<"u"&&console[t](...e)},N7={provide:uv,useFactory:Aa,deps:[Cs,U,[new xo,Ds]]},SO=(()=>{class t{static initializeApp(i,n){return{ngModule:t,providers:[{provide:Cs,useValue:i},{provide:Ds,useValue:n}]}}constructor(i){oi.registerVersion("angularfire",Ro.full,"core"),oi.registerVersion("angularfire",Ro.full,"app-compat"),oi.registerVersion("angular",$R.full,i.toString())}static \u0275fac=function(n){return new(n||t)(g(st))};static \u0275mod=j({type:t});static \u0275inj=V({providers:[N7]})}return t})();function Cc(t,e,i,n,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return L7(r,s)||(CO("error",`${e} was already initialized on the ${i} Firebase App with different settings.${V7?" You may need to reload as Firebase is not HMR aware.":""}`),CO("warn",{is:r,was:s})),o;{let a=n();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function L7(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var V7=typeof module<"u"&&!!module.hot,CO=(t,...e)=>{lx()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var WE=new k("angularfire2.auth.use-emulator"),QE=new k("angularfire2.auth.settings"),KE=new k("angularfire2.auth.tenant-id"),YE=new k("angularfire2.auth.langugage-code"),ZE=new k("angularfire2.auth.use-device-language"),XE=new k("angularfire.auth.persistence"),JE=(t,e,i,n,r,o,s,a)=>Cc(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(i&&l.useEmulator(...i),n&&(l.tenantId=n),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,d]of Object.entries(s))l.settings[c]=d;return a&&l.setPersistence(a),l},[i,n,r,o,s,a]),fh=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(i,n,r,o,s,a,l,c,d,u,h,m){let p=new W,_=z(void 0).pipe(un(s.outsideAngular),Pe(()=>o.runOutsideAngular(()=>import("./chunk-DZZPZ2TI.js"))),B(()=>Aa(i,o,n)),B(y=>JE(y,o,a,c,d,u,l,h)),tu({bufferSize:1,refCount:!1}));if(Ki(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=z(null);else{_.pipe(Mn()).subscribe();let y=_.pipe(Pe(M=>M.getRedirectResult().then(P=>P,()=>null)),wi,tu({bufferSize:1,refCount:!1})),E=_.pipe(Pe(M=>new se(P=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(ie=>P.next(ie),ie=>P.error(ie),()=>P.complete()))})))),N=_.pipe(Pe(M=>new se(P=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(ie=>P.next(ie),ie=>P.error(ie),()=>P.complete()))}))));this.authState=y.pipe(Gf(E),er(s.outsideAngular),un(s.insideAngular)),this.user=y.pipe(Gf(N),er(s.outsideAngular),un(s.insideAngular)),this.idToken=this.user.pipe(Pe(M=>M?ge(M.getIdToken()):z(null))),this.idTokenResult=this.user.pipe(Pe(M=>M?ge(M.getIdTokenResult()):z(null))),this.credential=An(y,p,this.authState.pipe(Fe(M=>!M))).pipe(B(M=>M?.user?M:null),er(s.outsideAngular),un(s.insideAngular))}return DO(this,_,o,{spy:{apply:(y,E,N)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&N.then(M=>p.next(M))}}})}static \u0275fac=function(n){return new(n||t)(g(Cs),g(Ds,8),g(st),g(U),g(Ic),g(WE,8),g(QE,8),g(KE,8),g(YE,8),g(ZE,8),g(XE,8),g(Mo,8))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),TO=(()=>{class t{constructor(){oi.registerVersion("angularfire",Ro.full,"auth-compat")}static \u0275fac=function(n){return new(n||t)};static \u0275mod=j({type:t});static \u0275inj=V({providers:[fh]})}return t})();var be=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(be||{}),Gr="*";function Fo(t,e){return{type:be.Trigger,name:t,definitions:e,options:{}}}function jn(t,e=null){return{type:be.Animate,styles:e,timings:t}}function eI(t,e=null){return{type:be.Group,steps:t,options:e}}function kO(t,e=null){return{type:be.Sequence,steps:t,options:e}}function Wt(t){return{type:be.Style,styles:t,offset:null}}function xi(t,e,i){return{type:be.State,name:t,styles:e,options:i}}function Bn(t,e,i=null){return{type:be.Transition,expr:t,animation:e,options:i}}function tI(t=null){return{type:be.AnimateChild,options:t}}function iI(t,e,i=null){return{type:be.Query,selector:t,animation:e,options:i}}var Ss=class{constructor(e=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let i=e=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},ph=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let i=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++i==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let i=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((i,n)=>i===null||n.totalTime>i.totalTime?n:i,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let i=e=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},hv="!";var MO=["toast-component",""];function j7(t,e){if(t&1){let i=it();b(0,"button",5),le("click",function(){Le(i);let r=Z();return Ve(r.remove())}),b(1,"span",6),x(2,"\xD7"),v()()}}function B7(t,e){if(t&1&&(Du(0),x(1),Su()),t&2){let i=Z(2);w(),Ce("[",i.duplicatesCount+1,"]")}}function U7(t,e){if(t&1&&(b(0,"div"),x(1),$(2,B7,2,1,"ng-container",4),v()),t&2){let i=Z();Xt(i.options.titleClass),ze("aria-label",i.title),w(),Ce(" ",i.title," "),w(),R("ngIf",i.duplicatesCount)}}function z7(t,e){if(t&1&&Y(0,"div",7),t&2){let i=Z();Xt(i.options.messageClass),R("innerHTML",i.message,Nw)}}function $7(t,e){if(t&1&&(b(0,"div",8),x(1),v()),t&2){let i=Z();Xt(i.options.messageClass),ze("aria-label",i.message),w(),Ce(" ",i.message," ")}}function H7(t,e){if(t&1&&(b(0,"div"),Y(1,"div",9),v()),t&2){let i=Z();w(),fn("width",i.width+"%")}}function G7(t,e){if(t&1){let i=it();b(0,"button",5),le("click",function(){Le(i);let r=Z();return Ve(r.remove())}),b(1,"span",6),x(2,"\xD7"),v()()}}function q7(t,e){if(t&1&&(Du(0),x(1),Su()),t&2){let i=Z(2);w(),Ce("[",i.duplicatesCount+1,"]")}}function W7(t,e){if(t&1&&(b(0,"div"),x(1),$(2,q7,2,1,"ng-container",4),v()),t&2){let i=Z();Xt(i.options.titleClass),ze("aria-label",i.title),w(),Ce(" ",i.title," "),w(),R("ngIf",i.duplicatesCount)}}function Q7(t,e){if(t&1&&Y(0,"div",7),t&2){let i=Z();Xt(i.options.messageClass),R("innerHTML",i.message,Nw)}}function K7(t,e){if(t&1&&(b(0,"div",8),x(1),v()),t&2){let i=Z();Xt(i.options.messageClass),ze("aria-label",i.message),w(),Ce(" ",i.message," ")}}function Y7(t,e){if(t&1&&(b(0,"div"),Y(1,"div",9),v()),t&2){let i=Z();w(),fn("width",i.width+"%")}}var nI=class{_attachedHost;component;viewContainerRef;injector;constructor(e,i){this.component=e,this.injector=i}attach(e,i){return this._attachedHost=e,e.attach(this,i)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},rI=class{_attachedPortal;_disposeFn;attach(e,i){return this._attachedPortal=e,this.attachComponentPortal(e,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},oI=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new W;_activate=new W;_manualClose=new W;_resetTimeout=new W;_countDuplicate=new W;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,i){e&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}},Dc=class{toastId;config;message;title;toastType;toastRef;_onTap=new W;_onAction=new W;constructor(e,i,n,r,o,s){this.toastId=e,this.config=i,this.message=n,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},RO={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},FO=new k("ToastConfig"),sI=class extends rI{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,i,n){super(),this._hostDomElement=e,this._componentFactoryResolver=i,this._appRef=n}attachComponentPortal(e,i){let n=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=n.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},Z7=(()=>{class t{_document=A(re);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i=this._document.createElement("div");i.classList.add("overlay-container"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),this._containerElement=i}static \u0275fac=function(n){return new(n||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aI=class{_portalHost;constructor(e){this._portalHost=e}attach(e,i=!0){return this._portalHost.attach(e,i)}detach(){return this._portalHost.detach()}},X7=(()=>{class t{_overlayContainer=A(Z7);_componentFactoryResolver=A(jr);_appRef=A(Wi);_document=A(re);_paneElements=new Map;create(i,n){return this._createOverlayRef(this.getPaneElement(i,n))}getPaneElement(i="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[i]||(this._paneElements.get(n)[i]=this._createPaneElement(i,n)),this._paneElements.get(n)[i]}_createPaneElement(i,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(i),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(i){return new sI(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new aI(this._createPortalHost(i))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sc=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(i,n,r,o,s){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=T(T({},i.default),i.config),i.config.iconClasses&&(this.toastrConfig.iconClasses=T(T({},i.default.iconClasses),i.config.iconClasses))}show(i,n,r={},o=""){return this._preBuildNotification(o,i,n,this.applyConfig(r))}success(i,n,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}error(i,n,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}info(i,n,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}warning(i,n,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,i,n,this.applyConfig(r))}clear(i){for(let n of this.toasts)if(i!==void 0){if(n.toastId===i){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(i){let n=this._findToast(i);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(i="",n="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===i;if((!s||l)&&a.message===n)return a.toastRef.onDuplicate(r,o),a}return null}applyConfig(i={}){return T(T({},this.toastrConfig),i)}_findToast(i){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===i)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(i,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,n,r,o)):this._buildNotification(i,n,r,o)}_buildNotification(i,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=n;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=n;n&&o.enableHtml&&(c=this.sanitizer.sanitize(zt.HTML,n));let d=new oI(l),u=new Dc(this.index,o,c,r,i,d),h=[{provide:Dc,useValue:u}],m=bt.create({providers:h,parent:this._injector}),p=new nI(o.toastComponent,m),_=l.attach(p,o.newestOnTop);d.componentInstance=_.instance;let y={toastId:this.index,title:r||"",message:n||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:_};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}static \u0275fac=function(n){return new(n||t)(g(FO),g(X7),g(bt),g(Ca),g(U))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),J7=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,n,r){this.toastrService=i,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=pe(T({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let i=new Date().getTime(),n=this.hideTime-i;this.width=n/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=pe(T({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=pe(T({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),n)):this.timeout=setTimeout(()=>i(),n)}outsideInterval(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),n)):this.intervalId=setInterval(()=>i(),n)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}static \u0275fac=function(n){return new(n||t)(f(Sc),f(Dc),f(U))};static \u0275cmp=X({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&le("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(xa("@flyInOut",r.state),Xt(r.toastClasses),fn("display",r.displayStyle))},standalone:!0,features:[Me],attrs:MO,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&$(0,j7,3,0,"button",0)(1,U7,3,5,"div",1)(2,z7,1,3,"div",2)(3,$7,2,4,"div",3)(4,H7,2,2,"div",4),n&2&&(R("ngIf",r.options.closeButton),w(),R("ngIf",r.title),w(),R("ngIf",r.message&&r.options.enableHtml),w(),R("ngIf",r.message&&!r.options.enableHtml),w(),R("ngIf",r.options.progressBar))},dependencies:[qt],encapsulation:2,data:{animation:[Fo("flyInOut",[xi("inactive",Wt({opacity:0})),xi("active",Wt({opacity:1})),xi("removed",Wt({opacity:0})),Bn("inactive => active",jn("{{ easeTime }}ms {{ easing }}")),Bn("active => removed",jn("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),eQ=pe(T({},RO),{toastComponent:J7}),tQ=(t={})=>Yl([{provide:FO,useValue:{default:eQ,config:t}}]),PO=(()=>{class t{static forRoot(i={}){return{ngModule:t,providers:[tQ(i)]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=j({type:t});static \u0275inj=V({})}return t})();var iQ=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,n,r){this.toastrService=i,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let i=new Date().getTime(),n=this.hideTime-i;this.width=n/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||t)(f(Sc),f(Dc),f(Wi))};static \u0275cmp=X({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&le("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(Xt(r.toastClasses),fn("display",r.displayStyle))},standalone:!0,features:[Me],attrs:MO,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&$(0,G7,3,0,"button",0)(1,W7,3,5,"div",1)(2,Q7,1,3,"div",2)(3,K7,2,4,"div",3)(4,Y7,2,2,"div",4),n&2&&(R("ngIf",r.options.closeButton),w(),R("ngIf",r.title),w(),R("ngIf",r.message&&r.options.enableHtml),w(),R("ngIf",r.message&&!r.options.enableHtml),w(),R("ngIf",r.options.progressBar))},dependencies:[qt],encapsulation:2})}return t})(),mpe=pe(T({},RO),{toastComponent:iQ});var cI;try{cI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cI=!1}var $e=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?zr(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||cI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(g(st))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gh;function nQ(){if(gh==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gh=!0}))}finally{gh=gh||!1}return gh}function Tc(t){return nQ()?t:!!t.capture}var pr=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(pr||{}),mv,ka;function fv(){if(ka==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ka=!1,ka;if("scrollBehavior"in document.documentElement.style)ka=!0;else{let t=Element.prototype.scrollTo;t?ka=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ka=!1}}return ka}function Ac(){if(typeof document!="object"||!document)return pr.NORMAL;if(mv==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",t.appendChild(i),document.body.appendChild(t),mv=pr.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,mv=t.scrollLeft===0?pr.NEGATED:pr.INVERTED),t.remove()}return mv}var lI;function rQ(){if(lI==null){let t=typeof document<"u"?document.head:null;lI=!!(t&&(t.createShadowRoot||t.attachShadow))}return lI}function NO(t){if(rQ()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function dI(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function gr(t){return t.composedPath?t.composedPath()[0]:t.target}function vh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function kc(t,...e){return e.length?e.some(i=>t[i]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Fi(t){return t!=null&&`${t}`!="false"}function Po(t,e=0){return oQ(t)?Number(t):e}function oQ(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Mc(t){return Array.isArray(t)?t:[t]}function Qt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function vr(t){return t instanceof K?t.nativeElement:t}function sQ(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let e=0;e<t.addedNodes.length;e++)if(!(t.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<t.removedNodes.length;e++)if(!(t.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var LO=(()=>{let e=class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aQ=(()=>{let e=class e{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,r)=>this._cleanupObserver(r))}observe(n){let r=vr(n);return new se(o=>{let a=this._observeElement(r).pipe(B(l=>l.filter(c=>!sQ(c))),Fe(l=>!!l.length)).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let r=new W,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:o,stream:r,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:r,stream:o}=this._observedElements.get(n);r&&r.disconnect(),o.complete(),this._observedElements.delete(n)}}};e.\u0275fac=function(r){return new(r||e)(g(LO))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VO=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=Po(n),this._subscribe()}constructor(n,r,o){this._contentObserver=n,this._elementRef=r,this._ngZone=o,this.event=new Te,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(kn(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(f(aQ),f(K),f(U))},e.\u0275dir=H({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[J.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",dt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[$t]});let t=e;return t})(),Rc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({providers:[LO]});let t=e;return t})();var jO=new Set,Ma,lQ=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dQ}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&cQ(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(g($e),g(Eu,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cQ(t,e){if(!jO.has(t))try{Ma||(Ma=document.createElement("style"),e&&Ma.setAttribute("nonce",e),Ma.setAttribute("type","text/css"),document.head.appendChild(Ma)),Ma.sheet&&(Ma.sheet.insertRule(`@media ${t} {body{ }}`,0),jO.add(t))}catch(i){console.error(i)}}function dQ(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var pv=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new W}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return BO(Mc(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=BO(Mc(n)).map(a=>this._registerQuery(a).observable),s=oa(o);return s=ts(s.pipe(Et(1)),s.pipe(iu(1),kn(0))),s.pipe(B(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new se(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(si(r),B(({matches:a})=>({query:n,matches:a})),Ze(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};e.\u0275fac=function(r){return new(r||e)(g(lQ),g(U))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BO(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var UO={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var qO=" ";function kQ(t,e,i){let n=bv(t,e);i=i.trim(),!n.some(r=>r.trim()===i)&&(n.push(i),t.setAttribute(e,n.join(qO)))}function MQ(t,e,i){let n=bv(t,e);i=i.trim();let r=n.filter(o=>o!==i);r.length?t.setAttribute(e,r.join(qO)):t.removeAttribute(e)}function bv(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var WO="cdk-describedby-message",gv="cdk-describedby-host",mI=0,QO=(()=>{let e=class e{constructor(n,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${mI++}`,this._document=n,this._id=A(tc)+"-"+mI++}describe(n,r,o){if(!this._canBeDescribed(n,r))return;let s=uI(r,o);typeof r!="string"?(zO(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,o),this._isElementDescribedByMessage(n,s)||this._addMessageReference(n,s)}removeDescription(n,r,o){if(!r||!this._isElementNode(n))return;let s=uI(r,o);if(this._isElementDescribedByMessage(n,s)&&this._removeMessageReference(n,s),typeof r=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${gv}="${this._id}"]`);for(let r=0;r<n.length;r++)this._removeCdkDescribedByReferenceIds(n[r]),n[r].removeAttribute(gv);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,r){let o=this._document.createElement("div");zO(o,this._id),o.textContent=n,r&&o.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(uI(n,r),{messageElement:o,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(n),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(n){let r=bv(n,"aria-describedby").filter(o=>o.indexOf(WO)!=0);n.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(n,r){let o=this._messageRegistry.get(r);kQ(n,"aria-describedby",o.messageElement.id),n.setAttribute(gv,this._id),o.referenceCount++}_removeMessageReference(n,r){let o=this._messageRegistry.get(r);o.referenceCount--,MQ(n,"aria-describedby",o.messageElement.id),n.removeAttribute(gv)}_isElementDescribedByMessage(n,r){let o=bv(n,"aria-describedby"),s=this._messageRegistry.get(r),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(n,r){if(!this._isElementNode(n))return!1;if(r&&typeof r=="object")return!0;let o=r==null?"":`${r}`.trim(),s=n.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}};e.\u0275fac=function(r){return new(r||e)(g(re),g($e))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uI(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function zO(t,e){t.id||(t.id=`${WO}-${e}-${mI++}`)}var fI=class{constructor(e,i){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new W,this._typeaheadSubscription=Ye.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new W,this.change=new W,e instanceof hn?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):ex(e)&&(this._effectRef=dx(()=>this._itemsChanged(e()),{injector:i}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ot(i=>this._pressedLetters.push(i)),kn(e),Fe(()=>this._pressedLetters.length>0),B(()=>this._pressedLetters.join(""))).subscribe(i=>{let n=this._getItemsArray();for(let r=1;r<n.length+1;r++){let o=(this._activeItemIndex+r)%n.length,s=n[o];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(i)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){let i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){let i=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||kc(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let i=this._getItemsArray(),n=typeof e=="number"?e:i.indexOf(e),r=i[n];this._activeItem=r??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let r=(this._activeItemIndex+e*n+i.length)%i.length,o=i[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){let n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=i,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return ex(this._items)?this._items():this._items instanceof hn?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let i=e.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}};var yv=class extends fI{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var _h=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return FQ(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=RQ(UQ(n));if(r&&($O(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=$O(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!jQ(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return BQ(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(r){return new(r||e)(g($e))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RQ(t){try{return t.frameElement}catch{return null}}function FQ(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function PQ(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function OQ(t){return LQ(t)&&t.type=="hidden"}function NQ(t){return VQ(t)&&t.hasAttribute("href")}function LQ(t){return t.nodeName.toLowerCase()=="input"}function VQ(t){return t.nodeName.toLowerCase()=="a"}function KO(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function $O(t){if(!KO(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function jQ(t){let e=t.nodeName.toLowerCase(),i=e==="input"&&t.type;return i==="text"||i==="password"||e==="select"||e==="textarea"}function BQ(t){return OQ(t)?!1:PQ(t)||NQ(t)||t.hasAttribute("contenteditable")||KO(t)}function UQ(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var pI=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,i,n,r,o=!1){this._element=e,this._checker=i,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,i=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let i=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(e),!!n}return i.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let i=this._getRegionBoundary("start");return i&&i.focus(e),!!i}focusLastTabbableElement(e){let i=this._getRegionBoundary("end");return i&&i.focus(e),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,i){e?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Et(1)).subscribe(e)}},YO=(()=>{let e=class e{constructor(n,r,o){this._checker=n,this._ngZone=r,this._document=o}create(n,r=!1){return new pI(n,this._checker,this._ngZone,this._document,r)}};e.\u0275fac=function(r){return new(r||e)(g(_h),g(U),g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gI(t){return t.buttons===0||t.detail===0}function vI(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var zQ=new k("cdk-input-modality-detector-options"),$Q={ignoreKeys:[18,17,224,91,16]},ZO=650,Fc=Tc({passive:!0,capture:!0}),HQ=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new tt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=gr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<ZO||(this._modality.next(gI(a)?"keyboard":"mouse"),this._mostRecentTarget=gr(a))},this._onTouchstart=a=>{if(vI(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gr(a)},this._options=T(T({},$Q),s),this.modalityDetected=this._modality.pipe(iu(1)),this.modalityChanged=this.modalityDetected.pipe(tr()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Fc),o.addEventListener("mousedown",this._onMousedown,Fc),o.addEventListener("touchstart",this._onTouchstart,Fc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fc),document.removeEventListener("mousedown",this._onMousedown,Fc),document.removeEventListener("touchstart",this._onTouchstart,Fc))}};e.\u0275fac=function(r){return new(r||e)(g($e),g(U),g(re),g(zQ,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GQ=new k("liveAnnouncerElement",{providedIn:"root",factory:qQ});function qQ(){return null}var WQ=new k("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),QQ=0,XO=(()=>{let e=class e{constructor(n,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${QQ++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}};e.\u0275fac=function(r){return new(r||e)(g(GQ,8),g(U),g(re),g(WQ,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _v=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(_v||{}),KQ=new k("cdk-focus-monitor-default-options"),vv=Tc({passive:!0,capture:!0}),Pc=(()=>{let e=class e{constructor(n,r,o,s,a){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new W,this._rootNodeFocusAndBlurListener=l=>{let c=gr(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=s,this._detectionMode=a?.detectionMode||_v.IMMEDIATE}monitor(n,r=!1){let o=vr(n);if(!this._platform.isBrowser||o.nodeType!==1)return z();let s=NO(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new W,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=vr(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=vr(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===_v.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===_v.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?ZO:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=gr(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,vv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,vv)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ze(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(g(U),g($e),g(HQ),g(re,8),g(KQ,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ra=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Ra||{}),HO="cdk-high-contrast-black-on-white",GO="cdk-high-contrast-white-on-black",hI="cdk-high-contrast-active",_I=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=A(pv).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ra.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ra.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ra.BLACK_ON_WHITE}return Ra.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(hI,HO,GO),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ra.BLACK_ON_WHITE?n.add(hI,HO):r===Ra.WHITE_ON_BLACK&&n.add(hI,GO)}}};e.\u0275fac=function(r){return new(r||e)(g($e),g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JO=(()=>{let e=class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(g(_I))},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[Rc]});let t=e;return t})();var YQ=new k("cdk-dir-doc",{providedIn:"root",factory:ZQ});function ZQ(){return A(re)}var XQ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function JQ(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?XQ.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Wr=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new Te,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=JQ(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(g(YQ,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})();function eK(){return!0}var tK=new k("mat-sanity-checks",{providedIn:"root",factory:eK}),De=(()=>{let e=class e{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return vh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(g(_I),g(tK,8),g(re))},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[Qr,Qr]});let t=e;return t})();var Ev=(()=>{let e=class e{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,De]});let t=e;return t})(),Un=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Un||{}),wI=class{constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Un.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},eN=Tc({passive:!0,capture:!0}),xI=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=gr(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,eN)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eN)))}},tN={enterDuration:225,exitDuration:150},iK=800,iN=Tc({passive:!0,capture:!0}),nN=["mousedown","touchstart"],rN=["mouseup","mouseleave","touchend","touchcancel"],wh=class wh{constructor(e,i,n,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=vr(n))}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=T(T({},tN),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||nK(e,i,r),a=e-r.left,l=i-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,p=h==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,_=new wI(this,d,n,p);d.style.transform="scale3d(1, 1, 1)",_.state=Un.FADING_IN,n.persistent||(this._mostRecentTransientRipple=_);let y=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let E=()=>this._finishRippleTransition(_),N=()=>this._destroyRipple(_);d.addEventListener("transitionend",E),d.addEventListener("transitioncancel",N),y={onTransitionEnd:E,onTransitionCancel:N}}),this._activeRipples.set(_,y),(p||!c)&&this._finishRippleTransition(_),_}fadeOutRipple(e){if(e.state===Un.FADING_OUT||e.state===Un.HIDDEN)return;let i=e.element,n=T(T({},tN),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=Un.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=vr(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,nN.forEach(n=>{wh._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{rN.forEach(i=>{this._triggerElement.addEventListener(i,this,iN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Un.FADING_IN?this._startFadeOutTransition(e):e.state===Un.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=Un.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Un.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){let i=gI(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+iK;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!vI(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===Un.VISIBLE||e.config.terminateOnPointerUp&&e.state===Un.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(nN.forEach(i=>wh._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&rN.forEach(i=>e.removeEventListener(i,this,iN)))}};wh._eventManager=new xI;var xh=wh;function nK(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var Eh=new k("mat-ripple-global-options"),II=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new xh(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:T(T(T({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,T(T({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,T(T({},this.rippleConfig),n))}};e.\u0275fac=function(r){return new(r||e)(f(K),f(U),f($e),f(Eh,8),f(li,8))},e.\u0275dir=H({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Ie("mat-ripple-unbounded",o.unbounded)},inputs:{color:[J.None,"matRippleColor","color"],unbounded:[J.None,"matRippleUnbounded","unbounded"],centered:[J.None,"matRippleCentered","centered"],radius:[J.None,"matRippleRadius","radius"],animation:[J.None,"matRippleAnimation","animation"],disabled:[J.None,"matRippleDisabled","disabled"],trigger:[J.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Ih=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,De]});let t=e;return t})();var lN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De]});let t=e;return t})();var oN={capture:!0},sN=["focus","click","mouseenter","touchstart"],bI="mat-ripple-loader-uninitialized",yI="mat-ripple-loader-class-name",aN="mat-ripple-loader-centered",wv="mat-ripple-loader-disabled",cN=(()=>{let e=class e{constructor(){this._document=A(re,{optional:!0}),this._animationMode=A(li,{optional:!0}),this._globalRippleOptions=A(Eh,{optional:!0}),this._platform=A($e),this._ngZone=A(U),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${bI}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of sN)this._document?.addEventListener(n,this._onInteraction,oN)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of sN)this._document?.removeEventListener(r,this._onInteraction,oN)}configureRipple(n,r){n.setAttribute(bI,""),(r.className||!n.hasAttribute(yI))&&n.setAttribute(yI,r.className||""),r.centered&&n.setAttribute(aN,""),r.disabled&&n.setAttribute(wv,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(wv,""):n.removeAttribute(wv)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(yI)),n.append(o);let s=new II(new K(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(aN),s.disabled=n.hasAttribute(wv),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(bI),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dN=["mat-button",""],uN=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],hN=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],oK='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',mN=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var sK=["mat-icon-button",""],aK=["*"];var lK=new k("MAT_BUTTON_CONFIG");var cK=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],CI=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=A(Pc),this._rippleLoader=A(cN),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=A(lK,{optional:!0}),l=n.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of cK)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){Cu()},e.\u0275dir=H({type:e,inputs:{color:"color",disableRipple:[J.HasDecoratorInputTransform,"disableRipple","disableRipple",dt],disabled:[J.HasDecoratorInputTransform,"disabled","disabled",dt],ariaDisabled:[J.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",dt],disabledInteractive:[J.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",dt]},features:[$t]});let t=e;return t})();var dK=(()=>{let e=class e extends CI{constructor(n,r,o,s){super(n,r,o,s),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};e.\u0275fac=function(r){Cu()},e.\u0275dir=H({type:e,inputs:{tabIndex:[J.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>n==null?void 0:Fu(n)]},features:[$t,ve]});let t=e;return t})(),fN=(()=>{let e=class e extends CI{constructor(n,r,o,s){super(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(f(K),f($e),f(U),f(li,8))},e.\u0275cmp=X({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(ze("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Xt(o.color?"mat-"+o.color:""),Ie("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ve,Me],attrs:dN,ngContentSelectors:hN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ct(uN),Y(0,"span",0),Ae(1),b(2,"span",1),Ae(3,1),v(),Ae(4,2),Y(5,"span",2)(6,"span",3)),r&2&&Ie("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})(),pN=(()=>{let e=class e extends dK{constructor(n,r,o,s){super(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(f(K),f($e),f(U),f(li,8))},e.\u0275cmp=X({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,o){r&2&&(ze("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),Xt(o.color?"mat-"+o.color:""),Ie("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[ve,Me],attrs:dN,ngContentSelectors:hN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ct(uN),Y(0,"span",0),Ae(1),b(2,"span",1),Ae(3,1),v(),Ae(4,2),Y(5,"span",2)(6,"span",3)),r&2&&Ie("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[oK,mN],encapsulation:2,changeDetection:0});let t=e;return t})();var gN=(()=>{let e=class e extends CI{constructor(n,r,o,s){super(n,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(r){return new(r||e)(f(K),f($e),f(U),f(li,8))},e.\u0275cmp=X({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(ze("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Xt(o.color?"mat-"+o.color:""),Ie("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ve,Me],attrs:sK,ngContentSelectors:aK,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ct(),Y(0,"span",0),Ae(1),Y(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',mN],encapsulation:2,changeDetection:0});let t=e;return t})();var Ch=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,Ih,De]});let t=e;return t})();var Dh=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Oc=class extends Dh{constructor(e,i,n,r,o){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Ts=class extends Dh{constructor(e,i,n,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},DI=class extends Dh{constructor(e){super(),this.element=e instanceof K?e.nativeElement:e}},Nc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Oc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ts)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof DI)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Iv=class extends Nc{constructor(e,i,n,r,o){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector||bt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let i=e.viewContainerRef,n=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Sh=(()=>{let e=class e extends Nc{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Te,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(r){return new(r||e)(f(jr),f(qi),f(re))},e.\u0275dir=H({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[J.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ve]});let t=e;return t})();var Th=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})();var mK=20,Lc=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new W,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=mK){return this._platform.isBrowser?new se(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe($f(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):z()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Fe(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=vr(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return go(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(g(U),g($e),g(re,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vc=(()=>{let e=class e{constructor(n,r,o,s){this.elementRef=n,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new W,this._elementScrolled=new se(a=>this.ngZone.runOutsideAngular(()=>go(this.elementRef.nativeElement,"scroll").pipe(Ze(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=o?n.end:n.start),n.right==null&&(n.right=o?n.start:n.end),n.bottom!=null&&(n.top=r.scrollHeight-r.clientHeight-n.bottom),o&&Ac()!=pr.NORMAL?(n.left!=null&&(n.right=r.scrollWidth-r.clientWidth-n.left),Ac()==pr.INVERTED?n.left=n.right:Ac()==pr.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=r.scrollWidth-r.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let r=this.elementRef.nativeElement;fv()?r.scrollTo(n):(n.top!=null&&(r.scrollTop=n.top),n.left!=null&&(r.scrollLeft=n.left))}measureScrollOffset(n){let r="left",o="right",s=this.elementRef.nativeElement;if(n=="top")return s.scrollTop;if(n=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return n=="start"?n=a?o:r:n=="end"&&(n=a?r:o),a&&Ac()==pr.INVERTED?n==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&Ac()==pr.NEGATED?n==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:n==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(r){return new(r||e)(f(K),f(Lc),f(U),f(Wr,8))},e.\u0275dir=H({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),fK=20,kh=(()=>{let e=class e{constructor(n,r,o){this._platform=n,this._change=new W,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(n=fK){return n>0?this._change.pipe($f(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(g($e),g(U),g(re,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ah=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})(),SI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[Qr,Ah,Qr,Ah]});let t=e;return t})();var _N=fv(),TI=class{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Qt(-this._previousScrollPosition.left),e.style.top=Qt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,n=e.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),_N&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_N&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var AI=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Fe(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Cv=class{enable(){}disable(){}attach(){}};function kI(t,e){return e.some(i=>{let n=t.bottom<i.top,r=t.top>i.bottom,o=t.right<i.left,s=t.left>i.right;return n||r||o||s})}function bN(t,e){return e.some(i=>{let n=t.top<i.top,r=t.bottom>i.bottom,o=t.left<i.left,s=t.right>i.right;return n||r||o||s})}var MI=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();kI(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},pK=(()=>{let e=class e{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Cv,this.close=a=>new AI(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new TI(this._viewportRuler,this._document),this.reposition=a=>new MI(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(g(Lc),g(kh),g(U),g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mh=class{constructor(e){if(this.scrollStrategy=new Cv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let i=Object.keys(e);for(let n of i)e[n]!==void 0&&(this[n]=e[n])}}};var RI=class{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}};var IN=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(g(re))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gK=(()=>{let e=class e extends IN{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(g(re),g(U,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vK=(()=>{let e=class e extends IN{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=gr(s)},this._clickListener=s=>{let a=gr(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(l))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(g(re),g($e),g(U,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CN=(()=>{let e=class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||vh()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),vh()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(g(re),g($e))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FI=class{constructor(e,i,n,r,o,s,a,l,c,d=!1){this._portalOutlet=e,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new W,this._attachments=new W,this._detachments=new W,this._locationChanges=Ye.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new W,this._outsidePointerEvents=new W,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=T(T({},this._config),e),this._updateElementSize()}setDirection(e){this._config=pe(T({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Qt(this._config.width),e.height=Qt(this._config.height),e.minWidth=Qt(this._config.minWidth),e.minHeight=Qt(this._config.minHeight),e.maxWidth=Qt(this._config.maxWidth),e.maxHeight=Qt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,n){let r=Mc(i||[]).filter(o=>!!o);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(Ze(An(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},yN="cdk-overlay-connected-position-bounding-box",_K=/([A-Za-z%]+)$/,PI=class{get positions(){return this._preferredPositions}constructor(e,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new W,this._resizeSubscription=Ye.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(yN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,n){let r;if(n.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=n.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=e.top+e.height/2:o=n.originY=="top"?e.top:e.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(e,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,i,n,r){let o=xN(i),{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+o.width-n.width,h=0-a,m=a+o.height-n.height,p=this._subtractOverflows(o.width,d,u),_=this._subtractOverflows(o.height,h,m),y=p*_;return{visibleArea:y,isCompletelyWithinViewport:o.width*o.height===y,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=wN(this._overlayRef.getConfig().minHeight),a=wN(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=xN(i),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-n.top-e.y,0),c=Math.max(o.left-n.left-e.x,0),d=0,u=0;return r.width<=o.width?d=c||-s:d=e.x<this._viewportMargin?o.left-n.left-e.x:0,r.height<=o.height?u=l||-a:u=e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!bK(this._lastScrollVisibility,n)){let r=new RI(e,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,i){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=e.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let m=Math.min(n.bottom-e.y+n.top,e.y),p=this._lastBoundingBoxSize.height;o=m*2,s=e.y-m,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,c=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,d,u,h;if(c)h=n.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)u=e.x,d=n.right-e.x;else{let m=Math.min(n.right-e.x+n.left,e.x),p=this._lastBoundingBoxSize.width;d=m*2,u=e.x-m,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-p/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(e,i){let n=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Qt(n.height),r.top=Qt(n.top),r.bottom=Qt(n.bottom),r.width=Qt(n.width),r.left=Qt(n.left),r.right=Qt(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Qt(o)),s&&(r.maxWidth=Qt(s))}this._lastBoundingBoxSize=n,Fa(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Fa(n,this._getExactOverlayY(i,e,d)),Fa(n,this._getExactOverlayX(i,e,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Qt(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Qt(s.maxWidth):o&&(n.maxWidth="")),Fa(this._pane.style,n)}_getExactOverlayY(e,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Qt(o.y);return r}_getExactOverlayX(e,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Qt(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bN(e,n),isOriginOutsideView:kI(e,n),isOverlayClipped:bN(i,n),isOverlayOutsideView:kI(i,n)}}_subtractOverflows(e,...i){return i.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return i==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Mc(e).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof K)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+i,height:n,width:i}}};function Fa(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function wN(t){if(typeof t!="number"&&t!=null){let[e,i]=t.split(_K);return!i||i==="px"?parseFloat(e):null}return t||null}function xN(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function bK(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var EN="cdk-global-overlay-wrapper",OI=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(EN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",p="",_="";l?_="flex-start":d==="center"?(_="center",h?p=u:m=u):h?d==="left"||d==="end"?(_="flex-end",m=u):(d==="right"||d==="start")&&(_="flex-start",p=u):d==="left"||d==="start"?(_="flex-start",m=u):(d==="right"||d==="end")&&(_="flex-end",p=u),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,i.justifyContent=_,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(EN),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},yK=(()=>{let e=class e{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new OI}flexibleConnectedTo(n){return new PI(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(g(kh),g(re),g($e),g(CN))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wK=0,Rh=(()=>{let e=class e{constructor(n,r,o,s,a,l,c,d,u,h,m,p){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=h,this._outsideClickDispatcher=m,this._animationsModuleType=p}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Mh(n);return a.direction=a.direction||this._directionality.value,new FI(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${wK++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Wi)),new Iv(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(g(pK),g(CN),g(jr),g(yK),g(gK),g(bt),g(U),g(re),g(Wr),g(ps),g(vK),g(li,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xK=new k("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=A(Rh);return()=>t.scrollStrategies.reposition()}});function EK(t){return()=>t.scrollStrategies.reposition()}var IK={provide:xK,deps:[Rh],useFactory:EK},DN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({providers:[Rh,IK],imports:[Qr,Th,SI,SI]});let t=e;return t})();function DK(t,e){if(t&1){let i=it();b(0,"div",1)(1,"button",2),le("click",function(){Le(i);let r=Z();return Ve(r.action())}),x(2),v()()}if(t&2){let i=Z();w(2),Ce(" ",i.data.action," ")}}var SK=["label"];function TK(t,e){}var AK=Math.pow(2,31)-1,Fh=class{constructor(e,i){this._overlayRef=i,this._afterDismissed=new W,this._afterOpened=new W,this._onAction=new W,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,AK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},SN=new k("MatSnackBarData"),jc=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},kK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let t=e;return t})(),MK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let t=e;return t})(),RK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let t=e;return t})(),TN=(()=>{let e=class e{constructor(n,r){this.snackBarRef=n,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};e.\u0275fac=function(r){return new(r||e)(f(Fh),f(SN))},e.\u0275cmp=X({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Me],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0),x(1),v(),$(2,DK,3,1,"div",1)),r&2&&(w(),Ce(" ",o.data.message,`
`),w(),Ht(2,o.hasAction?2:-1))},dependencies:[fN,kK,MK,RK],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let t=e;return t})(),FK={snackBarState:Fo("state",[xi("void, hidden",Wt({transform:"scale(0.8)",opacity:0})),xi("visible",Wt({transform:"scale(1)",opacity:1})),Bn("* => visible",jn("150ms cubic-bezier(0, 0, 0.2, 1)")),Bn("* => void, * => hidden",jn("75ms cubic-bezier(0.4, 0.0, 1, 1)",Wt({opacity:0})))])},PK=0,OK=(()=>{let e=class e extends Nc{constructor(n,r,o,s,a){super(),this._ngZone=n,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=a,this._document=A(re),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new W,this._onExit=new W,this._onEnter=new W,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${PK++}`,this.attachDomPortal=l=>{this._assertNotAttached();let c=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),c},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),r}attachTemplatePortal(n){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),r}onAnimationEnd(n){let{fromState:r,toState:o}=n;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>n.classList.add(a)):n.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let n=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let r=n.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?n.setAttribute("aria-owns",o):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};e.\u0275fac=function(r){return new(r||e)(f(U),f(K),f(pt),f($e),f(jc))},e.\u0275cmp=X({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(Ri(Sh,7),Ri(SK,7)),r&2){let s;Be(s=Ue())&&(o._portalOutlet=s.first),Be(s=Ue())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,o){r&1&&Tu("@state.done",function(a){return o.onAnimationEnd(a)}),r&2&&xa("@state",o._animationState)},standalone:!0,features:[ve,Me],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(b(0,"div",1)(1,"div",2,0)(3,"div",3),$(4,TK,0,0,"ng-template",4),v(),Y(5,"div"),v()()),r&2&&(w(5),ze("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[Sh],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[FK.snackBarState]}});let t=e;return t})();function NK(){return new jc}var LK=new k("mat-snack-bar-default-options",{providedIn:"root",factory:NK}),NI=(()=>{let e=class e{get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,r,o,s,a,l){this._overlay=n,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=TN,this.snackBarContainerComponent=OK,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,r){return this._attach(n,r)}openFromTemplate(n,r){return this._attach(n,r)}open(n,r="",o){let s=T(T({},this._defaultConfig),o);return s.data={message:n,action:r},s.announcementMessage===n&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=bt.create({parent:o||this._injector,providers:[{provide:jc,useValue:r}]}),a=new Oc(this.snackBarContainerComponent,r.viewContainerRef,s),l=n.attach(a);return l.instance.snackBarConfig=r,l.instance}_attach(n,r){let o=T(T(T({},new jc),this._defaultConfig),r),s=this._createOverlay(o),a=this._attachSnackBarContainer(s,o),l=new Fh(a,s);if(n instanceof ai){let c=new Ts(n,null,{$implicit:o.data,snackBarRef:l});l.instance=a.attachTemplatePortal(c)}else{let c=this._createInjector(o,l),d=new Oc(n,void 0,c),u=a.attachComponentPortal(d);l.instance=u.instance}return this._breakpointObserver.observe(UO.HandsetPortrait).pipe(Ze(s.detachments())).subscribe(c=>{s.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(n,r){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),r.duration&&r.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(r.duration))}_createOverlay(n){let r=new Mh;r.direction=n.direction;let o=this._overlay.position().global(),s=n.direction==="rtl",a=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!s||n.horizontalPosition==="end"&&s,l=!a&&n.horizontalPosition!=="center";return a?o.left("0"):l?o.right("0"):o.centerHorizontally(),n.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(n,r){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector;return bt.create({parent:o||this._injector,providers:[{provide:Fh,useValue:r},{provide:SN,useValue:n.data}]})}};e.\u0275fac=function(r){return new(r||e)(g(Rh),g(XO),g(bt),g(pv),g(e,12),g(LK))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({providers:[NI],imports:[DN,Th,Ch,De,TN,De]});let t=e;return t})();var Kr=(()=>{let e=class e{constructor(n){this.snackBar=n}open(n,r="Success",o=4e3){this.snackBar.open(n,r,{duration:o,verticalPosition:"top"})}handleError(n){let r="An error occurred";return n.error instanceof ErrorEvent?r=`Error: ${n.error.message}`:r=`Error Code: ${n.status}
Message: ${n.message}`,this.open(r,"Error",5e3),kr(r)}};e.\u0275fac=function(r){return new(r||e)(g(NI))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zn=(()=>{let e=class e{constructor(n,r,o,s){this.afAuth=n,this.router=r,this.toastr=o,this.snackService=s,this.currentUser=null,this.isLoggedInGuard=!1,this.loggedIn=new tt(!1);let a=localStorage.getItem("currentUser");a&&(this.currentUser=JSON.parse(a),this.loggedIn.next(!0),this.isLoggedInGuard=!0),this.afAuth.authState.subscribe(l=>{l?(this.currentUser=l,this.loggedIn.next(!0),localStorage.setItem("currentUser",JSON.stringify(l)),this.isLoggedInGuard=!0):(this.currentUser=null,this.loggedIn.next(!1),localStorage.removeItem("currentUser"),this.isLoggedInGuard=!1,this.snackService.open("login failed","close",3e3))})}login(n){return D(this,null,function*(){try{let r=yield this.afAuth.signInWithEmailAndPassword(n.email,n.password);r.user&&(this.isLoggedInGuard=!0,this.toastr.success("yest"),console.log(this.toastr.success("hi")),this.snackService.open("login successfull",`welcome ${r.user.email}`,3e3),this.router.navigate(["/userDashboard"]))}catch(r){throw this.isLoggedInGuard=!1,console.error("Login error:",r),this.snackService.handleError(r),r}})}signup(n){return D(this,null,function*(){try{let r=yield this.afAuth.createUserWithEmailAndPassword(n.email,n.password);r.user&&(this.isLoggedInGuard=!0,this.snackService.open("Signup successfull",`welcome ${r.user.email}`,3e3),this.router.navigate(["/userDashboard"]))}catch(r){throw this.isLoggedInGuard=!1,console.error("Signup error:",r),this.snackService.handleError(r),r}})}getUserCookies(){let n=localStorage.getItem("currentUser");if(n){let r=JSON.parse(n);return console.log("my",r.uid),r.uid}return""}getUserEmail(){let n=localStorage.getItem("currentUser");if(n){let r=JSON.parse(n);return console.log("my",r.uid),r.email}return""}logout(){return D(this,null,function*(){try{yield this.afAuth.signOut(),localStorage.removeItem("currentUser"),this.loggedIn.next(!1),this.isLoggedInGuard=!1,this.router.navigate(["/login"])}catch(n){throw console.error("Logout error:",n),n}})}isLoggedIn(){return this.loggedIn.asObservable()}getUserId(){return new se(n=>{this.afAuth.authState.subscribe(r=>{r?n.next(r.uid):n.next(null)})})}getCurrentUserEmail(){return this.currentUser?this.currentUser.email:""}};e.\u0275fac=function(r){return new(r||e)(g(fh),g(At),g(Sc),g(Kr))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jK(t,e){t&1&&(b(0,"div"),x(1," Useremail is required. "),v())}function BK(t,e){t&1&&(b(0,"div"),x(1," Useremail must be at least 4 characters long. "),v())}function UK(t,e){if(t&1&&(b(0,"div"),$(1,jK,2,0,"div",4)(2,BK,2,0,"div",4),v()),t&2){let i=Z();w(),R("ngIf",i.f.username.hasError("required")),w(),R("ngIf",i.f.username.hasError("minlength"))}}function zK(t,e){t&1&&(b(0,"div"),x(1," Password is required. "),v())}function $K(t,e){t&1&&(b(0,"div"),x(1," Password must be at least 6 characters long. "),v())}function HK(t,e){if(t&1&&(b(0,"div"),$(1,zK,2,0,"div",4)(2,$K,2,0,"div",4),v()),t&2){let i=Z();w(),R("ngIf",i.f.password.hasError("required")),w(),R("ngIf",i.f.password.hasError("minlength"))}}var AN=(()=>{let e=class e{constructor(n,r){this.fb=n,this.auth=r,this.isUserLoggedIn=this.auth.isLoggedIn()}ngOnInit(){this.loginForm=this.fb.group({username:["",[Nt.required,Nt.minLength(4)]],password:["",[Nt.required,Nt.minLength(6)]]})}get f(){return this.loginForm.controls}onSubmit(){if(this.loginForm.invalid)return;let n={email:this.loginForm.value.username,password:this.loginForm.value.password};this.auth.login(n)}};e.\u0275fac=function(r){return new(r||e)(f(Ec),f(zn))},e.\u0275cmp=X({type:e,selectors:[["app-login"]],decls:17,vars:4,consts:[[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit","routerLink","/signup",1,"btn","btn-primary"]],template:function(r,o){r&1&&(b(0,"form",0),le("ngSubmit",function(){return o.onSubmit()}),b(1,"div",1)(2,"label",2),x(3,"Useremail"),v(),Y(4,"input",3),$(5,UK,3,2,"div",4),v(),b(6,"div",1)(7,"label",5),x(8,"Password"),v(),Y(9,"input",6),$(10,HK,3,2,"div",4),v(),b(11,"button",7),x(12,"Login"),v(),b(13,"h1"),x(14,"New User Signup"),v(),b(15,"button",8),x(16,"Signup"),v()()),r&2&&(R("formGroup",o.loginForm),w(5),R("ngIf",o.f.username.invalid&&(o.f.username.dirty||o.f.username.touched)),w(5),R("ngIf",o.f.password.invalid&&(o.f.password.dirty||o.f.password.touched)),w(),R("disabled",o.loginForm.invalid))},dependencies:[qt,Ot,xc,xs,yc,wc,Es,Ta]});let t=e;return t})();function GK(t,e){t&1&&(b(0,"div"),x(1,"Useremail is required."),v())}function qK(t,e){t&1&&(b(0,"div"),x(1,"Useremail must be at least 4 characters long."),v())}function WK(t,e){if(t&1&&(b(0,"div"),$(1,GK,2,0,"div",4)(2,qK,2,0,"div",4),v()),t&2){let i=Z();w(),R("ngIf",i.f.username.hasError("required")),w(),R("ngIf",i.f.username.hasError("minlength"))}}function QK(t,e){t&1&&(b(0,"div"),x(1,"Password is required."),v())}function KK(t,e){t&1&&(b(0,"div"),x(1,"Password must be at least 6 characters long."),v())}function YK(t,e){if(t&1&&(b(0,"div"),$(1,QK,2,0,"div",4)(2,KK,2,0,"div",4),v()),t&2){let i=Z();w(),R("ngIf",i.f.password.hasError("required")),w(),R("ngIf",i.f.password.hasError("minlength"))}}function ZK(t,e){t&1&&(b(0,"div"),x(1,"Please confirm your password."),v())}function XK(t,e){t&1&&(b(0,"div"),x(1,"Passwords do not match."),v())}function JK(t,e){if(t&1&&(b(0,"div"),$(1,ZK,2,0,"div",4)(2,XK,2,0,"div",4),v()),t&2){let i=Z();w(),R("ngIf",i.f.confirmPassword.hasError("required")),w(),R("ngIf",i.f.confirmPassword.hasError("mismatch"))}}var kN=(()=>{let e=class e{constructor(n,r){this.fb=n,this.auth=r}ngOnInit(){this.signupForm=this.fb.group({username:["",[Nt.required,Nt.minLength(4)]],password:["",[Nt.required,Nt.minLength(6)]],confirmPassword:["",Nt.required]})}passwordMatchValidator(n){let r=n.get("password"),o=n.get("confirmPassword");if(r&&o){let s=r.value,a=o.value;s!==a?o.setErrors({mismatch:!0}):o.setErrors(null)}}get f(){return this.signupForm.controls}onSubmit(){if(this.signupForm.invalid)return;let n={email:this.signupForm.value.username,password:this.signupForm.value.password};this.auth.signup(n)}};e.\u0275fac=function(r){return new(r||e)(f(Ec),f(zn))},e.\u0275cmp=X({type:e,selectors:[["app-signup"]],decls:24,vars:5,consts:[[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit","routerLink","/login",1,"btn","btn-primary"]],template:function(r,o){r&1&&(b(0,"p"),x(1,"signup works!"),v(),b(2,"form",0),le("ngSubmit",function(){return o.onSubmit()}),b(3,"div",1)(4,"label",2),x(5,"Useremail"),v(),Y(6,"input",3),$(7,WK,3,2,"div",4),v(),b(8,"div",1)(9,"label",5),x(10,"Password"),v(),Y(11,"input",6),$(12,YK,3,2,"div",4),v(),b(13,"div",1)(14,"label",7),x(15,"Confirm Password"),v(),Y(16,"input",8),$(17,JK,3,2,"div",4),v(),b(18,"button",9),x(19,"Sign Up"),v(),b(20,"h1"),x(21,"Account ! Login"),v(),b(22,"button",10),x(23,"Login"),v()()),r&2&&(w(2),R("formGroup",o.signupForm),w(5),R("ngIf",o.f.username.invalid&&(o.f.username.dirty||o.f.username.touched)),w(5),R("ngIf",o.f.password.invalid&&(o.f.password.dirty||o.f.password.touched)),w(5),R("ngIf",o.f.confirmPassword.invalid&&(o.f.confirmPassword.dirty||o.f.confirmPassword.touched)),w(),R("disabled",o.signupForm.invalid))},dependencies:[qt,Ot,xc,xs,yc,wc,Es,Ta]});let t=e;return t})();var MN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(r,o){r&1&&(b(0,"p"),x(1,"home works!"),v())}});let t=e;return t})();var eY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={},Q,oC=oC||{},ye=eY||self;function jv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function tY(t){return Object.prototype.hasOwnProperty.call(t,VI)&&t[VI]||(t[VI]=++iY)}var VI="closure_uid_"+(1e9*Math.random()>>>0),iY=0;function nY(t,e,i){return t.call.apply(t.bind,arguments)}function rY(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Pi(t,e,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pi=nY:Pi=rY,Pi.apply(null,arguments)}function Dv(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function pi(t,e){function i(){}i.prototype=e.prototype,t.$=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.ac=function(n,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(n,s)}}function As(){this.s=this.s,this.o=this.o}var oY=0;As.prototype.s=!1;As.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),oY!=0)&&tY(this)};As.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var HN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1};function sC(t){let e=t.length;if(0<e){let i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function RN(t,e){for(let i=1;i<arguments.length;i++){let n=arguments[i];if(jv(n)){let r=t.length||0,o=n.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=n[s]}else t.push(n)}}function Oi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Oi.prototype.h=function(){this.defaultPrevented=!0};var sY=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let i=()=>{};ye.addEventListener("test",i,e),ye.removeEventListener("test",i,e)}catch{}return t}();function Bh(t){return/^[\s\xa0]*$/.test(t)}function Bv(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function Yr(t){return Bv().indexOf(t)!=-1}function aC(t){return aC[" "](t),t}aC[" "]=function(){};function aY(t,e){var i=KY;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=e(t)}var lY=Yr("Opera"),Hc=Yr("Trident")||Yr("MSIE"),GN=Yr("Edge"),$I=GN||Hc,qN=Yr("Gecko")&&!(Bv().toLowerCase().indexOf("webkit")!=-1&&!Yr("Edge"))&&!(Yr("Trident")||Yr("MSIE"))&&!Yr("Edge"),cY=Bv().toLowerCase().indexOf("webkit")!=-1&&!Yr("Edge");function WN(){var t=ye.document;return t?t.documentMode:void 0}var HI;e:{if(Sv="",Tv=function(){var t=Bv();if(qN)return/rv:([^\);]+)(\)|;)/.exec(t);if(GN)return/Edge\/([\d\.]+)/.exec(t);if(Hc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(cY)return/WebKit\/(\S+)/.exec(t);if(lY)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Tv&&(Sv=Tv?Tv[1]:""),Hc&&(Av=WN(),Av!=null&&Av>parseFloat(Sv))){HI=String(Av);break e}HI=Sv}var Sv,Tv,Av,GI;ye.document&&Hc?(jI=WN(),GI=jI||parseInt(HI,10)||void 0):GI=void 0;var jI,dY=GI;function Uh(t,e){if(Oi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qN){e:{try{aC(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else i=="mouseover"?e=t.fromElement:i=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Uh.$.h.call(this)}}pi(Uh,Oi);var uY={2:"touch",3:"pen",4:"mouse"};Uh.prototype.h=function(){Uh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kh="closure_listenable_"+(1e6*Math.random()|0),hY=0;function mY(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.la=r,this.key=++hY,this.fa=this.ia=!1}function Uv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function lC(t,e,i){for(let n in t)e.call(i,t[n],n,t)}function fY(t,e){for(let i in t)e.call(void 0,t[i],i,t)}function QN(t){let e={};for(let i in t)e[i]=t[i];return e}var FN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KN(t,e){let i,n;for(let r=1;r<arguments.length;r++){n=arguments[r];for(i in n)t[i]=n[i];for(let o=0;o<FN.length;o++)i=FN[o],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function zv(t){this.src=t,this.g={},this.h=0}zv.prototype.add=function(t,e,i,n,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=WI(t,e,n,r);return-1<s?(e=t[s],i||(e.ia=!1)):(e=new mY(e,this.src,o,!!n,r),e.ia=i,t.push(e)),e};function qI(t,e){var i=e.type;if(i in t.g){var n=t.g[i],r=HN(n,e),o;(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(Uv(e),t.g[i].length==0&&(delete t.g[i],t.h--))}}function WI(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!i&&o.la==n)return r}return-1}var cC="closure_lm_"+(1e6*Math.random()|0),BI={};function YN(t,e,i,n,r){if(n&&n.once)return XN(t,e,i,n,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)YN(t,e[o],i,n,r);return null}return i=hC(i),t&&t[Kh]?t.O(e,i,Qh(n)?!!n.capture:!!n,r):ZN(t,e,i,!1,n,r)}function ZN(t,e,i,n,r,o){if(!e)throw Error("Invalid event type");var s=Qh(r)?!!r.capture:!!r,a=uC(t);if(a||(t[cC]=a=new zv(t)),i=a.add(e,i,n,s,o),i.proxy)return i;if(n=pY(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)sY||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(eL(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return i}function pY(){function t(i){return e.call(t.src,t.listener,i)}let e=gY;return t}function XN(t,e,i,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)XN(t,e[o],i,n,r);return null}return i=hC(i),t&&t[Kh]?t.P(e,i,Qh(n)?!!n.capture:!!n,r):ZN(t,e,i,!0,n,r)}function JN(t,e,i,n,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)JN(t,e[o],i,n,r);else n=Qh(n)?!!n.capture:!!n,i=hC(i),t&&t[Kh]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],i=WI(o,i,n,r),-1<i&&(Uv(o[i]),Array.prototype.splice.call(o,i,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=uC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=WI(e,i,n,r)),(i=-1<t?e[t]:null)&&dC(i))}function dC(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Kh])qI(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(eL(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=uC(e))?(qI(i,t),i.h==0&&(i.src=null,e[cC]=null)):Uv(t)}}}function eL(t){return t in BI?BI[t]:BI[t]="on"+t}function gY(t,e){if(t.fa)t=!0;else{e=new Uh(e,this);var i=t.listener,n=t.la||t.src;t.ia&&dC(t),t=i.call(n,e)}return t}function uC(t){return t=t[cC],t instanceof zv?t:null}var UI="__closure_events_fn_"+(1e9*Math.random()>>>0);function hC(t){return typeof t=="function"?t:(t[UI]||(t[UI]=function(e){return t.handleEvent(e)}),t[UI])}function fi(){As.call(this),this.i=new zv(this),this.S=this,this.J=null}pi(fi,As);fi.prototype[Kh]=!0;fi.prototype.removeEventListener=function(t,e,i,n){JN(this,t,e,i,n)};function Ii(t,e){var i,n=t.J;if(n)for(i=[];n;n=n.J)i.push(n);if(t=t.S,n=e.type||e,typeof e=="string")e=new Oi(e,t);else if(e instanceof Oi)e.target=e.target||t;else{var r=e;e=new Oi(n,t),KN(e,r)}if(r=!0,i)for(var o=i.length-1;0<=o;o--){var s=e.g=i[o];r=kv(s,n,!0,e)&&r}if(s=e.g=t,r=kv(s,n,!0,e)&&r,r=kv(s,n,!1,e)&&r,i)for(o=0;o<i.length;o++)s=e.g=i[o],r=kv(s,n,!1,e)&&r}fi.prototype.N=function(){if(fi.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var i=t.g[e],n=0;n<i.length;n++)Uv(i[n]);delete t.g[e],t.h--}}this.J=null};fi.prototype.O=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)};fi.prototype.P=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};function kv(t,e,i,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==i){var a=s.listener,l=s.la||s.src;s.ia&&qI(t.i,s),r=a.call(l,n)!==!1&&r}}return r&&!n.defaultPrevented}var mC=ye.JSON.stringify,QI=class{constructor(e,i){this.i=e,this.j=i,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function vY(){var t=fC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var KI=class{constructor(){this.h=this.g=null}add(e,i){let n=tL.get();n.set(e,i),this.h?this.h.next=n:this.g=n,this.h=n}},tL=new QI(()=>new YI,t=>t.reset()),YI=class{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}};function _Y(t){var e=1;t=t.split(":");let i=[];for(;0<e&&t.length;)i.push(t.shift()),e--;return t.length&&i.push(t.join(":")),i}function bY(t){ye.setTimeout(()=>{throw t},0)}var zh,$h=!1,fC=new KI,iL=()=>{let t=ye.Promise.resolve(void 0);zh=()=>{t.then(yY)}},yY=()=>{for(var t;t=vY();){try{t.h.call(t.g)}catch(i){bY(i)}var e=tL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$h=!1};function $v(t,e){fi.call(this),this.h=t||1,this.g=e||ye,this.j=Pi(this.qb,this),this.l=Date.now()}pi($v,fi);Q=$v.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ii(this,"tick"),this.ga&&(pC(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){$v.$.N.call(this),pC(this),delete this.g};function gC(t,e,i){if(typeof t=="function")i&&(t=Pi(t,i));else if(t&&typeof t.handleEvent=="function")t=Pi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function nL(t){t.g=gC(()=>{t.g=null,t.i&&(t.i=!1,nL(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var ZI=class extends As{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nL(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Hh(t){As.call(this),this.h=t,this.g={}}pi(Hh,As);var PN=[];function rL(t,e,i,n){Array.isArray(i)||(i&&(PN[0]=i.toString()),i=PN);for(var r=0;r<i.length;r++){var o=YN(e,i[r],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function oL(t){lC(t.g,function(e,i){this.g.hasOwnProperty(i)&&dC(e)},t),t.g={}}Hh.prototype.N=function(){Hh.$.N.call(this),oL(this)};Hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hv(){this.g=!0}Hv.prototype.Ea=function(){this.g=!1};function wY(t,e,i,n,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");s=2<=u.length&&u[1]=="type"?s+(d+"="+c+"&"):s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+`
`+i+`
`+s})}function xY(t,e,i,n,r,o,s){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+`
`+i+`
`+o+" "+s})}function zc(t,e,i,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IY(t,i)+(n?" "+n:"")})}function EY(t,e){t.info(function(){return"TIMEOUT: "+e})}Hv.prototype.info=function(){};function IY(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return mC(i)}catch{return e}}var La={},ON=null;function Gv(){return ON=ON||new fi}La.Ta="serverreachability";function sL(t){Oi.call(this,La.Ta,t)}pi(sL,Oi);function Gh(t){let e=Gv();Ii(e,new sL(e))}La.STAT_EVENT="statevent";function aL(t,e){Oi.call(this,La.STAT_EVENT,t),this.stat=e}pi(aL,Oi);function Xi(t){let e=Gv();Ii(e,new aL(e,t))}La.Ua="timingevent";function lL(t,e){Oi.call(this,La.Ua,t),this.size=e}pi(lL,Oi);function Yh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var qv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vC(){}vC.prototype.h=null;function NN(t){return t.h||(t.h=t.i())}function dL(){}var Zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _C(){Oi.call(this,"d")}pi(_C,Oi);function bC(){Oi.call(this,"c")}pi(bC,Oi);var XI;function Wv(){}pi(Wv,vC);Wv.prototype.g=function(){return new XMLHttpRequest};Wv.prototype.i=function(){return{}};XI=new Wv;function Xh(t,e,i,n){this.l=t,this.j=e,this.m=i,this.W=n||1,this.U=new Hh(this),this.P=CY,t=$I?125:void 0,this.V=new $v(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uL}function uL(){this.i=null,this.g="",this.h=!1}var CY=45e3,hL={},JI={};Q=Xh.prototype;Q.setTimeout=function(t){this.P=t};function eC(t,e,i){t.L=1,t.A=Kv(No(e)),t.u=i,t.S=!0,mL(t,null)}function mL(t,e){t.G=Date.now(),Jh(t),t.B=No(t.A);var i=t.B,n=t.W;Array.isArray(n)||(n=[String(n)]),wL(i.i,"t",n),t.o=0,i=t.l.J,t.h=new uL,t.g=zL(t.l,i?e:null,!t.u),0<t.O&&(t.M=new ZI(Pi(t.Pa,t,t.g),t.O)),rL(t.U,t.g,"readystatechange",t.nb),e=t.I?QN(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Gh(),wY(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;let e=this.M;e&&Zr(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{let d=Zr(this.g);var e=this.g.Ia();let u=this.g.da();if(!(3>d)&&(d!=3||$I||this.g&&(this.h.h||this.g.ja()||BN(this.g)))){this.J||d!=4||e==7||(e==8||0>=u?Gh(3):Gh(2)),Qv(this);var i=this.g.da();this.ca=i;t:if(fL(this)){var n=BN(this.g);t="";var r=n.length,o=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pa(this),jh(this);var s="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:o&&e==r-1});n.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=i==200,xY(this.j,this.v,this.B,this.m,this.W,d,i),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bh(a)){var c=a;break t}}c=null}if(i=c)zc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tC(this,i);else{this.i=!1,this.s=3,Xi(12),Pa(this),jh(this);break e}}this.S?(pL(this,d,s),$I&&this.i&&d==3&&(rL(this.U,this.V,"tick",this.mb),this.V.start())):(zc(this.j,this.m,s,null),tC(this,s)),d==4&&Pa(this),this.i&&!this.J&&(d==4?VL(this.l,this):(this.i=!1,Jh(this)))}else qY(this.g),i==400&&0<s.indexOf("Unknown SID")?(this.s=3,Xi(12)):(this.s=0,Xi(13)),Pa(this),jh(this)}}}catch{}finally{}};function fL(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function pL(t,e,i){let n=!0,r;for(;!t.J&&t.o<i.length;)if(r=DY(t,i),r==JI){e==4&&(t.s=4,Xi(14),n=!1),zc(t.j,t.m,null,"[Incomplete Response]");break}else if(r==hL){t.s=4,Xi(15),zc(t.j,t.m,i,"[Invalid Chunk]"),n=!1;break}else zc(t.j,t.m,r,null),tC(t,r);fL(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||i.length!=0||t.h.h||(t.s=1,Xi(16),n=!1),t.i=t.i&&n,n?0<i.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+i.length),CC(e),e.M=!0,Xi(11))):(zc(t.j,t.m,i,"[Invalid Chunked Response]"),Pa(t),jh(t))}Q.mb=function(){if(this.g){var t=Zr(this.g),e=this.g.ja();this.o<e.length&&(Qv(this),pL(this,t,e),this.i&&t!=4&&Jh(this))}};function DY(t,e){var i=t.o,n=e.indexOf(`
`,i);return n==-1?JI:(i=Number(e.substring(i,n)),isNaN(i)?hL:(n+=1,n+i>e.length?JI:(e=e.slice(n,n+i),t.o=n+i,e)))}Q.cancel=function(){this.J=!0,Pa(this)};function Jh(t){t.Y=Date.now()+t.P,gL(t,t.P)}function gL(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Yh(Pi(t.lb,t),e)}function Qv(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(EY(this.j,this.B),this.L!=2&&(Gh(),Xi(17)),Pa(this),this.s=2,jh(this)):gL(this,this.Y-t)};function jh(t){t.l.H==0||t.J||VL(t.l,t)}function Pa(t){Qv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,pC(t.V),oL(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tC(t,e){try{var i=t.l;if(i.H!=0&&(i.g==t||iC(i.i,t))){if(!t.K&&iC(i.i,t)&&i.H==3){try{var n=i.Ja.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var r=n;if(r[0]==0){e:if(!i.u){if(i.g)if(i.g.G+3e3<t.G)Ov(i),Xv(i);else break e;IC(i),Xi(18)}}else i.Fa=r[1],0<i.Fa-i.V&&37500>r[2]&&i.G&&i.A==0&&!i.v&&(i.v=Yh(Pi(i.ib,i),6e3));if(1>=IL(i.i)&&i.oa){try{i.oa()}catch{}i.oa=void 0}}else Oa(i,11)}else if((t.K||i.g==t)&&Ov(i),!Bh(e))for(r=i.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(i.V=c[0],c=c[1],i.H==2)if(c[0]=="c"){i.K=c[1],i.pa=c[2];let d=c[3];d!=null&&(i.ra=d,i.l.info("VER="+i.ra));let u=c[4];u!=null&&(i.Ga=u,i.l.info("SVER="+i.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,i.L=n,i.l.info("backChannelRequestTimeoutMs_="+n)),n=i;let m=t.g;if(m){let p=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=n.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(yC(o,o.h),o.h=null))}if(n.F){let _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(n.Da=_,wt(n.I,n.F,_))}}i.H=3,i.h&&i.h.Ba(),i.ca&&(i.S=Date.now()-t.G,i.l.info("Handshake RTT: "+i.S+"ms")),n=i;var s=t;if(n.wa=UL(n,n.J?n.pa:null,n.Y),s.K){CL(n.i,s);var a=s,l=n.L;l&&a.setTimeout(l),a.C&&(Qv(a),Jh(a)),n.g=s}else NL(n);0<i.j.length&&Jv(i)}else c[0]!="stop"&&c[0]!="close"||Oa(i,7);else i.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Oa(i,7):EC(i):c[0]!="noop"&&i.h&&i.h.Aa(c),i.A=0)}}Gh(4)}catch{}}function SY(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(jv(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}e=[],i=0;for(n in t)e[i++]=t[n];return e}function TY(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jv(t)||typeof t=="string"){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(let n in t)e[i++]=n;return e}}}function vL(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var i=TY(t),n=SY(t),r=n.length,o=0;o<r;o++)e.call(void 0,n[o],i&&i[o],t)}var _L=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AY(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var o=t[i].substring(0,n);r=t[i].substring(n+1)}else o=t[i];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Na(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Na){this.h=t.h,Fv(this,t.j),this.s=t.s,this.g=t.g,Pv(this,t.m),this.l=t.l;var e=t.i,i=new qh;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),LN(this,i),this.o=t.o}else t&&(e=String(t).match(_L))?(this.h=!1,Fv(this,e[1]||"",!0),this.s=Lh(e[2]||""),this.g=Lh(e[3]||"",!0),Pv(this,e[4]),this.l=Lh(e[5]||"",!0),LN(this,e[6]||"",!0),this.o=Lh(e[7]||"")):(this.h=!1,this.i=new qh(null,this.h))}Na.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vh(e,VN,!0),":");var i=this.g;return(i||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vh(e,VN,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&t.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&t.push("/"),t.push(Vh(i,i.charAt(0)=="/"?RY:MY,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.o)&&t.push("#",Vh(i,PY)),t.join("")};function No(t){return new Na(t)}function Fv(t,e,i){t.j=i?Lh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Pv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function LN(t,e,i){e instanceof qh?(t.i=e,OY(t.i,t.h)):(i||(e=Vh(e,FY)),t.i=new qh(e,t.h))}function wt(t,e,i){t.i.set(e,i)}function Kv(t){return wt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Lh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vh(t,e,i){return typeof t=="string"?(t=encodeURI(t).replace(e,kY),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kY(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VN=/[#\/\?@]/g,MY=/[#\?:]/g,RY=/[#\?]/g,FY=/[#\?@]/g,PY=/#/g;function qh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ks(t){t.g||(t.g=new Map,t.h=0,t.i&&AY(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}Q=qh.prototype;Q.add=function(t,e){ks(this),this.i=null,t=Gc(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this};function bL(t,e){ks(t),e=Gc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function yL(t,e){return ks(t),e=Gc(t,e),t.g.has(e)}Q.forEach=function(t,e){ks(this),this.g.forEach(function(i,n){i.forEach(function(r){t.call(e,r,n,this)},this)},this)};Q.ta=function(){ks(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let n=0;n<e.length;n++){let r=t[n];for(let o=0;o<r.length;o++)i.push(e[n])}return i};Q.Z=function(t){ks(this);let e=[];if(typeof t=="string")yL(this,t)&&(e=e.concat(this.g.get(Gc(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e};Q.set=function(t,e){return ks(this),this.i=null,t=Gc(this,t),yL(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function wL(t,e,i){bL(t,e),0<i.length&&(t.i=null,t.g.set(Gc(t,e),sC(i)),t.h+=i.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var n=e[i];let o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var r=o;s[n]!==""&&(r+="="+encodeURIComponent(String(s[n]))),t.push(r)}}return this.i=t.join("&")};function Gc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OY(t,e){e&&!t.j&&(ks(t),t.i=null,t.g.forEach(function(i,n){var r=n.toLowerCase();n!=r&&(bL(this,n),wL(this,r,i))},t)),t.j=e}var NY=class{constructor(t,e){this.g=t,this.map=e}};function xL(t){this.l=t||LY,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LY=10;function EL(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function IL(t){return t.h?1:t.g?t.g.size:0}function iC(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function yC(t,e){t.g?t.g.add(e):t.h=e}function CL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xL.prototype.cancel=function(){if(this.i=DL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function DL(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let i of t.g.values())e=e.concat(i.F);return e}return sC(t.i)}var VY=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function jY(){this.g=new VY}function BY(t,e,i){let n=i||"";try{vL(t,function(r,o){let s=r;Qh(r)&&(s=mC(r)),e.push(n+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(n+"type="+encodeURIComponent("_badmap")),r}}function UY(t,e){let i=new Hv;if(ye.Image){let n=new Image;n.onload=Dv(Mv,i,n,"TestLoadImage: loaded",!0,e),n.onerror=Dv(Mv,i,n,"TestLoadImage: error",!1,e),n.onabort=Dv(Mv,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=Dv(Mv,i,n,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function Mv(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch{}}function em(t){this.l=t.ec||null,this.j=t.ob||!1}pi(em,vC);em.prototype.g=function(){return new Yv(this.l,this.j)};em.prototype.i=function(t){return function(){return t}}({});function Yv(t,e){fi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pi(Yv,fi);var wC=0;Q=Yv.prototype;Q.open=function(t,e){if(this.readyState!=wC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wh(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tm(this)),this.readyState=wC};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wh(this)),this.g&&(this.readyState=3,Wh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SL(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function SL(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tm(this):Wh(this),this.readyState==3&&SL(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,tm(this))};Q.Ya=function(t){this.g&&(this.response=t,tm(this))};Q.ka=function(){this.g&&tm(this)};function tm(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wh(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join(`\r
`)};function Wh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zY=ye.JSON.parse;function Lt(t){fi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TL,this.L=this.M=!1}pi(Lt,fi);var TL="",$Y=/^https?$/i,HY=["POST","PUT"];Q=Lt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():XI.g(),this.C=this.u?NN(this.u):NN(XI),this.g.onreadystatechange=Pi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){jN(this,o);return}if(t=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(let o of n.keys())i.set(o,n.get(o));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(i.keys()).find(o=>o.toLowerCase()=="content-type"),r=ye.FormData&&t instanceof ye.FormData,!(0<=HN(HY,e))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of i)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ML(this),0<this.B&&((this.L=GY(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.ua,this)):this.A=gC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){jN(this,o)}};function GY(t){return Hc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof oC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ii(this,"timeout"),this.abort(8))};function jN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AL(t),Zv(t)}function AL(t){t.F||(t.F=!0,Ii(t,"complete"),Ii(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ii(this,"complete"),Ii(this,"abort"),Zv(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zv(this,!0)),Lt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?kL(this):this.kb())};Q.kb=function(){kL(this)};function kL(t){if(t.h&&typeof oC<"u"&&(!t.C[1]||Zr(t)!=4||t.da()!=2)){if(t.v&&Zr(t)==4)gC(t.La,0,t);else if(Ii(t,"readystatechange"),Zr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var n;if(n=s===0){var r=String(t.I).match(_L)[1]||null;!r&&ye.self&&ye.self.location&&(r=ye.self.location.protocol.slice(0,-1)),n=!$Y.test(r?r.toLowerCase():"")}i=n}if(i)Ii(t,"complete"),Ii(t,"success");else{t.m=6;try{var o=2<Zr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",AL(t)}}finally{Zv(t)}}}}function Zv(t,e){if(t.g){ML(t);let i=t.g,n=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ii(t,"ready");try{i.onreadystatechange=n}catch{}}}function ML(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Zr(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zY(e)}};function BN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case TL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qY(t){let e={};t=(t.g&&2<=Zr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let n=0;n<t.length;n++){if(Bh(t[n]))continue;var i=_Y(t[n]);let r=i[0];if(i=i[1],typeof i!="string")continue;i=i.trim();let o=e[r]||[];e[r]=o,o.push(i)}fY(e,function(n){return n.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function RL(t){let e="";return lC(t,function(i,n){e+=n,e+=":",e+=i,e+=`\r
`}),e}function xC(t,e,i){e:{for(n in i){var n=!1;break e}n=!0}n||(i=RL(i),typeof t=="string"?i!=null&&encodeURIComponent(String(i)):wt(t,e,i))}function Oh(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function FL(t){this.Ga=0,this.j=[],this.l=new Hv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oh("baseRetryDelayMs",5e3,t),this.hb=Oh("retryDelaySeedMs",1e4,t),this.eb=Oh("forwardChannelMaxRetries",2,t),this.xa=Oh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new xL(t&&t.concurrentRequestLimit),this.Ja=new jY,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=FL.prototype;Q.ra=8;Q.H=1;function EC(t){if(PL(t),t.H==3){var e=t.W++,i=No(t.I);if(wt(i,"SID",t.K),wt(i,"RID",e),wt(i,"TYPE","terminate"),im(t,i),e=new Xh(t,t.l,e),e.L=2,e.A=Kv(No(i)),i=!1,ye.navigator&&ye.navigator.sendBeacon)try{i=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!i&&ye.Image&&(new Image().src=e.A,i=!0),i||(e.g=zL(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Jh(e)}BL(t)}function Xv(t){t.g&&(CC(t),t.g.cancel(),t.g=null)}function PL(t){Xv(t),t.u&&(ye.clearTimeout(t.u),t.u=null),Ov(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function Jv(t){if(!EL(t.i)&&!t.m){t.m=!0;var e=t.Na;zh||iL(),$h||(zh(),$h=!0),fC.add(e,t),t.C=0}}function WY(t,e){return IL(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Yh(Pi(t.Na,t,e),jL(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Xh(this,this.l,t),o=this.s;if(this.U&&(o?(o=QN(o),KN(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,i=0;i<this.j.length;i++){t:{var n=this.j[i];if("__data__"in n.map&&(n=n.map.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=i;break e}if(e===4096||i===this.j.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=OL(this,r,e),i=No(this.I),wt(i,"RID",t),wt(i,"CVER",22),this.F&&wt(i,"X-HTTP-Session-Id",this.F),im(this,i),o&&(this.O?e="headers="+encodeURIComponent(String(RL(o)))+"&"+e:this.o&&xC(i,this.o,o)),yC(this.i,r),this.bb&&wt(i,"TYPE","init"),this.P?(wt(i,"$req",e),wt(i,"SID","null"),r.aa=!0,eC(r,i,null)):eC(r,i,e),this.H=2}}else this.H==3&&(t?UN(this,t):this.j.length==0||EL(this.i)||UN(this))};function UN(t,e){var i;e?i=e.m:i=t.W++;let n=No(t.I);wt(n,"SID",t.K),wt(n,"RID",i),wt(n,"AID",t.V),im(t,n),t.o&&t.s&&xC(n,t.o,t.s),i=new Xh(t,t.l,i,t.C+1),t.o===null&&(i.I=t.s),e&&(t.j=e.F.concat(t.j)),e=OL(t,i,1e3),i.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),yC(t.i,i),eC(i,n,e)}function im(t,e){t.na&&lC(t.na,function(i,n){wt(e,n,i)}),t.h&&vL({},function(i,n){wt(e,n,i)})}function OL(t,e,i){i=Math.min(t.j.length,i);var n=t.h?Pi(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+i];o==-1?0<i?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<i;l++){let c=r[l].g,d=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{BY(d,s,"req"+c+"_")}catch{n&&n(d)}}if(a){n=s.join("&");break e}}}return t=t.j.splice(0,i),e.F=t,n}function NL(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zh||iL(),$h||(zh(),$h=!0),fC.add(e,t),t.A=0}}function IC(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Yh(Pi(t.Ma,t),jL(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,LL(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yh(Pi(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),Xv(this),LL(this))};function CC(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function LL(t){t.g=new Xh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=No(t.wa);wt(e,"RID","rpc"),wt(e,"SID",t.K),wt(e,"AID",t.V),wt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&wt(e,"TO",t.qa),wt(e,"TYPE","xmlhttp"),im(t,e),t.o&&t.s&&xC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var i=t.g;t=t.pa,i.L=1,i.A=Kv(No(e)),i.u=null,i.S=!0,mL(i,t)}Q.ib=function(){this.v!=null&&(this.v=null,Xv(this),IC(this),Xi(19))};function Ov(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function VL(t,e){var i=null;if(t.g==e){Ov(t),CC(t),t.g=null;var n=2}else if(iC(t.i,e))i=e.F,CL(t.i,e),n=1;else return;if(t.H!=0){if(e.i)if(n==1){i=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;n=Gv(),Ii(n,new lL(n,i)),Jv(t)}else NL(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(n==1&&WY(t,e)||n==2&&IC(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),r){case 1:Oa(t,5);break;case 4:Oa(t,10);break;case 3:Oa(t,6);break;default:Oa(t,2)}}}function jL(t,e){let i=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(i*=2),i*e}function Oa(t,e){if(t.l.info("Error code "+e),e==2){var i=null;t.h&&(i=null);var n=Pi(t.pb,t);i||(i=new Na("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Fv(i,"https"),Kv(i)),UY(i.toString(),n)}else Xi(2);t.H=0,t.h&&t.h.za(e),BL(t),PL(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))};function BL(t){if(t.H=0,t.ma=[],t.h){let e=DL(t.i);(e.length!=0||t.j.length!=0)&&(RN(t.ma,e),RN(t.ma,t.j),t.i.i.length=0,sC(t.j),t.j.length=0),t.h.ya()}}function UL(t,e,i){var n=i instanceof Na?No(i):new Na(i);if(n.g!="")e&&(n.g=e+"."+n.g),Pv(n,n.m);else{var r=ye.location;n=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Na(null);n&&Fv(o,n),e&&(o.g=e),r&&Pv(o,r),i&&(o.l=i),n=o}return i=t.F,e=t.Da,i&&e&&wt(n,i,e),wt(n,"VER",t.ra),im(t,n),n}function zL(t,e,i){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Lt(new em({ob:i})):new Lt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function $L(){}Q=$L.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Nv(){if(Hc&&!(10<=Number(dY)))throw Error("Environmental error: no available transport.")}Nv.prototype.g=function(t,e){return new xn(t,e)};function xn(t,e){fi.call(this),this.g=new FL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qc(this)}pi(xn,fi);xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,i=this.h||void 0;Xi(0),t.Y=e,t.na=i||{},t.G=t.aa,t.I=UL(t,null,t.Y),Jv(t)};xn.prototype.close=function(){EC(this.g)};xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var i={};i.__data__=t,t=i}else this.v&&(i={},i.__data__=mC(t),t=i);e.j.push(new NY(e.fb++,t)),e.H==3&&Jv(e)};xn.prototype.N=function(){this.g.h=null,delete this.j,EC(this.g),delete this.g,xn.$.N.call(this)};function HL(t){_C.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}pi(HL,_C);function GL(){bC.call(this),this.status=1}pi(GL,bC);function qc(t){this.g=t}pi(qc,$L);qc.prototype.Ba=function(){Ii(this.g,"a")};qc.prototype.Aa=function(t){Ii(this.g,new HL(t))};qc.prototype.za=function(t){Ii(this.g,new GL)};qc.prototype.ya=function(){Ii(this.g,"b")};function QY(){this.blockSize=-1}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}pi(_r,QY);_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zI(t,e,i){i||(i=0);var n=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)n[r]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(r=0;16>r;++r)n[r]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;e=t.g[0],i=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^i&(r^o))+n[0]+3614090360&4294967295;e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[3]+3250441966&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(o^i&(r^o))+n[4]+4118548399&4294967295,e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[7]+4249261313&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(o^i&(r^o))+n[8]+1770035416&4294967295,e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[11]+2304563134&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(o^i&(r^o))+n[12]+1804603682&4294967295,e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[15]+1236535329&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(i^r))+n[1]+4129170786&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[0]+3921069994&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(i^r))+n[5]+3593408605&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[4]+3889429448&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(i^r))+n[9]+568446438&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[8]+1163531501&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(i^r))+n[13]+2850285829&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[12]+2368359562&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(i^r^o)+n[5]+4294588738&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[14]+4259657740&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(i^r^o)+n[1]+2763975236&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[10]+3200236656&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(i^r^o)+n[13]+681279174&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[6]+76029189&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(i^r^o)+n[9]+3654602809&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[2]+3299628645&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(r^(i|~o))+n[0]+4096336452&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[5]+4237533241&4294967295,i=r+(s<<21&4294967295|s>>>11),s=e+(r^(i|~o))+n[12]+1700485571&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[1]+2240044497&4294967295,i=r+(s<<21&4294967295|s>>>11),s=e+(r^(i|~o))+n[8]+1873313359&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[13]+1309151649&4294967295,i=r+(s<<21&4294967295|s>>>11),s=e+(r^(i|~o))+n[4]+4149444226&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}_r.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var i=e-this.blockSize,n=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=i;)zI(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(n[r++]=t.charCodeAt(o++),r==this.blockSize){zI(this,n),r=0;break}}else for(;o<e;)if(n[r++]=t[o++],r==this.blockSize){zI(this,n),r=0;break}}this.h=r,this.i+=e};_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var i=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=i&255,i/=256;for(this.j(t),t=Array(16),e=i=0;4>e;++e)for(var n=0;32>n;n+=8)t[i++]=this.g[e]>>>n&255;return t};function at(t,e){this.h=e;for(var i=[],n=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;n&&o==e||(i[r]=o,n=!1)}this.g=i}var KY={};function DC(t){return-128<=t&&128>t?aY(t,function(e){return new at([e|0],0>e?-1:0)}):new at([t|0],0>t?-1:0)}function Xr(t){if(isNaN(t)||!isFinite(t))return $c;if(0>t)return Ei(Xr(-t));for(var e=[],i=1,n=0;t>=i;n++)e[n]=t/i|0,i*=nC;return new at(e,0)}function qL(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ei(qL(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Xr(Math.pow(e,8)),n=$c,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Xr(Math.pow(e,o)),n=n.R(o).add(Xr(s))):(n=n.R(i),n=n.add(Xr(s)))}return n}var nC=4294967296,$c=DC(0),rC=DC(1),zN=DC(16777216);Q=at.prototype;Q.ea=function(){if($n(this))return-Ei(this).ea();for(var t=0,e=1,i=0;i<this.g.length;i++){var n=this.D(i);t+=(0<=n?n:nC+n)*e,e*=nC}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Oo(this))return"0";if($n(this))return"-"+Ei(this).toString(t);for(var e=Xr(Math.pow(t,6)),i=this,n="";;){var r=Vv(i,e).g;i=Lv(i,r.R(e));var o=((0<i.g.length?i.g[0]:i.h)>>>0).toString(t);if(i=r,Oo(i))return o+n;for(;6>o.length;)o="0"+o;n=o+n}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Oo(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function $n(t){return t.h==-1}Q.X=function(t){return t=Lv(this,t),$n(t)?-1:Oo(t)?0:1};function Ei(t){for(var e=t.g.length,i=[],n=0;n<e;n++)i[n]=~t.g[n];return new at(i,~t.h).add(rC)}Q.abs=function(){return $n(this)?Ei(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],n=0,r=0;r<=e;r++){var o=n+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);n=s>>>16,o&=65535,s&=65535,i[r]=s<<16|o}return new at(i,i[i.length-1]&-2147483648?-1:0)};function Lv(t,e){return t.add(Ei(e))}Q.R=function(t){if(Oo(this)||Oo(t))return $c;if($n(this))return $n(t)?Ei(this).R(Ei(t)):Ei(Ei(this).R(t));if($n(t))return Ei(this.R(Ei(t)));if(0>this.X(zN)&&0>t.X(zN))return Xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,i=[],n=0;n<2*e;n++)i[n]=0;for(n=0;n<this.g.length;n++)for(var r=0;r<t.g.length;r++){var o=this.D(n)>>>16,s=this.D(n)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;i[2*n+2*r]+=s*l,Rv(i,2*n+2*r),i[2*n+2*r+1]+=o*l,Rv(i,2*n+2*r+1),i[2*n+2*r+1]+=s*a,Rv(i,2*n+2*r+1),i[2*n+2*r+2]+=o*a,Rv(i,2*n+2*r+2)}for(n=0;n<e;n++)i[n]=i[2*n+1]<<16|i[2*n];for(n=e;n<2*e;n++)i[n]=0;return new at(i,0)};function Rv(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nh(t,e){this.g=t,this.h=e}function Vv(t,e){if(Oo(e))throw Error("division by zero");if(Oo(t))return new Nh($c,$c);if($n(t))return e=Vv(Ei(t),e),new Nh(Ei(e.g),Ei(e.h));if($n(e))return e=Vv(t,Ei(e)),new Nh(Ei(e.g),e.h);if(30<t.g.length){if($n(t)||$n(e))throw Error("slowDivide_ only works with positive integers.");for(var i=rC,n=e;0>=n.X(t);)i=$N(i),n=$N(n);var r=Uc(i,1),o=Uc(n,1);for(n=Uc(n,2),i=Uc(i,2);!Oo(n);){var s=o.add(n);0>=s.X(t)&&(r=r.add(i),o=s),n=Uc(n,1),i=Uc(i,1)}return e=Lv(t,r.R(e)),new Nh(r,e)}for(r=$c;0<=t.X(e);){for(i=Math.max(1,Math.floor(t.ea()/e.ea())),n=Math.ceil(Math.log(i)/Math.LN2),n=48>=n?1:Math.pow(2,n-48),o=Xr(i),s=o.R(e);$n(s)||0<s.X(t);)i-=n,o=Xr(i),s=o.R(e);Oo(o)&&(o=rC),r=r.add(o),t=Lv(t,s)}return new Nh(r,t)}Q.gb=function(t){return Vv(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],n=0;n<e;n++)i[n]=this.D(n)&t.D(n);return new at(i,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],n=0;n<e;n++)i[n]=this.D(n)|t.D(n);return new at(i,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],n=0;n<e;n++)i[n]=this.D(n)^t.D(n);return new at(i,this.h^t.h)};function $N(t){for(var e=t.g.length+1,i=[],n=0;n<e;n++)i[n]=t.D(n)<<1|t.D(n-1)>>>31;return new at(i,t.h)}function Uc(t,e){var i=e>>5;e%=32;for(var n=t.g.length-i,r=[],o=0;o<n;o++)r[o]=0<e?t.D(o+i)>>>e|t.D(o+i+1)<<32-e:t.D(o+i);return new at(r,t.h)}Nv.prototype.createWebChannel=Nv.prototype.g;xn.prototype.send=xn.prototype.u;xn.prototype.open=xn.prototype.m;xn.prototype.close=xn.prototype.close;qv.NO_ERROR=0;qv.TIMEOUT=8;qv.HTTP_ERROR=6;cL.COMPLETE="complete";dL.EventType=Zh;Zh.OPEN="a";Zh.CLOSE="b";Zh.ERROR="c";Zh.MESSAGE="d";fi.prototype.listen=fi.prototype.O;Lt.prototype.listenOnce=Lt.prototype.P;Lt.prototype.getLastError=Lt.prototype.Sa;Lt.prototype.getLastErrorCode=Lt.prototype.Ia;Lt.prototype.getStatus=Lt.prototype.da;Lt.prototype.getResponseJson=Lt.prototype.Wa;Lt.prototype.getResponseText=Lt.prototype.ja;Lt.prototype.send=Lt.prototype.ha;Lt.prototype.setWithCredentials=Lt.prototype.Oa;_r.prototype.digest=_r.prototype.l;_r.prototype.reset=_r.prototype.reset;_r.prototype.update=_r.prototype.j;at.prototype.add=at.prototype.add;at.prototype.multiply=at.prototype.R;at.prototype.modulo=at.prototype.gb;at.prototype.compare=at.prototype.X;at.prototype.toNumber=at.prototype.ea;at.prototype.toString=at.prototype.toString;at.prototype.getBits=at.prototype.D;at.fromNumber=Xr;at.fromString=qL;var WL=br.createWebChannelTransport=function(){return new Nv},QL=br.getStatEventTarget=function(){return Gv()},e_=br.ErrorCode=qv,KL=br.EventType=cL,YL=br.Event=La,SC=br.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yve=br.FetchXmlHttpFactory=em,nm=br.WebChannel=dL,ZL=br.XhrIo=Lt,XL=br.Md5=_r,Va=br.Integer=at;var JL="@firebase/firestore";var ii=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");var Ed="10.11.0";var Ls=new mf("@firebase/firestore");function Zc(){return Ls.logLevel}function J2(t){Ls.setLogLevel(t)}function O(t,...e){if(Ls.logLevel<=Sr.DEBUG){let i=e.map(kS);Ls.debug(`Firestore (${Ed}): ${t}`,...i)}}function Kt(t,...e){if(Ls.logLevel<=Sr.ERROR){let i=e.map(kS);Ls.error(`Firestore (${Ed}): ${t}`,...i)}}function Gn(t,...e){if(Ls.logLevel<=Sr.WARN){let i=e.map(kS);Ls.warn(`Firestore (${Ed}): ${t}`,...i)}}function kS(t){if(typeof t=="string")return t;try{return function(i){return JSON.stringify(i)}(t)}catch{return t}}function te(t="Unexpected state"){let e=`FIRESTORE (${Ed}) INTERNAL ASSERTION FAILED: `+t;throw Kt(e),new Error(e)}function ae(t,e){t||te()}function eV(t,e){t||te()}function q(t,e){return t}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends hf{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ni=class{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}};var u_=class{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},RC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(ii.UNAUTHENTICATED))}shutdown(){}},FC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},PC=class{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let n=this.i,r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve(),o=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ni,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>D(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ni)}},0),s()}getToken(){let e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ae(typeof n.accessToken=="string"),new u_(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new ii(e)}},OC=class{constructor(e,i,n){this.l=e,this.h=i,this.P=n,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},NC=class{constructor(e,i,n){this.l=e,this.h=i,this.P=n}getToken(){return Promise.resolve(new OC(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}},LC=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},VC=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){let n=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};let r=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ae(typeof i.token=="string"),this.R=i.token,new LC(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function ZY(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}var h_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=ZY(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=e.charAt(r[o]%e.length))}return n}};function Se(t,e){return t<e?-1:t>e?1:0}function sd(t,e,i){return t.length===e.length&&t.every((n,r)=>i(n,e[r]))}function tV(t){return t+"\0"}var kt=class t{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new F(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new F(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new F(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new t(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new kt(0,0))}static max(){return new t(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var m_=class t{constructor(e,i,n){i===void 0?i=0:i>e.length&&te(),n===void 0?n=e.length-i:n>e.length-i&&te(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){let n=Math.min(e.length,i.length);for(let r=0;r<n;r++){let o=e.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<i.length?-1:e.length>i.length?1:0}},We=class t extends m_{construct(e,i,n){return new t(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let i=[];for(let n of e){if(n.indexOf("//")>=0)throw new F(S.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new t(i)}static emptyPath(){return new t([])}},XY=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class t extends m_{construct(e,i,n){return new t(e,i,n)}static isValidIdentifier(e){return XY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let i=[],n="",r=0,o=()=>{if(n.length===0)throw new F(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new F(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(n+=a,r++):(o(),r++)}if(o(),s)throw new F(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(i)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(We.fromString(e))}static fromName(e){return new t(We.fromString(e).popFirst(5))}static empty(){return new t(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return We.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new We(e.slice()))}};var ad=class{constructor(e,i,n,r){this.indexId=e,this.collectionGroup=i,this.fields=n,this.indexState=r}};function jC(t){return t.fields.find(e=>e.kind===2)}function Ba(t){return t.fields.filter(e=>e.kind!==2)}ad.UNKNOWN_ID=-1;var nd=class{constructor(e,i){this.fieldPath=e,this.kind=i}};var pm=class t{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new t(0,qn.min())}};function iV(t,e){let i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=ce.fromTimestamp(n===1e9?new kt(i+1,0):new kt(i,n));return new qn(r,G.empty(),e)}function nV(t){return new qn(t.readTime,t.key,-1)}var qn=class t{constructor(e,i,n){this.readTime=e,this.documentKey=i,this.largestBatchId=n}static min(){return new t(ce.min(),G.empty(),-1)}static max(){return new t(ce.max(),G.empty(),-1)}};function MS(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=G.comparator(t.documentKey,e.documentKey),i!==0?i:Se(t.largestBatchId,e.largestBatchId))}var rV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",f_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function qs(t){return D(this,null,function*(){if(t.code!==S.FAILED_PRECONDITION||t.message!==rV)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var C=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{let i=e();return i instanceof t?i:t.resolve(i)}catch(i){return t.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):t.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):t.reject(i)}static resolve(e){return new t((i,n)=>{i(e)})}static reject(e){return new t((i,n)=>{n(e)})}static waitFor(e){return new t((i,n)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&i()},l=>n(l))}),s=!0,o===r&&i()})}static or(e){let i=t.resolve(!1);for(let n of e)i=i.next(r=>r?t.resolve(r):n());return i}static forEach(e,i){let n=[];return e.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(e,i){return new t((n,r)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let c=l;i(e[c]).next(d=>{s[c]=d,++a,a===o&&n(s)},d=>r(d))}})}static doWhile(e,i){return new t((n,r)=>{let o=()=>{e()===!0?i().next(()=>{o()},r):n()};o()})}};var p_=class t{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.V=new ni,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new qa(e,i.error)):this.V.resolve()},this.transaction.onerror=n=>{let r=RS(n.target.error);this.V.reject(new qa(e,r))}}static open(e,i,n,r){try{return new t(i,e.transaction(r,n))}catch(o){throw new qa(i,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(O("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let i=this.transaction.objectStore(e);return new UC(i)}},jo=class t{constructor(e,i,n){this.name=e,this.version=i,this.p=n,t.S(Yd())===12.2&&Kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return O("SimpleDb","Removing database:",e),Ua(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uf())return!1;if(t.C())return!0;let e=Yd(),i=t.S(e),n=0<i&&i<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,i){return e.store(i)}static S(e){let i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){let i=e.match(/Android ([\d.]+)/i),n=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(n)}O(e){return D(this,null,function*(){return this.db||(O("SimpleDb","Opening database:",this.name),this.db=yield new Promise((i,n)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;i(s)},r.onblocked=()=>{n(new qa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?n(new F(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new F(S.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new qa(e,s))},r.onupgradeneeded=o=>{O("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,r.transaction,o.oldVersion,this.version).next(()=>{O("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=i=>this.L(i)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,n,r){return D(this,null,function*(){let o=i==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=p_.open(this.db,e,o?"readonly":"readwrite",n),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),C.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&s<3;if(O("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}},BC=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ua(this.k.delete())}},qa=class extends F{constructor(e,i){super(S.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}};function Ws(t){return t.name==="IndexedDbTransactionError"}var UC=class{constructor(e){this.store=e}put(e,i){let n;return i!==void 0?(O("SimpleDb","PUT",this.store.name,e,i),n=this.store.put(i,e)):(O("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ua(n)}add(e){return O("SimpleDb","ADD",this.store.name,e,e),Ua(this.store.add(e))}get(e){return Ua(this.store.get(e)).next(i=>(i===void 0&&(i=null),O("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return O("SimpleDb","DELETE",this.store.name,e),Ua(this.store.delete(e))}count(){return O("SimpleDb","COUNT",this.store.name),Ua(this.store.count())}W(e,i){let n=this.options(e,i),r=n.index?this.store.index(n.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(n.range);return new C((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{let o=this.cursor(n),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,i){let n=this.store.getAll(e,i===null?void 0:i);return new C((r,o)=>{n.onerror=s=>{o(s.target.error)},n.onsuccess=s=>{r(s.target.result)}})}H(e,i){O("SimpleDb","DELETE ALL",this.store.name);let n=this.options(e,i);n.J=!1;let r=this.cursor(n);return this.G(r,(o,s,a)=>a.delete())}Y(e,i){let n;i?n=e:(n={},i=e);let r=this.cursor(n);return this.G(r,i)}Z(e){let i=this.cursor({});return new C((n,r)=>{i.onerror=o=>{let s=RS(o.target.error);r(s)},i.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():n()}):n()}})}G(e,i){let n=[];return new C((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let l=new BC(a),c=i(a.primaryKey,a.value,l);if(c instanceof C){let d=c.catch(u=>(l.done(),C.reject(u)));n.push(d)}l.isDone?r():l.$===null?a.continue():a.continue(l.$)}}).next(()=>C.waitFor(n))}options(e,i){let n;return e!==void 0&&(typeof e=="string"?n=e:i=e),{index:n,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){let n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,i):n.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}};function Ua(t){return new C((e,i)=>{t.onsuccess=n=>{let r=n.target.result;e(r)},t.onerror=n=>{let r=RS(n.target.error);i(r)}})}var e2=!1;function RS(t){let e=jo.S(Yd());if(e>=12.2&&e<13){let i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){let n=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return e2||(e2=!0,setTimeout(()=>{throw n},0)),n}}return t}var zC=class{constructor(e,i){this.asyncQueue=e,this.X=i,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){O("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>D(this,null,function*(){this.task=null;try{O("IndexBackfiller",`Documents written: ${yield this.X.te()}`)}catch(i){Ws(i)?O("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield qs(i)}yield this.ee(6e4)}))}},$C=class{constructor(e,i){this.localStore=e,this.persistence=i}te(e=50){return D(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>this.ne(i,e))})}ne(e,i){let n=new Set,r=i,o=!0;return C.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!n.has(s))return O("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,n.add(s)});o=!1})).next(()=>i-r)}re(e,i,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(r=>this.localStore.localDocuments.getNextDocuments(e,i,r,n).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(O("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,i,a))).next(()=>s.size)}))}ie(e,i){let n=e;return i.changes.forEach((r,o)=>{let s=nV(o);MS(s,n)>0&&(n=s)}),new qn(n.readTime,n.documentKey,Math.max(i.batchId,e.largestBatchId))}};var En=(()=>{class t{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.oe&&this.oe(i),i}}return t._e=-1,t})();function Lm(t){return t==null}function gm(t){return t===0&&1/t==-1/0}function oV(t){return typeof t=="number"&&Number.isInteger(t)&&!gm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ji(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=t2(e)),e=JY(t.get(i),e);return t2(e)}function JY(t,e){let i=e,n=t.length;for(let r=0;r<n;r++){let o=t.charAt(r);switch(o){case"\0":i+="";break;case"":i+="";break;default:i+=o}}return i}function t2(t){return t+""}function Jr(t){let e=t.length;if(ae(e>=2),e===2)return ae(t.charAt(0)===""&&t.charAt(1)===""),We.emptyPath();let i=e-2,n=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>i)&&te(),t.charAt(s+1)){case"":let a=t.substring(o,s),l;r.length===0?l=a:(r+=a,l=r,r=""),n.push(l);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:te()}o=s+2}return new We(n)}var i2=["userId","batchId"];function o_(t,e){return[t,Ji(e)]}function sV(t,e,i){return[t,Ji(e),i]}var eZ={},tZ=["prefixPath","collectionGroup","readTime","documentId"],iZ=["prefixPath","collectionGroup","documentId"],nZ=["collectionGroup","readTime","prefixPath","documentId"],rZ=["canonicalId","targetId"],oZ=["targetId","path"],sZ=["path","targetId"],aZ=["collectionId","parent"],lZ=["indexId","uid"],cZ=["uid","sequenceNumber"],dZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uZ=["indexId","uid","orderedDocumentKey"],hZ=["userId","collectionPath","documentId"],mZ=["userId","collectionPath","largestBatchId"],fZ=["userId","collectionGroup","largestBatchId"],aV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pZ=[...aV,"documentOverlays"],lV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cV=lV,dV=[...cV,"indexConfiguration","indexState","indexEntries"],gZ=dV;var vm=class extends f_{constructor(e,i){super(),this.ae=e,this.currentSequenceNumber=i}};function vi(t,e){let i=q(t);return jo.M(i.ae,e)}function n2(t){let e=0;for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function rl(t,e){for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function uV(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xt=class t{constructor(e,i){this.comparator=e,this.root=i||to.EMPTY}insert(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,to.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,to.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){let e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}},id=class{constructor(e,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=i?n(e.key,i):1,i&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},to=class t{constructor(e,i,n,r,o){this.key=e,this.value=i,this.color=n??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,r,o){return new t(e??this.key,i??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this,o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};to.EMPTY=null,to.RED=!0,to.BLACK=!1;to.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,i,n,r,o){return this}insert(e,i,n){return new to(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(i=>{e.push(i)}),e}toString(){let e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){let i=new t(this.comparator);return i.data=e,i}},g_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Wc(t){return t.hasNext()?t.getNext():void 0}var In=class t{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new t([])}unionWith(e){let i=new mt(Yt.comparator);for(let n of this.fields)i=i.add(n);for(let n of e)i=i.add(n);return new t(i.toArray())}covers(e){for(let i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return sd(this.fields,e.fields,(i,n)=>i.isEqual(n))}};var v_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function hV(){return typeof atob<"u"}var gi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new v_("Invalid base64 string: "+o):o}}(e);return new t(i)}static fromUint8Array(e){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gi.EMPTY_BYTE_STRING=new gi("");var vZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(ae(!!t),typeof t=="string"){let e=0,i=vZ.exec(t);if(ae(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}let n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?gi.fromBase64String(t):gi.fromUint8Array(t)}function ab(t){var e,i;return((i=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function FS(t){let e=t.mapValue.fields.__previous_value__;return ab(e)?FS(e):e}function _m(t){let e=Bo(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}var HC=class{constructor(e,i,n,r,o,s,a,l,c){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},js=class t{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Os={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},s_={nullValue:"NULL_VALUE"};function Wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ab(t)?4:mV(t)?9007199254740991:10:te()}function ro(t,e){if(t===e)return!0;let i=Wa(t);if(i!==Wa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _m(t).isEqual(_m(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Bo(r.timestampValue),a=Bo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Vs(r.bytesValue).isEqual(Vs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Vt(r.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(r.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Vt(r.integerValue)===Vt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Vt(r.doubleValue),a=Vt(o.doubleValue);return s===a?gm(s)===gm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return sd(t.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(n2(s)!==n2(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ro(s[l],a[l])))return!1;return!0}(t,e);default:return te()}}function bm(t,e){return(t.values||[]).find(i=>ro(i,e))!==void 0}function Bs(t,e){if(t===e)return 0;let i=Wa(t),n=Wa(e);if(i!==n)return Se(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Vt(o.integerValue||o.doubleValue),l=Vt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return r2(t.timestampValue,e.timestampValue);case 4:return r2(_m(t),_m(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Vs(o),l=Vs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=Se(a[c],l[c]);if(d!==0)return d}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(Vt(o.latitude),Vt(s.latitude));return a!==0?a:Se(Vt(o.longitude),Vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){let d=Bs(a[c],l[c]);if(d)return d}return Se(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Os.mapValue&&s===Os.mapValue)return 0;if(o===Os.mapValue)return 1;if(s===Os.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let u=0;u<l.length&&u<d.length;++u){let h=Se(l[u],d[u]);if(h!==0)return h;let m=Bs(a[l[u]],c[d[u]]);if(m!==0)return m}return Se(l.length,d.length)}(t.mapValue,e.mapValue);default:throw te()}}function r2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);let i=Bo(t),n=Bo(e),r=Se(i.seconds,n.seconds);return r!==0?r:Se(i.nanos,n.nanos)}function ld(t){return GC(t)}function GC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){let n=Bo(i);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(i){return Vs(i).toBase64()}(t.bytesValue):"referenceValue"in t?function(i){return G.fromName(i).toString()}(t.referenceValue):"geoPointValue"in t?function(i){return`geo(${i.latitude},${i.longitude})`}(t.geoPointValue):"arrayValue"in t?function(i){let n="[",r=!0;for(let o of i.values||[])r?r=!1:n+=",",n+=GC(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of n)o?o=!1:r+=",",r+=`${s}:${GC(i.fields[s])}`;return r+"}"}(t.mapValue):te()}function Qa(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qC(t){return!!t&&"integerValue"in t}function ym(t){return!!t&&"arrayValue"in t}function o2(t){return!!t&&"nullValue"in t}function s2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function a_(t){return!!t&&"mapValue"in t}function dm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return rl(t.mapValue.fields,(i,n)=>e.mapValue.fields[i]=dm(n)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=dm(t.arrayValue.values[i]);return e}return Object.assign({},t)}function mV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function _Z(t){return"nullValue"in t?s_:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qa(js.empty(),G.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:te()}function bZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qa(js.empty(),G.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Os:te()}function a2(t,e){let i=Bs(t.value,e.value);return i!==0?i:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function l2(t,e){let i=Bs(t.value,e.value);return i!==0?i:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Li=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!a_(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=dm(i)}setAll(e){let i=Yt.emptyPath(),n={},r=[];e.forEach((s,a)=>{if(!i.isImmediateParentOf(a)){let l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=a.popLast()}s?n[a.lastSegment()]=dm(s):r.push(a.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(e){let i=this.field(e.popLast());a_(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=i.mapValue.fields[e.get(n)];a_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,n){rl(i,(r,o)=>e[r]=o);for(let r of n)delete e[r]}clone(){return new t(dm(this.value))}};function fV(t){let e=[];return rl(t.fields,(i,n)=>{let r=new Yt([i]);if(a_(n)){let o=fV(n.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new In(e)}var ri=class t{constructor(e,i,n,r,o,s,a){this.key=e,this.documentType=i,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ce.min(),ce.min(),ce.min(),Li.empty(),0)}static newFoundDocument(e,i,n,r){return new t(e,1,i,ce.min(),n,r,0)}static newNoDocument(e,i){return new t(e,2,i,ce.min(),ce.min(),Li.empty(),0)}static newUnknownDocument(e,i){return new t(e,3,i,ce.min(),ce.min(),Li.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var oo=class{constructor(e,i){this.position=e,this.inclusive=i}};function c2(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?n=G.comparator(G.fromName(s.referenceValue),i.key):n=Bs(s,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function d2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!ro(t.position[i],e.position[i]))return!1;return!0}var Ka=class{constructor(e,i="asc"){this.field=e,this.dir=i}};function yZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var __=class{},He=class t extends __{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,n):new KC(e,i,n):i==="array-contains"?new XC(e,n):i==="in"?new b_(e,n):i==="not-in"?new JC(e,n):i==="array-contains-any"?new eD(e,n):new t(e,i,n)}static createKeyFieldInFilter(e,i,n){return i==="in"?new YC(e,n):new ZC(e,n)}matches(e){let i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Bs(i,this.value)):i!==null&&Wa(this.value)===Wa(i)&&this.matchesComparison(Bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},lt=class t extends __{constructor(e,i){super(),this.filters=e,this.op=i,this.ue=null}static create(e,i){return new t(e,i)}matches(e){return cd(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function cd(t){return t.op==="and"}function WC(t){return t.op==="or"}function PS(t){return pV(t)&&cd(t)}function pV(t){for(let e of t.filters)if(e instanceof lt)return!1;return!0}function QC(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+ld(t.value);if(PS(t))return t.filters.map(e=>QC(e)).join(",");{let e=t.filters.map(i=>QC(i)).join(",");return`${t.op}(${e})`}}function gV(t,e){return t instanceof He?function(n,r){return r instanceof He&&n.op===r.op&&n.field.isEqual(r.field)&&ro(n.value,r.value)}(t,e):t instanceof lt?function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,a)=>o&&gV(s,r.filters[a]),!0):!1}(t,e):void te()}function vV(t,e){let i=t.filters.concat(e);return lt.create(i,t.op)}function _V(t){return t instanceof He?function(i){return`${i.field.canonicalString()} ${i.op} ${ld(i.value)}`}(t):t instanceof lt?function(i){return i.op.toString()+" {"+i.getFilters().map(_V).join(" ,")+"}"}(t):"Filter"}var KC=class extends He{constructor(e,i,n){super(e,i,n),this.key=G.fromName(n.referenceValue)}matches(e){let i=G.comparator(e.key,this.key);return this.matchesComparison(i)}},YC=class extends He{constructor(e,i){super(e,"in",i),this.keys=bV("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}},ZC=class extends He{constructor(e,i){super(e,"not-in",i),this.keys=bV("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}};function bV(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>G.fromName(n.referenceValue))}var XC=class extends He{constructor(e,i){super(e,"array-contains",i)}matches(e){let i=e.data.field(this.field);return ym(i)&&bm(i.arrayValue,this.value)}},b_=class extends He{constructor(e,i){super(e,"in",i)}matches(e){let i=e.data.field(this.field);return i!==null&&bm(this.value.arrayValue,i)}},JC=class extends He{constructor(e,i){super(e,"not-in",i)}matches(e){if(bm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=e.data.field(this.field);return i!==null&&!bm(this.value.arrayValue,i)}},eD=class extends He{constructor(e,i){super(e,"array-contains-any",i)}matches(e){let i=e.data.field(this.field);return!(!ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>bm(this.value.arrayValue,n))}};var tD=class{constructor(e,i=null,n=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function iD(t,e=null,i=[],n=[],r=null,o=null,s=null){return new tD(t,e,i,n,r,o,s)}function Ya(t){let e=q(t);if(e.ce===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>QC(n)).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Lm(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(n=>ld(n)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(n=>ld(n)).join(",")),e.ce=i}return e.ce}function Vm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!yZ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!gV(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d2(t.startAt,e.startAt)&&d2(t.endAt,e.endAt)}function y_(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function w_(t,e){return t.filters.filter(i=>i instanceof He&&i.field.isEqual(e))}function u2(t,e,i){let n=s_,r=!0;for(let o of w_(t,e)){let s=s_,a=!0;switch(o.op){case"<":case"<=":s=_Z(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=s_}a2({value:n,inclusive:r},{value:s,inclusive:a})<0&&(n=s,r=a)}if(i!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=i.position[o];a2({value:n,inclusive:r},{value:s,inclusive:i.inclusive})<0&&(n=s,r=i.inclusive);break}}return{value:n,inclusive:r}}function h2(t,e,i){let n=Os,r=!0;for(let o of w_(t,e)){let s=Os,a=!0;switch(o.op){case">=":case">":s=bZ(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Os}l2({value:n,inclusive:r},{value:s,inclusive:a})>0&&(n=s,r=a)}if(i!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=i.position[o];l2({value:n,inclusive:r},{value:s,inclusive:i.inclusive})>0&&(n=s,r=i.inclusive);break}}return{value:n,inclusive:r}}var yr=class{constructor(e,i=null,n=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function yV(t,e,i,n,r,o,s,a){return new yr(t,e,i,n,r,o,s,a)}function Id(t){return new yr(t)}function m2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OS(t){return t.collectionGroup!==null}function rd(t){let e=q(t);if(e.le===null){e.le=[];let i=new Set;for(let o of e.explicitOrderBy)e.le.push(o),i.add(o.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ka(o,n))}),i.has(Yt.keyField().canonicalString())||e.le.push(new Ka(Yt.keyField(),n))}return e.le}function en(t){let e=q(t);return e.he||(e.he=wZ(e,rd(t))),e.he}function wZ(t,e){if(t.limitType==="F")return iD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Ka(r.field,o)});let i=t.endAt?new oo(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new oo(t.startAt.position,t.startAt.inclusive):null;return iD(t.path,t.collectionGroup,e,t.filters,t.limit,i,n)}}function nD(t,e){let i=t.filters.concat([e]);return new yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function x_(t,e,i){return new yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function jm(t,e){return Vm(en(t),en(e))&&t.limitType===e.limitType}function wV(t){return`${Ya(en(t))}|lt:${t.limitType}`}function Xc(t){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>_V(r)).join(", ")}]`),Lm(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>ld(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>ld(r)).join(",")),`Target(${n})`}(en(t))}; limitType=${t.limitType})`}function Bm(t,e){return e.isFoundDocument()&&function(n,r){let o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):G.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(let o of rd(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,r){for(let o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,a,l){let c=c2(s,a,l);return s.inclusive?c<=0:c<0}(n.startAt,rd(n),r)||n.endAt&&!function(s,a,l){let c=c2(s,a,l);return s.inclusive?c>=0:c>0}(n.endAt,rd(n),r))}(t,e)}function xV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EV(t){return(e,i)=>{let n=!1;for(let r of rd(t)){let o=xZ(r,e,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function xZ(t,e,i){let n=t.field.isKeyField()?G.comparator(e.key,i.key):function(o,s,a){let l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Bs(l,c):te()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return te()}}var so=class{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){let i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(let[r,o]of n)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,i){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){let i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(i,n)=>{for(let[r,o]of n)e(r,o)})}isEmpty(){return uV(this.inner)}size(){return this.innerSize}};var EZ=new xt(G.comparator);function cn(){return EZ}var IV=new xt(G.comparator);function lm(...t){let e=IV;for(let i of t)e=e.insert(i.key,i);return e}function CV(t){let e=IV;return t.forEach((i,n)=>e=e.insert(i,n.overlayedDocument)),e}function eo(){return um()}function DV(){return um()}function um(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}var IZ=new xt(G.comparator),CZ=new mt(G.comparator);function ke(...t){let e=CZ;for(let i of t)e=e.add(i);return e}var DZ=new mt(Se);function NS(){return DZ}function SV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gm(e)?"-0":e}}function TV(t){return{integerValue:""+t}}function AV(t,e){return oV(e)?TV(e):SV(t,e)}var dd=class{constructor(){this._=void 0}};function SZ(t,e,i){return t instanceof Us?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ab(o)&&(o=FS(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,e):t instanceof Uo?MV(t,e):t instanceof zo?RV(t,e):function(r,o){let s=kV(r,o),a=f2(s)+f2(r.Ie);return qC(s)&&qC(r.Ie)?TV(a):SV(r.serializer,a)}(t,e)}function TZ(t,e,i){return t instanceof Uo?MV(t,e):t instanceof zo?RV(t,e):i}function kV(t,e){return t instanceof zs?function(n){return qC(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}var Us=class extends dd{},Uo=class extends dd{constructor(e){super(),this.elements=e}};function MV(t,e){let i=FV(e);for(let n of t.elements)i.some(r=>ro(r,n))||i.push(n);return{arrayValue:{values:i}}}var zo=class extends dd{constructor(e){super(),this.elements=e}};function RV(t,e){let i=FV(e);for(let n of t.elements)i=i.filter(r=>!ro(r,n));return{arrayValue:{values:i}}}var zs=class extends dd{constructor(e,i){super(),this.serializer=e,this.Ie=i}};function f2(t){return Vt(t.integerValue||t.doubleValue)}function FV(t){return ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Za=class{constructor(e,i){this.field=e,this.transform=i}};function AZ(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Uo&&r instanceof Uo||n instanceof zo&&r instanceof zo?sd(n.elements,r.elements,ro):n instanceof zs&&r instanceof zs?ro(n.Ie,r.Ie):n instanceof Us&&r instanceof Us}(t.transform,e.transform)}var rD=class{constructor(e,i){this.version=e,this.transformResults=i}},jt=class t{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function l_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ud=class{};function PV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hs(t.key,jt.none()):new $s(t.key,t.data,jt.none());{let i=t.data,n=Li.empty(),r=new mt(Yt.comparator);for(let o of e.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?n.delete(o):n.set(o,s),r=r.add(o)}return new wr(t.key,n,new In(r.toArray()),jt.none())}}function kZ(t,e,i){t instanceof $s?function(r,o,s){let a=r.value.clone(),l=g2(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,i):t instanceof wr?function(r,o,s){if(!l_(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=g2(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(OV(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,i)}function hm(t,e,i,n){return t instanceof $s?function(o,s,a,l){if(!l_(o.precondition,s))return a;let c=o.value.clone(),d=v2(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,i,n):t instanceof wr?function(o,s,a,l){if(!l_(o.precondition,s))return a;let c=v2(o.fieldTransforms,l,s),d=s.data;return d.setAll(OV(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(u=>u.field))}(t,e,i,n):function(o,s,a){return l_(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,i)}function MZ(t,e){let i=null;for(let n of t.fieldTransforms){let r=e.data.field(n.field),o=kV(n.transform,r||null);o!=null&&(i===null&&(i=Li.empty()),i.set(n.field,o))}return i||null}function p2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&sd(n,r,(o,s)=>AZ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $s=class extends ud{constructor(e,i,n,r=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},wr=class extends ud{constructor(e,i,n,r,o=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function OV(t){let e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=t.data.field(i);e.set(i,n)}}),e}function g2(t,e,i){let n=new Map;ae(t.length===i.length);for(let r=0;r<i.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);n.set(o.field,TZ(s,a,i[r]))}return n}function v2(t,e,i){let n=new Map;for(let r of t){let o=r.transform,s=i.data.field(r.field);n.set(r.field,SZ(o,s,e))}return n}var Hs=class extends ud{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wm=class extends ud{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xm=class{constructor(e,i,n,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&kZ(o,e,n[r])}}applyToLocalView(e,i){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(i=hm(n,e,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(i=hm(n,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){let n=DV();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=i.has(r.key)?null:a;let l=PV(s,a);l!==null&&n.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),n}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),ke())}isEqual(e){return this.batchId===e.batchId&&sd(this.mutations,e.mutations,(i,n)=>p2(i,n))&&sd(this.baseMutations,e.baseMutations,(i,n)=>p2(i,n))}},oD=class t{constructor(e,i,n,r){this.batch=e,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(e,i,n){ae(e.mutations.length===n.length);let r=function(){return IZ}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new t(e,i,n,r)}};var Em=class{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sD=class{constructor(e,i){this.count=e,this.unchangedNames=i}};var ei,qe;function NV(t){switch(t){default:return te();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function LV(t){if(t===void 0)return Kt("GRPC error has no .code"),S.UNKNOWN;switch(t){case ei.OK:return S.OK;case ei.CANCELLED:return S.CANCELLED;case ei.UNKNOWN:return S.UNKNOWN;case ei.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case ei.INTERNAL:return S.INTERNAL;case ei.UNAVAILABLE:return S.UNAVAILABLE;case ei.UNAUTHENTICATED:return S.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case ei.NOT_FOUND:return S.NOT_FOUND;case ei.ALREADY_EXISTS:return S.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return S.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case ei.ABORTED:return S.ABORTED;case ei.OUT_OF_RANGE:return S.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return S.UNIMPLEMENTED;case ei.DATA_LOSS:return S.DATA_LOSS;default:return te()}}(qe=ei||(ei={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var _2=null;function VV(){return new TextEncoder}var RZ=new Va([4294967295,4294967295],0);function b2(t){let e=VV().encode(t),i=new XL;return i.update(e),new Uint8Array(i.digest())}function y2(t){let e=new DataView(t.buffer),i=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Va([i,n],0),new Va([r,o],0)]}var aD=class t{constructor(e,i,n){if(this.bitmap=e,this.padding=i,this.hashCount=n,i<0||i>=8)throw new Ga(`Invalid padding: ${i}`);if(n<0)throw new Ga(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${n}`);if(e.length===0&&i!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${i}`);this.Te=8*e.length-i,this.Ee=Va.fromNumber(this.Te)}de(e,i,n){let r=e.add(i.multiply(Va.fromNumber(n)));return r.compare(RZ)===1&&(r=new Va([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let i=b2(e),[n,r]=y2(i);for(let o=0;o<this.hashCount;o++){let s=this.de(n,r,o);if(!this.Ae(s))return!1}return!0}static create(e,i,n){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,i);return n.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let i=b2(e),[n,r]=y2(i);for(let o=0;o<this.hashCount;o++){let s=this.de(n,r,o);this.Re(s)}}Re(e){let i=Math.floor(e/8),n=e%8;this.bitmap[i]|=1<<n}},Ga=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Im=class t{constructor(e,i,n,r,o){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,i,n){let r=new Map;return r.set(e,Cm.createSynthesizedTargetChangeForCurrentChange(e,i,n)),new t(ce.min(),r,new xt(Se),cn(),ke())}},Cm=class t{constructor(e,i,n,r,o){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,i,n){return new t(n,i,ke(),ke(),ke())}};var od=class{constructor(e,i,n,r){this.Ve=e,this.removedTargetIds=i,this.key=n,this.me=r}},E_=class{constructor(e,i){this.targetId=e,this.fe=i}},I_=class{constructor(e,i,n=gi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=r}},C_=class{constructor(){this.ge=0,this.pe=x2(),this.ye=gi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ke(),i=ke(),n=ke();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:te()}}),new Cm(this.ye,this.we,e,i,n)}Fe(){this.Se=!1,this.pe=x2()}Me(e,i){this.Se=!0,this.pe=this.pe.insert(e,i)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ae(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},lD=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=cn(),this.Qe=w2(),this.Ke=new xt(Se)}$e(e){for(let i of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(i,e.me):this.We(i,e.key,e.me);for(let i of e.removedTargetIds)this.We(i,e.key,e.me)}Ge(e){this.forEachTarget(e,i=>{let n=this.ze(i);switch(e.state){case 0:this.je(i)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(i);break;case 3:this.je(i)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(i)&&(this.He(i),n.Ce(e.resumeToken));break;default:te()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ke.forEach((n,r)=>{this.je(r)&&i(r)})}Je(e){let i=e.targetId,n=e.fe.count,r=this.Ye(i);if(r){let o=r.target;if(y_(o))if(n===0){let s=new G(o.path);this.We(i,s,ri.newNoDocument(s,ce.min()))}else ae(n===1);else{let s=this.Ze(i);if(s!==n){let a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(i);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,c)}_2?.tt(function(d,u,h,m,p){var _,y,E,N,M,P;let ie={localCacheCount:d,existenceFilterCount:u.count,databaseId:h.database,projectId:h.projectId},ne=u.unchangedNames;return ne&&(ie.bloomFilter={applied:p===0,hashCount:(_=ne?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(N=(E=(y=ne?.bits)===null||y===void 0?void 0:y.bitmap)===null||E===void 0?void 0:E.length)!==null&&N!==void 0?N:0,padding:(P=(M=ne?.bits)===null||M===void 0?void 0:M.padding)!==null&&P!==void 0?P:0,mightContain:he=>{var Ge;return(Ge=m?.mightContain(he))!==null&&Ge!==void 0&&Ge}}),ie}(s,e.fe,this.Be.nt(),a,l))}}}}Xe(e){let i=e.fe.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=i,s,a;try{s=Vs(n).toUint8Array()}catch(l){if(l instanceof v_)return Gn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new aD(s,r,o)}catch(l){return Gn(l instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,i,n){return i.fe.count===n-this.rt(e,i.targetId)?0:2}rt(e,i){let n=this.Be.getRemoteKeysForTarget(i),r=0;return n.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(i,o,null),r++)}),r}it(e){let i=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&y_(a.target)){let l=new G(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,ri.newNoDocument(l,e))}o.De&&(i.set(s,o.ve()),o.Fe())}});let n=ke();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new Im(e,i,this.Ke,this.qe,n);return this.qe=cn(),this.Qe=w2(),this.Ke=new xt(Se),r}Ue(e,i){if(!this.je(e))return;let n=this.st(e,i.key)?2:0;this.ze(e).Me(i.key,n),this.qe=this.qe.insert(i.key,i),this.Qe=this.Qe.insert(i.key,this.ot(i.key).add(e))}We(e,i,n){if(!this.je(e))return;let r=this.ze(e);this.st(e,i)?r.Me(i,1):r.xe(i),this.Qe=this.Qe.insert(i,this.ot(i).delete(e)),n&&(this.qe=this.qe.insert(i,n))}removeTarget(e){this.ke.delete(e)}Ze(e){let i=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let i=this.ke.get(e);return i||(i=new C_,this.ke.set(e,i)),i}ot(e){let i=this.Qe.get(e);return i||(i=new mt(Se),this.Qe=this.Qe.insert(e,i)),i}je(e){let i=this.Ye(e)!==null;return i||O("WatchChangeAggregator","Detected inactive target",e),i}Ye(e){let i=this.ke.get(e);return i&&i.be?null:this.Be._t(e)}He(e){this.ke.set(e,new C_),this.Be.getRemoteKeysForTarget(e).forEach(i=>{this.We(e,i,null)})}st(e,i){return this.Be.getRemoteKeysForTarget(e).has(i)}};function w2(){return new xt(G.comparator)}function x2(){return new xt(G.comparator)}var FZ={asc:"ASCENDING",desc:"DESCENDING"},PZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OZ={and:"AND",or:"OR"},cD=class{constructor(e,i){this.databaseId=e,this.useProto3Json=i}};function dD(t,e){return t.useProto3Json||Lm(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NZ(t,e){return hd(t,e.toTimestamp())}function Zt(t){return ae(!!t),ce.fromTimestamp(function(i){let n=Bo(i);return new kt(n.seconds,n.nanos)}(t))}function LS(t,e){return uD(t,e).canonicalString()}function uD(t,e){let i=function(r){return new We(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?i:i.child(e)}function BV(t){let e=We.fromString(t);return ae(YV(e)),e}function Dm(t,e){return LS(t.databaseId,e.path)}function io(t,e){let i=BV(e);if(i.get(1)!==t.databaseId.projectId)throw new F(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new F(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new G($V(i))}function UV(t,e){return LS(t.databaseId,e)}function zV(t){let e=BV(t);return e.length===4?We.emptyPath():$V(e)}function hD(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $V(t){return ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function E2(t,e,i){return{name:Dm(t,e),fields:i.value.mapValue.fields}}function HV(t,e,i){let n=io(t,e.name),r=Zt(e.updateTime),o=e.createTime?Zt(e.createTime):ce.min(),s=new Li({mapValue:{fields:e.fields}}),a=ri.newFoundDocument(n,r,o,s);return i&&a.setHasCommittedMutations(),i?a.setHasCommittedMutations():a}function LZ(t,e){return"found"in e?function(n,r){ae(!!r.found),r.found.name,r.found.updateTime;let o=io(n,r.found.name),s=Zt(r.found.updateTime),a=r.found.createTime?Zt(r.found.createTime):ce.min(),l=new Li({mapValue:{fields:r.found.fields}});return ri.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(n,r){ae(!!r.missing),ae(!!r.readTime);let o=io(n,r.missing),s=Zt(r.readTime);return ri.newNoDocument(o,s)}(t,e):te()}function VZ(t,e){let i;if("targetChange"in e){e.targetChange;let n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(ae(d===void 0||typeof d=="string"),gi.fromBase64String(d||"")):(ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array),gi.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){let d=c.code===void 0?S.UNKNOWN:LV(c.code);return new F(d,c.message||"")}(s);i=new I_(n,r,o,a||null)}else if("documentChange"in e){e.documentChange;let n=e.documentChange;n.document,n.document.name,n.document.updateTime;let r=io(t,n.document.name),o=Zt(n.document.updateTime),s=n.document.createTime?Zt(n.document.createTime):ce.min(),a=new Li({mapValue:{fields:n.document.fields}}),l=ri.newFoundDocument(r,o,s,a),c=n.targetIds||[],d=n.removedTargetIds||[];i=new od(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let n=e.documentDelete;n.document;let r=io(t,n.document),o=n.readTime?Zt(n.readTime):ce.min(),s=ri.newNoDocument(r,o),a=n.removedTargetIds||[];i=new od([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let n=e.documentRemove;n.document;let r=io(t,n.document),o=n.removedTargetIds||[];i=new od([],o,r,null)}else{if(!("filter"in e))return te();{e.filter;let n=e.filter;n.targetId;let{count:r=0,unchangedNames:o}=n,s=new sD(r,o),a=n.targetId;i=new E_(a,s)}}return i}function Sm(t,e){let i;if(e instanceof $s)i={update:E2(t,e.key,e.value)};else if(e instanceof Hs)i={delete:Dm(t,e.key)};else if(e instanceof wr)i={update:E2(t,e.key,e.data),updateMask:HZ(e.fieldMask)};else{if(!(e instanceof wm))return te();i={verify:Dm(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(n=>function(o,s){let a=s.transform;if(a instanceof Us)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zs)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw te()}(0,n))),e.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:NZ(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(t,e.precondition)),i}function mD(t,e){let i=e.currentDocument?function(o){return o.updateTime!==void 0?jt.updateTime(Zt(o.updateTime)):o.exists!==void 0?jt.exists(o.exists):jt.none()}(e.currentDocument):jt.none(),n=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;if("setToServerValue"in a)ae(a.setToServerValue==="REQUEST_TIME"),l=new Us;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new Uo(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new zo(d)}else"increment"in a?l=new zs(s,a.increment):te();let c=Yt.fromServerFormat(a.fieldPath);return new Za(c,l)}(t,r)):[];if(e.update){e.update.name;let r=io(t,e.update.name),o=new Li({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(l){let c=l.fieldPaths||[];return new In(c.map(d=>Yt.fromServerFormat(d)))}(e.updateMask);return new wr(r,o,s,i,n)}return new $s(r,o,i,n)}if(e.delete){let r=io(t,e.delete);return new Hs(r,i)}if(e.verify){let r=io(t,e.verify);return new wm(r,i)}return te()}function jZ(t,e){return t&&t.length>0?(ae(e!==void 0),t.map(i=>function(r,o){let s=r.updateTime?Zt(r.updateTime):Zt(o);return s.isEqual(ce.min())&&(s=Zt(o)),new rD(s,r.transformResults||[])}(i,e))):[]}function GV(t,e){return{documents:[UV(t,e.path)]}}function qV(t,e){let i={structuredQuery:{}},n=e.path,r;e.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=UV(t,r);let o=function(c){if(c.length!==0)return KV(lt.create(c,"and"))}(e.filters);o&&(i.structuredQuery.where=o);let s=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Jc(h.field),direction:UZ(h.dir)}}(d))}(e.orderBy);s&&(i.structuredQuery.orderBy=s);let a=dD(t,e.limit);return a!==null&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:i,parent:r}}function WV(t){let e=zV(t.parent),i=t.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){ae(n===1);let d=i.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];i.where&&(o=function(u){let h=QV(u);return h instanceof lt&&PS(h)?h.getFilters():[h]}(i.where));let s=[];i.orderBy&&(s=function(u){return u.map(h=>function(p){return new Ka(ed(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(i.orderBy));let a=null;i.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Lm(h)?null:h}(i.limit));let l=null;i.startAt&&(l=function(u){let h=!!u.before,m=u.values||[];return new oo(m,h)}(i.startAt));let c=null;return i.endAt&&(c=function(u){let h=!u.before,m=u.values||[];return new oo(m,h)}(i.endAt)),yV(e,r,s,o,a,"F",l,c)}function BZ(t,e){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function QV(t){return t.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=ed(i.unaryFilter.field);return He.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=ed(i.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ed(i.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ed(i.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(i){return He.create(ed(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(i.fieldFilter.op),i.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(i){return lt.create(i.compositeFilter.filters.map(n=>QV(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return te()}}(i.compositeFilter.op))}(t):te()}function UZ(t){return FZ[t]}function zZ(t){return PZ[t]}function $Z(t){return OZ[t]}function Jc(t){return{fieldPath:t.canonicalString()}}function ed(t){return Yt.fromServerFormat(t.fieldPath)}function KV(t){return t instanceof He?function(i){if(i.op==="=="){if(s2(i.value))return{unaryFilter:{field:Jc(i.field),op:"IS_NAN"}};if(o2(i.value))return{unaryFilter:{field:Jc(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(s2(i.value))return{unaryFilter:{field:Jc(i.field),op:"IS_NOT_NAN"}};if(o2(i.value))return{unaryFilter:{field:Jc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jc(i.field),op:zZ(i.op),value:i.value}}}(t):t instanceof lt?function(i){let n=i.getFilters().map(r=>KV(r));return n.length===1?n[0]:{compositeFilter:{op:$Z(i.op),filters:n}}}(t):te()}function HZ(t){let e=[];return t.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function YV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var md=class t{constructor(e,i,n,r,o=ce.min(),s=ce.min(),a=gi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var D_=class{constructor(e){this.ct=e}};function GZ(t,e){let i;if(e.document)i=HV(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let n=G.fromSegments(e.noDocument.path),r=Ja(e.noDocument.readTime);i=ri.newNoDocument(n,r),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return te();{let n=G.fromSegments(e.unknownDocument.path),r=Ja(e.unknownDocument.version);i=ri.newUnknownDocument(n,r)}}return e.readTime&&i.setReadTime(function(r){let o=new kt(r[0],r[1]);return ce.fromTimestamp(o)}(e.readTime)),i}function I2(t,e){let i=e.key,n={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:S_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(o,s){return{name:Dm(o,s.key),fields:s.data.value.mapValue.fields,updateTime:hd(o,s.version.toTimestamp()),createTime:hd(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:i.path.toArray(),readTime:Xa(e.version)};else{if(!e.isUnknownDocument())return te();n.unknownDocument={path:i.path.toArray(),version:Xa(e.version)}}return n}function S_(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Xa(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ja(t){let e=new kt(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function za(t,e){let i=(e.baseMutations||[]).map(o=>mD(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let n=e.mutations.map(o=>mD(t.ct,o)),r=kt.fromMillis(e.localWriteTimeMs);return new xm(e.batchId,r,i,n)}function cm(t){let e=Ja(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Ja(t.lastLimboFreeSnapshotVersion):ce.min(),n;return n=function(o){return o.documents!==void 0}(t.query)?function(o){return ae(o.documents.length===1),en(Id(zV(o.documents[0])))}(t.query):function(o){return en(WV(o))}(t.query),new md(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,i,gi.fromBase64String(t.resumeToken))}function ZV(t,e){let i=Xa(e.snapshotVersion),n=Xa(e.lastLimboFreeSnapshotVersion),r;r=y_(e.target)?GV(t.ct,e.target):qV(t.ct,e.target).ut;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ya(e.target),readTime:i,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function VS(t){let e=WV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x_(e,e.limit,"L"):e}function TC(t,e){return new Em(e.largestBatchId,mD(t.ct,e.overlayMutation))}function C2(t,e){let i=e.path.lastSegment();return[t,Ji(e.path.popLast()),i]}function D2(t,e,i,n){return{indexId:t,uid:e,sequenceNumber:i,readTime:Xa(n.readTime),documentKey:Ji(n.documentKey.path),largestBatchId:n.largestBatchId}}var fD=class{getBundleMetadata(e,i){return S2(e).get(i).next(n=>{if(n)return function(o){return{id:o.bundleId,createTime:Ja(o.createTime),version:o.version}}(n)})}saveBundleMetadata(e,i){return S2(e).put(function(r){return{bundleId:r.id,createTime:Xa(Zt(r.createTime)),version:r.version}}(i))}getNamedQuery(e,i){return T2(e).get(i).next(n=>{if(n)return function(o){return{name:o.name,query:VS(o.bundledQuery),readTime:Ja(o.readTime)}}(n)})}saveNamedQuery(e,i){return T2(e).put(function(r){return{name:r.name,readTime:Xa(Zt(r.readTime)),bundledQuery:r.bundledQuery}}(i))}};function S2(t){return vi(t,"bundles")}function T2(t){return vi(t,"namedQueries")}var T_=class t{constructor(e,i){this.serializer=e,this.userId=i}static lt(e,i){let n=i.uid||"";return new t(e,n)}getOverlay(e,i){return rm(e).get(C2(this.userId,i)).next(n=>n?TC(this.serializer,n):null)}getOverlays(e,i){let n=eo();return C.forEach(i,r=>this.getOverlay(e,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(e,i,n){let r=[];return n.forEach((o,s)=>{let a=new Em(i,s);r.push(this.ht(e,a))}),C.waitFor(r)}removeOverlaysForBatchId(e,i,n){let r=new Set;i.forEach(s=>r.add(Ji(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);o.push(rm(e).H("collectionPathOverlayIndex",a))}),C.waitFor(o)}getOverlaysForCollection(e,i,n){let r=eo(),o=Ji(i),s=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return rm(e).W("collectionPathOverlayIndex",s).next(a=>{for(let l of a){let c=TC(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,i,n,r){let o=eo(),s,a=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return rm(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{let u=TC(this.serializer,c);o.size()<r||u.largestBatchId===s?(o.set(u.getKey(),u),s=u.largestBatchId):d.done()}).next(()=>o)}ht(e,i){return rm(e).put(function(r,o,s){let[a,l,c]=C2(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Sm(r.ct,s.mutation)}}(this.serializer,this.userId,i))}};function rm(t){return vi(t,"documentOverlays")}var Lo=class{constructor(){}Pt(e,i){this.It(e,i),i.Tt()}It(e,i){if("nullValue"in e)this.Et(i,5);else if("booleanValue"in e)this.Et(i,10),i.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(i,15),i.dt(Vt(e.integerValue));else if("doubleValue"in e){let n=Vt(e.doubleValue);isNaN(n)?this.Et(i,13):(this.Et(i,15),gm(n)?i.dt(0):i.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(i,20),typeof n=="string"&&(n=Bo(n)),i.At(`${n.seconds||""}`),i.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,i),this.Vt(i);else if("bytesValue"in e)this.Et(i,30),i.ft(Vs(e.bytesValue)),this.Vt(i);else if("referenceValue"in e)this.gt(e.referenceValue,i);else if("geoPointValue"in e){let n=e.geoPointValue;this.Et(i,45),i.dt(n.latitude||0),i.dt(n.longitude||0)}else"mapValue"in e?mV(e)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,i),this.Vt(i)):"arrayValue"in e?(this.wt(e.arrayValue,i),this.Vt(i)):te()}Rt(e,i){this.Et(i,25),this.St(e,i)}St(e,i){i.At(e)}yt(e,i){let n=e.fields||{};this.Et(i,55);for(let r of Object.keys(n))this.Rt(r,i),this.It(n[r],i)}wt(e,i){let n=e.values||[];this.Et(i,50);for(let r of n)this.It(r,i)}gt(e,i){this.Et(i,37),G.fromName(e).path.forEach(n=>{this.Et(i,60),this.St(n,i)})}Et(e,i){e.dt(i)}Vt(e){e.dt(2)}};Lo.bt=new Lo;function qZ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function A2(t){let e=64-function(n){let r=0;for(let o=0;o<8;++o){let s=qZ(255&n[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var pD=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let i=e[Symbol.iterator](),n=i.next();for(;!n.done;)this.Ct(n.value),n=i.next();this.vt()}Ft(e){let i=e[Symbol.iterator](),n=i.next();for(;!n.done;)this.Mt(n.value),n=i.next();this.xt()}Ot(e){for(let i of e){let n=i.charCodeAt(0);if(n<128)this.Ct(n);else if(n<2048)this.Ct(960|n>>>6),this.Ct(128|63&n);else if(i<"\uD800"||"\uDBFF"<i)this.Ct(480|n>>>12),this.Ct(128|63&n>>>6),this.Ct(128|63&n);else{let r=i.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let i of e){let n=i.charCodeAt(0);if(n<128)this.Mt(n);else if(n<2048)this.Mt(960|n>>>6),this.Mt(128|63&n);else if(i<"\uD800"||"\uDBFF"<i)this.Mt(480|n>>>12),this.Mt(128|63&n>>>6),this.Mt(128|63&n);else{let r=i.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let i=this.Bt(e),n=A2(i);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=i.length-n;r<i.length;++r)this.buffer[this.position++]=255&i[r]}qt(e){let i=this.Bt(e),n=A2(i);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=i.length-n;r<i.length;++r)this.buffer[this.position++]=~(255&i[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let i=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),n=(128&i[0])!=0;i[0]^=n?255:128;for(let r=1;r<i.length;++r)i[r]^=n?255:0;return i}Ct(e){let i=255&e;i===0?(this.Kt(0),this.Kt(255)):i===255?(this.Kt(255),this.Kt(0)):this.Kt(i)}Mt(e){let i=255&e;i===0?(this.Ut(0),this.Ut(255)):i===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let i=e+this.position;if(i<=this.buffer.length)return;let n=2*this.buffer.length;n<i&&(n=i);let r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}},gD=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},vD=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},$a=class{constructor(){this.Gt=new pD,this.zt=new gD(this.Gt),this.jt=new vD(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Ha=class t{constructor(e,i,n,r){this.indexId=e,this.documentKey=i,this.arrayValue=n,this.directionalValue=r}Jt(){let e=this.directionalValue.length,i=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(i);return n.set(this.directionalValue,0),i!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new t(this.indexId,this.documentKey,this.arrayValue,n)}};function Ms(t,e){let i=t.indexId-e.indexId;return i!==0?i:(i=k2(t.arrayValue,e.arrayValue),i!==0?i:(i=k2(t.directionalValue,e.directionalValue),i!==0?i:G.comparator(t.documentKey,e.documentKey)))}function k2(t,e){for(let i=0;i<t.length&&i<e.length;++i){let n=t[i]-e[i];if(n!==0)return n}return t.length-e.length}var A_=class{constructor(e){this.Yt=new mt((i,n)=>Yt.comparator(i.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let i of e.filters){let n=i;n.isInequality()?this.Yt=this.Yt.add(n):this.Xt.push(n)}}get en(){return this.Yt.size>1}tn(e){if(ae(e.collectionGroup===this.collectionId),this.en)return!1;let i=jC(e);if(i!==void 0&&!this.nn(i))return!1;let n=Ba(e),r=new Set,o=0,s=0;for(;o<n.length&&this.nn(n[o]);++o)r=r.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=n[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<n.length;++o){let a=n[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new mt(Yt.comparator),i=[];for(let n of this.Xt)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")i.push(new nd(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),i.push(new nd(n.field,0))}for(let n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),i.push(new nd(n.field,n.dir==="asc"?0:1)));return new ad(ad.UNKNOWN_ID,this.collectionId,i,pm.empty())}nn(e){for(let i of this.Xt)if(this.rn(i,e))return!0;return!1}rn(e,i){if(e===void 0||!e.field.isEqual(i.fieldPath))return!1;let n=e.op==="array-contains"||e.op==="array-contains-any";return i.kind===2===n}sn(e,i){return!!e.field.isEqual(i.fieldPath)&&(i.kind===0&&e.dir==="asc"||i.kind===1&&e.dir==="desc")}};function XV(t){var e,i;if(ae(t instanceof He||t instanceof lt),t instanceof He){if(t instanceof b_){let r=((i=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||i===void 0?void 0:i.map(o=>He.create(t.field,"==",o)))||[];return lt.create(r,"or")}return t}let n=t.filters.map(r=>XV(r));return lt.create(n,t.op)}function WZ(t){if(t.getFilters().length===0)return[];let e=yD(XV(t));return ae(JV(e)),_D(e)||bD(e)?[e]:e.getFilters()}function _D(t){return t instanceof He}function bD(t){return t instanceof lt&&PS(t)}function JV(t){return _D(t)||bD(t)||function(i){if(i instanceof lt&&WC(i)){for(let n of i.getFilters())if(!_D(n)&&!bD(n))return!1;return!0}return!1}(t)}function yD(t){if(ae(t instanceof He||t instanceof lt),t instanceof He)return t;if(t.filters.length===1)return yD(t.filters[0]);let e=t.filters.map(n=>yD(n)),i=lt.create(e,t.op);return i=k_(i),JV(i)?i:(ae(i instanceof lt),ae(cd(i)),ae(i.filters.length>1),i.filters.reduce((n,r)=>jS(n,r)))}function jS(t,e){let i;return ae(t instanceof He||t instanceof lt),ae(e instanceof He||e instanceof lt),i=t instanceof He?e instanceof He?function(r,o){return lt.create([r,o],"and")}(t,e):M2(t,e):e instanceof He?M2(e,t):function(r,o){if(ae(r.filters.length>0&&o.filters.length>0),cd(r)&&cd(o))return vV(r,o.getFilters());let s=WC(r)?r:o,a=WC(r)?o:r,l=s.filters.map(c=>jS(c,a));return lt.create(l,"or")}(t,e),k_(i)}function M2(t,e){if(cd(e))return vV(e,t.getFilters());{let i=e.filters.map(n=>jS(t,n));return lt.create(i,"or")}}function k_(t){if(ae(t instanceof He||t instanceof lt),t instanceof He)return t;let e=t.getFilters();if(e.length===1)return k_(e[0]);if(pV(t))return t;let i=e.map(r=>k_(r)),n=[];return i.forEach(r=>{r instanceof He?n.push(r):r instanceof lt&&(r.op===t.op?n.push(...r.filters):n.push(r))}),n.length===1?n[0]:lt.create(n,t.op)}var wD=class{constructor(){this._n=new Tm}addToCollectionParentIndex(e,i){return this._n.add(i),C.resolve()}getCollectionParents(e,i){return C.resolve(this._n.getEntries(i))}addFieldIndex(e,i){return C.resolve()}deleteFieldIndex(e,i){return C.resolve()}deleteAllFieldIndexes(e){return C.resolve()}createTargetIndexes(e,i){return C.resolve()}getDocumentsMatchingTarget(e,i){return C.resolve(null)}getIndexType(e,i){return C.resolve(0)}getFieldIndexes(e,i){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,i){return C.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,i){return C.resolve(qn.min())}updateCollectionGroup(e,i,n){return C.resolve()}updateIndexEntries(e,i){return C.resolve()}},Tm=class{constructor(){this.index={}}add(e){let i=e.lastSegment(),n=e.popLast(),r=this.index[i]||new mt(We.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(e){let i=e.lastSegment(),n=e.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(e){return(this.index[e]||new mt(We.comparator)).toArray()}};var t_=new Uint8Array(0),xD=class{constructor(e,i){this.databaseId=i,this.an=new Tm,this.un=new so(n=>Ya(n),(n,r)=>Vm(n,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.an.has(i)){let n=i.lastSegment(),r=i.popLast();e.addOnCommittedListener(()=>{this.an.add(i)});let o={collectionId:n,parent:Ji(r)};return R2(e).put(o)}return C.resolve()}getCollectionParents(e,i){let n=[],r=IDBKeyRange.bound([i,""],[tV(i),""],!1,!0);return R2(e).W(r).next(o=>{for(let s of o){if(s.collectionId!==i)break;n.push(Jr(s.parent))}return n})}addFieldIndex(e,i){let n=om(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(i);delete r.indexId;let o=n.add(r);if(i.indexState){let s=Kc(e);return o.next(a=>{s.put(D2(a,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return o.next()}deleteFieldIndex(e,i){let n=om(e),r=Kc(e),o=Qc(e);return n.delete(i.indexId).next(()=>r.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let i=om(e),n=Qc(e),r=Kc(e);return i.H().next(()=>n.H()).next(()=>r.H())}createTargetIndexes(e,i){return C.forEach(this.cn(i),n=>this.getIndexType(e,n).next(r=>{if(r===0||r===1){let o=new A_(n).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,i){let n=Qc(e),r=!0,o=new Map;return C.forEach(this.cn(i),s=>this.ln(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ke(),a=[];return C.forEach(o,(l,c)=>{O("IndexedDbIndexManager",`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${Ya(i)}`);let d=function(M,P){let ie=jC(P);if(ie===void 0)return null;for(let ne of w_(M,ie.fieldPath))switch(ne.op){case"array-contains-any":return ne.value.arrayValue.values||[];case"array-contains":return[ne.value]}return null}(c,l),u=function(M,P){let ie=new Map;for(let ne of Ba(P))for(let he of w_(M,ne.fieldPath))switch(he.op){case"==":case"in":ie.set(ne.fieldPath.canonicalString(),he.value);break;case"not-in":case"!=":return ie.set(ne.fieldPath.canonicalString(),he.value),Array.from(ie.values())}return null}(c,l),h=function(M,P){let ie=[],ne=!0;for(let he of Ba(P)){let Ge=he.kind===0?u2(M,he.fieldPath,M.startAt):h2(M,he.fieldPath,M.startAt);ie.push(Ge.value),ne&&(ne=Ge.inclusive)}return new oo(ie,ne)}(c,l),m=function(M,P){let ie=[],ne=!0;for(let he of Ba(P)){let Ge=he.kind===0?h2(M,he.fieldPath,M.endAt):u2(M,he.fieldPath,M.endAt);ie.push(Ge.value),ne&&(ne=Ge.inclusive)}return new oo(ie,ne)}(c,l),p=this.hn(l,c,h),_=this.hn(l,c,m),y=this.Pn(l,c,u),E=this.In(l.indexId,d,p,h.inclusive,_,m.inclusive,y);return C.forEach(E,N=>n.j(N,i.limit).next(M=>{M.forEach(P=>{let ie=G.fromSegments(P.documentKey);s.has(ie)||(s=s.add(ie),a.push(ie))})}))}).next(()=>a)}return C.resolve(null)})}cn(e){let i=this.un.get(e);return i||(e.filters.length===0?i=[e]:i=WZ(lt.create(e.filters,"and")).map(n=>iD(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,i),i)}In(e,i,n,r,o,s,a){let l=(i!=null?i.length:1)*Math.max(n.length,o.length),c=l/(i!=null?i.length:1),d=[];for(let u=0;u<l;++u){let h=i?this.Tn(i[u/c]):t_,m=this.En(e,h,n[u%c],r),p=this.dn(e,h,o[u%c],s),_=a.map(y=>this.En(e,h,y,!0));d.push(...this.createRange(m,p,_))}return d}En(e,i,n,r){let o=new Ha(e,G.empty(),i,n);return r?o:o.Jt()}dn(e,i,n,r){let o=new Ha(e,G.empty(),i,n);return r?o.Jt():o}ln(e,i){let n=new A_(i),r=i.collectionGroup!=null?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)n.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,i){let n=2,r=this.cn(i);return C.forEach(r,o=>this.ln(e,o).next(s=>{s?n!==0&&s.fields.length<function(l){let c=new mt(Yt.comparator),d=!1;for(let u of l.filters)for(let h of u.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?d=!0:c=c.add(h.field));for(let u of l.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(d?1:0)}(o)&&(n=1):n=0})).next(()=>function(s){return s.limit!==null}(i)&&r.length>1&&n===2?1:n)}An(e,i){let n=new $a;for(let r of Ba(e)){let o=i.data.field(r.fieldPath);if(o==null)return null;let s=n.Ht(r.kind);Lo.bt.Pt(o,s)}return n.Wt()}Tn(e){let i=new $a;return Lo.bt.Pt(e,i.Ht(0)),i.Wt()}Rn(e,i){let n=new $a;return Lo.bt.Pt(Qa(this.databaseId,i),n.Ht(function(o){let s=Ba(o);return s.length===0?0:s[s.length-1].kind}(e))),n.Wt()}Pn(e,i,n){if(n===null)return[];let r=[];r.push(new $a);let o=0;for(let s of Ba(e)){let a=n[o++];for(let l of r)if(this.Vn(i,s.fieldPath)&&ym(a))r=this.mn(r,s,a);else{let c=l.Ht(s.kind);Lo.bt.Pt(a,c)}}return this.fn(r)}hn(e,i,n){return this.Pn(e,i,n.position)}fn(e){let i=[];for(let n=0;n<e.length;++n)i[n]=e[n].Wt();return i}mn(e,i,n){let r=[...e],o=[];for(let s of n.arrayValue.values||[])for(let a of r){let l=new $a;l.seed(a.Wt()),Lo.bt.Pt(s,l.Ht(i.kind)),o.push(l)}return o}Vn(e,i){return!!e.filters.find(n=>n instanceof He&&n.field.isEqual(i)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,i){let n=om(e),r=Kc(e);return(i?n.W("collectionGroupIndex",IDBKeyRange.bound(i,i)):n.W()).next(o=>{let s=[];return C.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(d,u){let h=u?new pm(u.sequenceNumber,new qn(Ja(u.readTime),new G(Jr(u.documentKey)),u.largestBatchId)):pm.empty(),m=d.fields.map(([p,_])=>new nd(Yt.fromServerFormat(p),_));return new ad(d.indexId,d.collectionGroup,m,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>i.length===0?null:(i.sort((n,r)=>{let o=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:Se(n.collectionGroup,r.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,n){let r=om(e),o=Kc(e);return this.gn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(a=>C.forEach(a,l=>o.put(D2(l.indexId,this.uid,s,n)))))}updateIndexEntries(e,i){let n=new Map;return C.forEach(i,(r,o)=>{let s=n.get(r.collectionGroup);return(s?C.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(n.set(r.collectionGroup,a),C.forEach(a,l=>this.pn(e,r,l).next(c=>{let d=this.yn(o,l);return c.isEqual(d)?C.resolve():this.wn(e,o,l,c,d)}))))})}Sn(e,i,n,r){return Qc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,i.key),documentKey:i.key.path.toArray()})}bn(e,i,n,r){return Qc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,i.key),i.key.path.toArray()])}pn(e,i,n){let r=Qc(e),o=new mt(Ms);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,i)])},(s,a)=>{o=o.add(new Ha(n.indexId,i,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,i){let n=new mt(Ms),r=this.An(i,e);if(r==null)return n;let o=jC(i);if(o!=null){let s=e.data.field(o.fieldPath);if(ym(s))for(let a of s.arrayValue.values||[])n=n.add(new Ha(i.indexId,e.key,this.Tn(a),r))}else n=n.add(new Ha(i.indexId,e.key,t_,r));return n}wn(e,i,n,r,o){O("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);let s=[];return function(l,c,d,u,h){let m=l.getIterator(),p=c.getIterator(),_=Wc(m),y=Wc(p);for(;_||y;){let E=!1,N=!1;if(_&&y){let M=d(_,y);M<0?N=!0:M>0&&(E=!0)}else _!=null?N=!0:E=!0;E?(u(y),y=Wc(p)):N?(h(_),_=Wc(m)):(_=Wc(m),y=Wc(p))}}(r,o,Ms,a=>{s.push(this.Sn(e,i,n,a))},a=>{s.push(this.bn(e,i,n,a))}),C.waitFor(s)}gn(e){let i=1;return Kc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,o)=>{o.done(),i=r.sequenceNumber+1}).next(()=>i)}createRange(e,i,n){n=n.sort((s,a)=>Ms(s,a)).filter((s,a,l)=>!a||Ms(s,l[a-1])!==0);let r=[];r.push(e);for(let s of n){let a=Ms(s,e),l=Ms(s,i);if(a===0)r[0]=e.Jt();else if(a>0&&l<0)r.push(s),r.push(s.Jt());else if(l>0)break}r.push(i);let o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,t_,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,t_,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,i){return Ms(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(F2)}getMinOffset(e,i){return C.mapArray(this.cn(i),n=>this.ln(e,n).next(r=>r||te())).next(F2)}};function R2(t){return vi(t,"collectionParents")}function Qc(t){return vi(t,"indexEntries")}function om(t){return vi(t,"indexConfiguration")}function Kc(t){return vi(t,"indexState")}function F2(t){ae(t.length!==0);let e=t[0].indexState.offset,i=e.largestBatchId;for(let n=1;n<t.length;n++){let r=t[n].indexState.offset;MS(r,e)<0&&(e=r),i<r.largestBatchId&&(i=r.largestBatchId)}return new qn(e.readTime,e.documentKey,i)}var P2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hn=class t{constructor(e,i,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function ej(t,e,i){let n=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(i.batchId),a=0,l=n.Y({range:s},(d,u,h)=>(a++,h.delete()));o.push(l.next(()=>{ae(a===1)}));let c=[];for(let d of i.mutations){let u=sV(e,d.key.path,i.batchId);o.push(r.delete(u)),c.push(d.key)}return C.waitFor(o).next(()=>c)}function M_(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw te();e=t.noDocument}return JSON.stringify(e).length}Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(41943040,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);var R_=class t{constructor(e,i,n,r){this.userId=e,this.serializer=i,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,i,n,r){ae(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,i,n,r)}checkEmpty(e){let i=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).Y({index:"userMutationsIndex",range:n},(r,o,s)=>{i=!1,s.done()}).next(()=>i)}addMutationBatch(e,i,n,r){let o=td(e),s=Rs(e);return s.add({}).next(a=>{ae(typeof a=="number");let l=new xm(a,i,n,r),c=function(m,p,_){let y=_.baseMutations.map(N=>Sm(m.ct,N)),E=_.mutations.map(N=>Sm(m.ct,N));return{userId:p,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:y,mutations:E}}(this.serializer,this.userId,l),d=[],u=new mt((h,m)=>Se(h.canonicalString(),m.canonicalString()));for(let h of r){let m=sV(this.userId,h.key.path,a);u=u.add(h.key.path.popLast()),d.push(s.put(c)),d.push(o.put(m,eZ))}return u.forEach(h=>{d.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),C.waitFor(d).next(()=>l)})}lookupMutationBatch(e,i){return Rs(e).get(i).next(n=>n?(ae(n.userId===this.userId),za(this.serializer,n)):null)}vn(e,i){return this.Cn[i]?C.resolve(this.Cn[i]):this.lookupMutationBatch(e,i).next(n=>{if(n){let r=n.keys();return this.Cn[i]=r,r}return null})}getNextMutationBatchAfterBatchId(e,i){let n=i+1,r=IDBKeyRange.lowerBound([this.userId,n]),o=null;return Rs(e).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ae(a.batchId>=n),o=za(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rs(e).Y({index:"userMutationsIndex",range:i,reverse:!0},(r,o,s)=>{n=o.batchId,s.done()}).next(()=>n)}getAllMutationBatches(e){let i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).W("userMutationsIndex",i).next(n=>n.map(r=>za(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,i){let n=o_(this.userId,i.path),r=IDBKeyRange.lowerBound(n),o=[];return td(e).Y({range:r},(s,a,l)=>{let[c,d,u]=s,h=Jr(d);if(c===this.userId&&i.path.isEqual(h))return Rs(e).get(u).next(m=>{if(!m)throw te();ae(m.userId===this.userId),o.push(za(this.serializer,m))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new mt(Se),r=[];return i.forEach(o=>{let s=o_(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=td(e).Y({range:a},(c,d,u)=>{let[h,m,p]=c,_=Jr(m);h===this.userId&&o.path.isEqual(_)?n=n.add(p):u.done()});r.push(l)}),C.waitFor(r).next(()=>this.Fn(e,n))}getAllMutationBatchesAffectingQuery(e,i){let n=i.path,r=n.length+1,o=o_(this.userId,n),s=IDBKeyRange.lowerBound(o),a=new mt(Se);return td(e).Y({range:s},(l,c,d)=>{let[u,h,m]=l,p=Jr(h);u===this.userId&&n.isPrefixOf(p)?p.length===r&&(a=a.add(m)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,i){let n=[],r=[];return i.forEach(o=>{r.push(Rs(e).get(o).next(s=>{if(s===null)throw te();ae(s.userId===this.userId),n.push(za(this.serializer,s))}))}),C.waitFor(r).next(()=>n)}removeMutationBatch(e,i){return ej(e.ae,this.userId,i).next(n=>(e.addOnCommittedListener(()=>{this.Mn(i.batchId)}),C.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return C.resolve();let n=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return td(e).Y({range:n},(o,s,a)=>{if(o[0]===this.userId){let l=Jr(o[1]);r.push(l)}else a.done()}).next(()=>{ae(r.length===0)})})}containsKey(e,i){return tj(e,this.userId,i)}xn(e){return ij(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function tj(t,e,i){let n=o_(e,i.path),r=n[1],o=IDBKeyRange.lowerBound(n),s=!1;return td(t).Y({range:o,J:!0},(a,l,c)=>{let[d,u,h]=a;d===e&&u===r&&(s=!0),c.done()}).next(()=>s)}function Rs(t){return vi(t,"mutations")}function td(t){return vi(t,"documentMutations")}function ij(t){return vi(t,"mutationQueues")}var fd=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var ED=class{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.Bn(e).next(i=>{let n=new fd(i.highestTargetId);return i.highestTargetId=n.next(),this.kn(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(i=>ce.fromTimestamp(new kt(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,n){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=i,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),i>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=i),this.kn(e,r)))}addTargetData(e,i){return this.qn(e,i).next(()=>this.Bn(e).next(n=>(n.targetCount+=1,this.Qn(i,n),this.kn(e,n))))}updateTargetData(e,i){return this.qn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Yc(e).delete(i.targetId)).next(()=>this.Bn(e)).next(n=>(ae(n.targetCount>0),n.targetCount-=1,this.kn(e,n)))}removeTargets(e,i,n){let r=0,o=[];return Yc(e).Y((s,a)=>{let l=cm(a);l.sequenceNumber<=i&&n.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>C.waitFor(o)).next(()=>r)}forEachTarget(e,i){return Yc(e).Y((n,r)=>{let o=cm(r);i(o)})}Bn(e){return O2(e).get("targetGlobalKey").next(i=>(ae(i!==null),i))}kn(e,i){return O2(e).put("targetGlobalKey",i)}qn(e,i){return Yc(e).put(ZV(this.serializer,i))}Qn(e,i){let n=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,n=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next(i=>i.targetCount)}getTargetData(e,i){let n=Ya(i),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return Yc(e).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{let c=cm(a);Vm(i,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,i,n){let r=[],o=Fs(e);return i.forEach(s=>{let a=Ji(s.path);r.push(o.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(e,n,s))}),C.waitFor(r)}removeMatchingKeys(e,i,n){let r=Fs(e);return C.forEach(i,o=>{let s=Ji(o.path);return C.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(e,n,o)])})}removeMatchingKeysForTargetId(e,i){let n=Fs(e),r=IDBKeyRange.bound([i],[i+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,i){let n=IDBKeyRange.bound([i],[i+1],!1,!0),r=Fs(e),o=ke();return r.Y({range:n,J:!0},(s,a,l)=>{let c=Jr(s[1]),d=new G(c);o=o.add(d)}).next(()=>o)}containsKey(e,i){let n=Ji(i.path),r=IDBKeyRange.bound([n],[tV(n)],!1,!0),o=0;return Fs(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}_t(e,i){return Yc(e).get(i).next(n=>n?cm(n):null)}};function Yc(t){return vi(t,"targets")}function O2(t){return vi(t,"targetGlobal")}function Fs(t){return vi(t,"targetDocuments")}function N2([t,e],[i,n]){let r=Se(t,i);return r===0?Se(e,n):r}var ID=class{constructor(e){this.Kn=e,this.buffer=new mt(N2),this.$n=0}Un(){return++this.$n}Wn(e){let i=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(i);else{let n=this.buffer.last();N2(i,n)<0&&(this.buffer=this.buffer.delete(n).add(i))}}get maxValue(){return this.buffer.last()[0]}},CD=class{constructor(e,i,n){this.garbageCollector=e,this.asyncQueue=i,this.localStore=n,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){O("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>D(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ws(i)?O("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qs(i)}yield this.zn(3e5)}))}},DD=class{constructor(e,i){this.jn=e,this.params=i}calculateTargetCount(e,i){return this.jn.Hn(e).next(n=>Math.floor(i/100*n))}nthSequenceNumber(e,i){if(i===0)return C.resolve(En._e);let n=new ID(i);return this.jn.forEachTarget(e,r=>n.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>n.Wn(r))).next(()=>n.maxValue)}removeTargets(e,i,n){return this.jn.removeTargets(e,i,n)}removeOrphanedDocuments(e,i){return this.jn.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),C.resolve(P2)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P2):this.Yn(e,i))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,i){let n,r,o,s,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),r=this.params.maximumSequenceNumbersToCollect):r=u,s=Date.now(),this.nthSequenceNumber(e,r))).next(u=>(n=u,a=Date.now(),this.removeTargets(e,n,i))).next(u=>(o=u,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(u=>(c=Date.now(),Zc()<=Sr.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${u} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),C.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:u})))}};function QZ(t,e){return new DD(t,e)}var SD=class{constructor(e,i){this.db=e,this.garbageCollector=QZ(this,i)}Hn(e){let i=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(n=>i.next(r=>n+r))}Zn(e){let i=0;return this.Jn(e,n=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Jn(e,i){return this.Xn(e,(n,r)=>i(r))}addReference(e,i,n){return i_(e,n)}removeReference(e,i,n){return i_(e,n)}removeTargets(e,i,n){return this.db.getTargetCache().removeTargets(e,i,n)}markPotentiallyOrphaned(e,i){return i_(e,i)}er(e,i){return function(r,o){let s=!1;return ij(r).Z(a=>tj(r,a,o).next(l=>(l&&(s=!0),C.resolve(!l)))).next(()=>s)}(e,i)}removeOrphanedDocuments(e,i){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Xn(e,(s,a)=>{if(a<=i){let l=this.er(e,s).next(c=>{if(!c)return o++,n.getEntry(e,s).next(()=>(n.removeEntry(s,ce.min()),Fs(e).delete(function(u){return[0,Ji(u.path)]}(s))))});r.push(l)}}).next(()=>C.waitFor(r)).next(()=>n.apply(e)).next(()=>o)}removeTarget(e,i){let n=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,i){return i_(e,i)}Xn(e,i){let n=Fs(e),r,o=En._e;return n.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==En._e&&i(new G(Jr(r)),o),o=c,r=l):o=En._e}).next(()=>{o!==En._e&&i(new G(Jr(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function i_(t,e){return Fs(t).put(function(n,r){return{targetId:0,path:Ji(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var F_=class{constructor(){this.changes=new so(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ri.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?C.resolve(n):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var TD=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,n){return ja(e).put(n)}removeEntry(e,i,n){return ja(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],S_(s),a[a.length-1]]}(i,n))}updateMetadata(e,i){return this.getMetadata(e).next(n=>(n.byteSize+=i,this.tr(e,n)))}getEntry(e,i){let n=ri.newInvalidDocument(i);return ja(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(sm(i))},(r,o)=>{n=this.nr(i,o)}).next(()=>n)}rr(e,i){let n={size:0,document:ri.newInvalidDocument(i)};return ja(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(sm(i))},(r,o)=>{n={document:this.nr(i,o),size:M_(o)}}).next(()=>n)}getEntries(e,i){let n=cn();return this.ir(e,i,(r,o)=>{let s=this.nr(r,o);n=n.insert(r,s)}).next(()=>n)}sr(e,i){let n=cn(),r=new xt(G.comparator);return this.ir(e,i,(o,s)=>{let a=this.nr(o,s);n=n.insert(o,a),r=r.insert(o,M_(s))}).next(()=>({documents:n,_r:r}))}ir(e,i,n){if(i.isEmpty())return C.resolve();let r=new mt(j2);i.forEach(l=>r=r.add(l));let o=IDBKeyRange.bound(sm(r.first()),sm(r.last())),s=r.getIterator(),a=s.getNext();return ja(e).Y({index:"documentKeyIndex",range:o},(l,c,d)=>{let u=G.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&j2(a,u)<0;)n(a,null),a=s.getNext();a&&a.isEqual(u)&&(n(a,c),a=s.hasNext()?s.getNext():null),a?d.U(sm(a)):d.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,i,n,r,o){let s=i.path,a=[s.popLast().toArray(),s.lastSegment(),S_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ja(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let d=cn();for(let u of c){let h=this.nr(G.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);h.isFoundDocument()&&(Bm(i,h)||r.has(h.key))&&(d=d.insert(h.key,h))}return d})}getAllFromCollectionGroup(e,i,n,r){let o=cn(),s=V2(i,n),a=V2(i,qn.max());return ja(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,d)=>{let u=this.nr(G.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(u.key,u),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(e){return new AD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return L2(e).get("remoteDocumentGlobalKey").next(i=>(ae(!!i),i))}tr(e,i){return L2(e).put("remoteDocumentGlobalKey",i)}nr(e,i){if(i){let n=GZ(this.serializer,i);if(!(n.isNoDocument()&&n.version.isEqual(ce.min())))return n}return ri.newInvalidDocument(e)}};function nj(t){return new TD(t)}var AD=class extends F_{constructor(e,i){super(),this.ar=e,this.trackRemovals=i,this.ur=new so(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(e){let i=[],n=0,r=new mt((o,s)=>Se(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(i.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let l=I2(this.ar.serializer,s);r=r.add(o.path.popLast());let c=M_(l);n+=c-a.size,i.push(this.ar.addEntry(e,o,l))}else if(n-=a.size,this.trackRemovals){let l=I2(this.ar.serializer,s.convertToNoDocument(ce.min()));i.push(this.ar.addEntry(e,o,l))}}),r.forEach(o=>{i.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),i.push(this.ar.updateMetadata(e,n)),C.waitFor(i)}getFromCache(e,i){return this.ar.rr(e,i).next(n=>(this.ur.set(i,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,i){return this.ar.sr(e,i).next(({documents:n,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:n.get(o).readTime})}),n))}};function L2(t){return vi(t,"remoteDocumentGlobal")}function ja(t){return vi(t,"remoteDocumentsV14")}function sm(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function V2(t,e){let i=e.documentKey.path.toArray();return[t,S_(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function j2(t,e){let i=t.path.toArray(),n=e.path.toArray(),r=0;for(let o=0;o<i.length-2&&o<n.length-2;++o)if(r=Se(i[o],n[o]),r)return r;return r=Se(i.length,n.length),r||(r=Se(i[i.length-2],n[n.length-2]),r||Se(i[i.length-1],n[n.length-1]))}var kD=class{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}};var P_=class{constructor(e,i,n,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,i){let n=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,i))).next(r=>(n!==null&&hm(n.mutation,r,In.empty(),kt.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.getLocalViewOfDocuments(e,n,ke()).next(()=>n))}getLocalViewOfDocuments(e,i,n=ke()){let r=eo();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,n).next(o=>{let s=lm();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,i){let n=eo();return this.populateOverlays(e,n,i).next(()=>this.computeViews(e,i,n,ke()))}populateOverlays(e,i,n){let r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{i.set(s,a)})})}computeViews(e,i,n,r){let o=cn(),s=um(),a=function(){return um()}();return i.forEach((l,c)=>{let d=n.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof wr)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),hm(d.mutation,c,d.mutation.getFieldMask(),kt.now())):s.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),i.forEach((c,d)=>{var u;return a.set(c,new kD(d,(u=s.get(c))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,i){let n=um(),r=new xt((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(s=>{for(let a of s)a.keys().forEach(l=>{let c=i.get(l);if(c===null)return;let d=n.get(l)||In.empty();d=a.applyToLocalView(c,d),n.set(l,d);let u=(r.get(a.batchId)||ke()).add(l);r=r.insert(a.batchId,u)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,u=DV();d.forEach(h=>{if(!o.has(h)){let m=PV(i.get(h),n.get(h));m!==null&&u.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,u))}return C.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,i,n,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):OS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,n,r):this.getDocumentsMatchingCollectionQuery(e,i,n,r)}getNextDocuments(e,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,n,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,n.largestBatchId,r-o.size):C.resolve(eo()),a=-1,l=o;return s.next(c=>C.forEach(c,(d,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),o.get(d)?C.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ke())).next(d=>({batchId:a,changes:CV(d)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new G(i)).next(n=>{let r=lm();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,n,r){let o=i.collectionGroup,s=lm();return this.indexManager.getCollectionParents(e,o).next(a=>C.forEach(a,l=>{let c=function(u,h){return new yr(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,n,r).next(d=>{d.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,i,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,n,o,r))).next(s=>{o.forEach((l,c)=>{let d=c.getKey();s.get(d)===null&&(s=s.insert(d,ri.newInvalidDocument(d)))});let a=lm();return s.forEach((l,c)=>{let d=o.get(l);d!==void 0&&hm(d.mutation,c,In.empty(),kt.now()),Bm(i,c)&&(a=a.insert(l,c))}),a})}};var MD=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,i){return C.resolve(this.cr.get(i))}saveBundleMetadata(e,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:Zt(r.createTime)}}(i)),C.resolve()}getNamedQuery(e,i){return C.resolve(this.lr.get(i))}saveNamedQuery(e,i){return this.lr.set(i.name,function(r){return{name:r.name,query:VS(r.bundledQuery),readTime:Zt(r.readTime)}}(i)),C.resolve()}};var RD=class{constructor(){this.overlays=new xt(G.comparator),this.hr=new Map}getOverlay(e,i){return C.resolve(this.overlays.get(i))}getOverlays(e,i){let n=eo();return C.forEach(i,r=>this.getOverlay(e,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(e,i,n){return n.forEach((r,o)=>{this.ht(e,i,o)}),C.resolve()}removeOverlaysForBatchId(e,i,n){let r=this.hr.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),C.resolve()}getOverlaysForCollection(e,i,n){let r=eo(),o=i.length+1,s=new G(i.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!i.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>n&&r.set(l.getKey(),l)}return C.resolve(r)}getOverlaysForCollectionGroup(e,i,n,r){let o=new xt((c,d)=>c-d),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===i&&c.largestBatchId>n){let d=o.get(c.largestBatchId);d===null&&(d=eo(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=eo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return C.resolve(a)}ht(e,i,n){let r=this.overlays.get(n.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Em(i,n));let o=this.hr.get(i);o===void 0&&(o=ke(),this.hr.set(i,o)),this.hr.set(i,o.add(n.key))}};var Am=class{constructor(){this.Pr=new mt(ti.Ir),this.Tr=new mt(ti.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,i){let n=new ti(e,i);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.Ar(new ti(e,i))}Rr(e,i){e.forEach(n=>this.removeReference(n,i))}Vr(e){let i=new G(new We([])),n=new ti(i,e),r=new ti(i,e+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let i=new G(new We([])),n=new ti(i,e),r=new ti(i,e+1),o=ke();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(e){let i=new ti(e,0),n=this.Pr.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}},ti=class{constructor(e,i){this.key=e,this.pr=i}static Ir(e,i){return G.comparator(e.key,i.key)||Se(e.pr,i.pr)}static Er(e,i){return Se(e.pr,i.pr)||G.comparator(e.key,i.key)}};var FD=class{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new mt(ti.Ir)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,n,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new xm(o,i,n,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new ti(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(s)}lookupMutationBatch(e,i){return C.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(e,i){let n=i+1,r=this.br(n),o=r<0?0:r;return C.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){let n=new ti(i,0),r=new ti(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{let a=this.Sr(s.pr);o.push(a)}),C.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new mt(Se);return i.forEach(r=>{let o=new ti(r,0),s=new ti(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{n=n.add(a.pr)})}),C.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,i){let n=i.path,r=n.length+1,o=n;G.isDocumentKey(o)||(o=o.child(""));let s=new ti(new G(o),0),a=new mt(Se);return this.wr.forEachWhile(l=>{let c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},s),C.resolve(this.Dr(a))}Dr(e){let i=[];return e.forEach(n=>{let r=this.Sr(n);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){ae(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return C.forEach(i.mutations,r=>{let o=new ti(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=n})}Mn(e){}containsKey(e,i){let n=new ti(i,0),r=this.wr.firstAfterOrEqual(n);return C.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Cr(e,i){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let i=this.br(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var PD=class{constructor(e){this.vr=e,this.docs=function(){return new xt(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){let n=i.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){let n=this.docs.get(i);return C.resolve(n?n.document.mutableCopy():ri.newInvalidDocument(i))}getEntries(e,i){let n=cn();return i.forEach(r=>{let o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():ri.newInvalidDocument(r))}),C.resolve(n)}getDocumentsMatchingQuery(e,i,n,r){let o=cn(),s=i.path,a=new G(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||MS(nV(d),n)<=0||(r.has(d.key)||Bm(i,d))&&(o=o.insert(d.key,d.mutableCopy()))}return C.resolve(o)}getAllFromCollectionGroup(e,i,n,r){te()}Fr(e,i){return C.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new OD(this)}getSize(e){return C.resolve(this.size)}},OD=class extends F_{constructor(e){super(),this.ar=e}applyChanges(e){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)}),C.waitFor(i)}getFromCache(e,i){return this.ar.getEntry(e,i)}getAllFromCache(e,i){return this.ar.getEntries(e,i)}};var ND=class{constructor(e){this.persistence=e,this.Mr=new so(i=>Ya(i),Vm),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Am,this.targetCount=0,this.Lr=fd.Nn()}forEachTarget(e,i){return this.Mr.forEach((n,r)=>i(r)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Or&&(this.Or=i),C.resolve()}qn(e){this.Mr.set(e.target,e);let i=e.targetId;i>this.highestTargetId&&(this.Lr=new fd(i),this.highestTargetId=i),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,i){return this.qn(i),this.targetCount+=1,C.resolve()}updateTargetData(e,i){return this.qn(i),C.resolve()}removeTargetData(e,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,i,n){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=i&&n.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),C.waitFor(o).next(()=>r)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,i){let n=this.Mr.get(i)||null;return C.resolve(n)}addMatchingKeys(e,i,n){return this.Nr.dr(i,n),C.resolve()}removeMatchingKeys(e,i,n){this.Nr.Rr(i,n);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),C.waitFor(o)}removeMatchingKeysForTargetId(e,i){return this.Nr.Vr(i),C.resolve()}getMatchingKeysForTargetId(e,i){let n=this.Nr.gr(i);return C.resolve(n)}containsKey(e,i){return C.resolve(this.Nr.containsKey(i))}};var O_=class{constructor(e,i){this.Br={},this.overlays={},this.kr=new En(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ND(this),this.indexManager=new wD,this.remoteDocumentCache=function(r){return new PD(r)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new D_(i),this.$r=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new RD,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let n=this.Br[e.toKey()];return n||(n=new FD(i,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,i,n){O("MemoryPersistence","Starting transaction:",e);let r=new LD(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,i){return C.or(Object.values(this.Br).map(n=>()=>n.containsKey(e,i)))}},LD=class extends f_{constructor(e){super(),this.currentSequenceNumber=e}},N_=class t{constructor(e){this.persistence=e,this.zr=new Am,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw te()}addReference(e,i,n){return this.zr.addReference(n,i),this.Jr.delete(n.toString()),C.resolve()}removeReference(e,i,n){return this.zr.removeReference(n,i),this.Jr.add(n.toString()),C.resolve()}markPotentiallyOrphaned(e,i){return this.Jr.add(i.toString()),C.resolve()}removeTarget(e,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(e,i))}Ur(){this.jr=new Set}Wr(e){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Jr,n=>{let r=G.fromPath(n);return this.Yr(e,r).next(o=>{o||i.removeEntry(r,ce.min())})}).next(()=>(this.jr=null,i.apply(e)))}updateLimboDocument(e,i){return this.Yr(e,i).next(n=>{n?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(e){return 0}Yr(e,i){return C.or([()=>C.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Gr(e,i)])}};var VD=class{constructor(e){this.serializer=e}N(e,i,n,r){let o=new p_("createOrUpgrade",i);n<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i2,{unique:!0}),l.createObjectStore("documentMutations")}(e),B2(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=C.resolve();return n<3&&r>=3&&(n!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),B2(e)),s=s.next(()=>function(l){let c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(o))),n<4&&r>=4&&(n!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i2,{unique:!0});let u=c.store("mutations"),h=d.map(m=>u.put(m));return C.waitFor(h)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&r>=5&&(s=s.next(()=>this.Xr(o))),n<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),n<7&&r>=7&&(s=s.next(()=>this.ti(o))),n<8&&r>=8&&(s=s.next(()=>this.ni(e,o))),n<9&&r>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&r>=10&&(s=s.next(()=>this.ri(o))),n<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(s=s.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:hZ});c.createIndex("collectionPathOverlayIndex",mZ,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",fZ,{unique:!1})})(e)})),n<13&&r>=13&&(s=s.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:tZ});c.createIndex("documentKeyIndex",iZ),c.createIndex("collectionGroupIndex",nZ)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>this.si(e,o))),n<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:lZ}).createIndex("sequenceNumberIndex",cZ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:dZ}).createIndex("documentKeyIndex",uZ,{unique:!1})}(e))),n<16&&r>=16&&(s=s.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s}ei(e){let i=0;return e.store("remoteDocuments").Y((n,r)=>{i+=M_(r)}).next(()=>{let n={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Xr(e){let i=e.store("mutationQueues"),n=e.store("mutations");return i.W().next(r=>C.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",s).next(a=>C.forEach(a,l=>{ae(l.userId===o.userId);let c=za(this.serializer,l);return ej(e,o.userId,c).next(()=>{})}))}))}ti(e){let i=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return n.Y((s,a)=>{let l=new We(s),c=function(u){return[0,Ji(u)]}(l);o.push(i.get(c).next(d=>d?C.resolve():(u=>i.put({targetId:0,path:Ji(u),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>C.waitFor(o))})}ni(e,i){e.createObjectStore("collectionParents",{keyPath:aZ});let n=i.store("collectionParents"),r=new Tm,o=s=>{if(r.add(s)){let a=s.lastSegment(),l=s.popLast();return n.put({collectionId:a,parent:Ji(l)})}};return i.store("remoteDocuments").Y({J:!0},(s,a)=>{let l=new We(s);return o(l.popLast())}).next(()=>i.store("documentMutations").Y({J:!0},([s,a,l],c)=>{let d=Jr(a);return o(d.popLast())}))}ri(e){let i=e.store("targets");return i.Y((n,r)=>{let o=cm(r),s=ZV(this.serializer,o);return i.put(s)})}ii(e,i){let n=i.store("remoteDocuments"),r=[];return n.Y((o,s)=>{let a=i.store("remoteDocumentsV14"),l=function(u){return u.document?new G(We.fromString(u.document.name).popFirst(5)):u.noDocument?G.fromSegments(u.noDocument.path):u.unknownDocument?G.fromSegments(u.unknownDocument.path):te()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(c))}).next(()=>C.waitFor(r))}si(e,i){let n=i.store("mutations"),r=nj(this.serializer),o=new O_(N_.Hr,this.serializer.ct);return n.W().next(s=>{let a=new Map;return s.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:ke();za(this.serializer,l).keys().forEach(u=>d=d.add(u)),a.set(l.userId,d)}),C.forEach(a,(l,c)=>{let d=new ii(c),u=T_.lt(this.serializer,d),h=o.getIndexManager(d),m=R_.lt(d,this.serializer,h,o.referenceDelegate);return new P_(r,m,u,h).recalculateAndSaveOverlaysForDocumentKeys(new vm(i,En._e),l).next()})})}};function B2(t){t.createObjectStore("targetDocuments",{keyPath:oZ}).createIndex("documentTargetsIndex",sZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rZ,{unique:!0}),t.createObjectStore("targetGlobal")}var AC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jD=class t{constructor(e,i,n,r,o,s,a,l,c,d,u=16){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=n,this.oi=o,this.window=s,this.document=a,this._i=c,this.ai=d,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!t.D())throw new F(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SD(this,r),this.Ti=i+"main",this.serializer=new D_(l),this.Ei=new jo(this.Ti,this.ui,new VD(this.serializer)),this.Qr=new ED(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nj(this.serializer),this.$r=new fD,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&Kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(S.FAILED_PRECONDITION,AC);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new En(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=i=>D(this,null,function*(){if(this.started)return e(i)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(i=>D(this,null,function*(){i.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>D(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>n_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(i=>{i||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(i=>this.isPrimary&&!i?this.yi(e).next(()=>!1):!!i&&this.wi(e).next(()=>!0))).catch(e=>{if(Ws(e))return O("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return O("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return am(e).get("owner").next(i=>C.resolve(this.Si(i)))}bi(e){return n_(e).delete(this.clientId)}Di(){return D(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{let n=vi(i,"clientMetadata");return n.W().next(r=>{let o=this.vi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return C.forEach(s,a=>n.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let i of e)this.di.removeItem(this.Fi(i.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?C.resolve(!0):am(e).get("owner").next(i=>{if(i!==null&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)){if(this.Si(i)&&this.networkEnabled)return!0;if(!this.Si(i)){if(!i.allowTabSynchronization)throw new F(S.FAILED_PRECONDITION,AC);return!1}}return!(!this.networkEnabled||!this.inForeground)||n_(e).W().next(n=>this.vi(n,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(i=>(this.isPrimary!==i&&O("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){return D(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let i=new vm(e,En._e);return this.yi(i).next(()=>this.bi(i))}),this.Ei.close(),this.Li()})}vi(e,i){return e.filter(n=>this.Ci(n.updateTimeMs,i)&&!this.Mi(n.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>n_(e).W().next(i=>this.vi(i,18e5).map(n=>n.clientId)))}get started(){return this.qr}getMutationQueue(e,i){return R_.lt(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xD(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return T_.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,i,n){O("IndexedDbPersistence","Starting transaction:",e);let r=i==="readonly"?"readonly":"readwrite",o=function(l){return l===16?gZ:l===15?dV:l===14?cV:l===13?lV:l===12?pZ:l===11?aV:void te()}(this.ui),s;return this.Ei.runTransaction(e,r,o,a=>(s=new vm(a,this.kr?this.kr.next():En._e),i==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw Kt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new F(S.FAILED_PRECONDITION,rV);return n(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>n(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return am(e).get("owner").next(i=>{if(i!==null&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)&&!this.Si(i)&&!(this.ai||this.allowTabSynchronization&&i.allowTabSynchronization))throw new F(S.FAILED_PRECONDITION,AC)})}wi(e){let i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return am(e).put("owner",i)}static D(){return jo.D()}yi(e){let i=am(e);return i.get("owner").next(n=>this.Si(n)?(O("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):C.resolve())}Ci(e,i){let n=Date.now();return!(e<n-i)&&(!(e>n)||(Kt(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let i=/(?:Version|Mobile)\/1[456]/;_y()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var i;try{let n=((i=this.di)===null||i===void 0?void 0:i.getItem(this.Fi(e)))!==null;return O("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Kt("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Kt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function am(t){return vi(t,"owner")}function n_(t){return vi(t,"clientMetadata")}function BS(t,e){let i=t.projectId;return t.isDefaultDatabase||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}var BD=class t{constructor(e,i,n,r){this.targetId=e,this.fromCache=i,this.qi=n,this.Qi=r}static Ki(e,i){let n=ke(),r=ke();for(let o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,i.fromCache,n,r)}};var UD=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var L_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _y()?8:jo.v(Yd())>0?6:4}()}initialize(e,i){this.zi=e,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(e,i,n,r){let o={result:null};return this.ji(e,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,i,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new UD;return this.Ji(e,i,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,i,s,a.size)})}).next(()=>o.result)}Yi(e,i,n,r){return n.documentReadCount<this.Wi?(Zc()<=Sr.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Xc(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),C.resolve()):(Zc()<=Sr.DEBUG&&O("QueryEngine","Query:",Xc(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Zc()<=Sr.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Xc(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,en(i))):C.resolve())}ji(e,i){if(m2(i))return C.resolve(null);let n=en(i);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=x_(i,null,"F"),n=en(i)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{let s=ke(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{let c=this.Zi(i,a);return this.Xi(i,c,s,l.readTime)?this.ji(e,x_(i,null,"F")):this.es(e,c,i,l)}))})))}Hi(e,i,n,r){return m2(i)||r.isEqual(ce.min())?C.resolve(null):this.zi.getDocuments(e,n).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,n,r)?C.resolve(null):(Zc()<=Sr.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xc(i)),this.es(e,s,i,iV(r,-1)).next(a=>a))})}Zi(e,i){let n=new mt(EV(e));return i.forEach((r,o)=>{Bm(e,o)&&(n=n.add(o))}),n}Xi(e,i,n,r){if(e.limit===null)return!1;if(n.size!==i.size)return!0;let o=e.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,i,n){return Zc()<=Sr.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Xc(i)),this.zi.getDocumentsMatchingQuery(e,i,qn.min(),n)}es(e,i,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zD=class{constructor(e,i,n,r){this.persistence=e,this.ts=i,this.serializer=r,this.ns=new xt(Se),this.rs=new so(o=>Ya(o),Vm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.ns))}};function rj(t,e,i,n){return new zD(t,e,i,n)}function oj(t,e){return D(this,null,function*(){let i=q(t);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i._s(e),i.mutationQueue.getAllMutationBatches(n))).next(o=>{let s=[],a=[],l=ke();for(let c of r){s.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of o){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return i.localDocuments.getDocuments(n,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})}function KZ(t,e){let i=q(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=e.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let u=c.batch,h=u.keys(),m=C.resolve();return h.forEach(p=>{m=m.next(()=>d.getEntry(l,p)).next(_=>{let y=c.docVersions.get(p);ae(y!==null),_.version.compareTo(y)<0&&(u.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,u))}(i,n,e,o).next(()=>o.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>i.localDocuments.getDocuments(n,r))})}function sj(t){let e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Qr.getLastRemoteSnapshotVersion(i))}function YZ(t,e){let i=q(t),n=e.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let a=[];e.targetChanges.forEach((d,u)=>{let h=r.get(u);if(!h)return;a.push(i.Qr.removeMatchingKeys(o,d.removedDocuments,u).next(()=>i.Qr.addMatchingKeys(o,d.addedDocuments,u)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(u)!==null?m=m.withResumeToken(gi.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),r=r.insert(u,m),function(_,y,E){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,m,d)&&a.push(i.Qr.updateTargetData(o,m))});let l=cn(),c=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(aj(o,s,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!n.isEqual(ce.min())){let d=i.Qr.getLastRemoteSnapshotVersion(o).next(u=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(d)}return C.waitFor(a).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(i.ns=r,o))}function aj(t,e,i){let n=ke(),r=ke();return i.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=cn();return i.forEach((a,l)=>{let c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:r}})}function ZZ(t,e){let i=q(t);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function pd(t,e){let i=q(t);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Qr.getTargetData(n,e).next(o=>o?(r=o,C.resolve(r)):i.Qr.allocateTargetId(n).next(s=>(r=new md(e,s,"TargetPurposeListen",n.currentSequenceNumber),i.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ns.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(n.targetId,n),i.rs.set(e,n.targetId)),n})}function gd(t,e,i){return D(this,null,function*(){let n=q(t),r=n.ns.get(e),o=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ws(s))throw s;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.ns=n.ns.remove(e),n.rs.delete(r.target)})}function V_(t,e,i){let n=q(t),r=ce.min(),o=ke();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){let u=q(l),h=u.rs.get(d);return h!==void 0?C.resolve(u.ns.get(h)):u.Qr.getTargetData(c,d)}(n,s,en(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>n.ts.getDocumentsMatchingQuery(s,e,i?r:ce.min(),i?o:ke())).next(a=>(dj(n,xV(e),a),{documents:a,hs:o})))}function lj(t,e){let i=q(t),n=q(i.Qr),r=i.ns.get(e);return r?Promise.resolve(r.target):i.persistence.runTransaction("Get target data","readonly",o=>n._t(o,e).next(s=>s?s.target:null))}function cj(t,e){let i=q(t),n=i.ss.get(e)||ce.min();return i.persistence.runTransaction("Get new document changes","readonly",r=>i.os.getAllFromCollectionGroup(r,e,iV(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(dj(i,e,r),r))}function dj(t,e,i){let n=t.ss.get(e)||ce.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.ss.set(e,n)}function XZ(t,e,i,n){return D(this,null,function*(){let r=q(t),o=ke(),s=cn();for(let c of i){let d=e.Ps(c.metadata.name);c.document&&(o=o.add(d));let u=e.Is(c);u.setReadTime(e.Ts(c.metadata.readTime)),s=s.insert(d,u)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield pd(r,function(d){return en(Id(We.fromString(`__bundle__/docs/${d}`)))}(n));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>aj(c,a,s).next(d=>(a.apply(c),d)).next(d=>r.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))})}function JZ(n,r){return D(this,arguments,function*(t,e,i=ke()){let o=yield pd(t,en(VS(e.bundledQuery))),s=q(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let l=Zt(e.readTime);if(o.snapshotVersion.compareTo(l)>=0)return s.$r.saveNamedQuery(a,e);let c=o.withResumeToken(gi.EMPTY_BYTE_STRING,l);return s.ns=s.ns.insert(c.targetId,c),s.Qr.updateTargetData(a,c).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,i,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function U2(t,e){return`firestore_clients_${t}_${e}`}function z2(t,e,i){let n=`firestore_mutations_${t}_${i}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function kC(t,e){return`firestore_targets_${t}_${e}`}var j_=class t{constructor(e,i,n,r){this.user=e,this.batchId=i,this.state=n,this.error=r}static Es(e,i,n){let r=JSON.parse(n),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new F(r.error.code,r.error.message))),s?new t(e,i,r.state,o):(Kt("SharedClientState",`Failed to parse mutation state for ID '${i}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},mm=class t{constructor(e,i,n){this.targetId=e,this.state=i,this.error=n}static Es(e,i){let n=JSON.parse(i),r,o=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return o&&n.error&&(o=typeof n.error.message=="string"&&typeof n.error.code=="string",o&&(r=new F(n.error.code,n.error.message))),o?new t(e,n.state,r):(Kt("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},B_=class t{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Es(e,i){let n=JSON.parse(i),r=typeof n=="object"&&n.activeTargetIds instanceof Array,o=NS();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=oV(n.activeTargetIds[s]),o=o.add(n.activeTargetIds[s]);return r?new t(e,o):(Kt("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}},$D=class t{constructor(e,i){this.clientId=e,this.onlineState=i}static Es(e){let i=JSON.parse(e);return typeof i=="object"&&["Unknown","Online","Offline"].indexOf(i.onlineState)!==-1&&typeof i.clientId=="string"?new t(i.clientId,i.onlineState):(Kt("SharedClientState",`Failed to parse online state: ${e}`),null)}},km=class{constructor(){this.activeTargetIds=NS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},fm=class{constructor(e,i,n,r,o){this.window=e,this.oi=i,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new xt(Se),this.started=!1,this.ys=[];let s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=U2(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new km),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return D(this,null,function*(){let e=yield this.syncEngine.Bi();for(let n of e){if(n===this.Vs)continue;let r=this.getItem(U2(this.persistenceKey,n));if(r){let o=B_.Es(n,r);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let i=this.storage.getItem(this.vs);if(i){let n=this.xs(i);n&&this.Os(n)}for(let n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let i=!1;return this.ps.forEach((n,r)=>{r.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,i,n){this.Ls(e,i,n),this.Bs(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){let n=this.storage.getItem(kC(this.persistenceKey,e));if(n){let r=mm.Es(e,n);r&&(i=r.state)}}return this.ks.As(e),this.Ms(),i}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kC(this.persistenceKey,e))}updateQueryState(e,i,n){this.qs(e,i,n)}handleUserChange(e,i,n){i.forEach(r=>{this.Bs(r)}),this.currentUser=e,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let i=this.storage.getItem(e);return O("SharedClientState","READ",e,i),i}setItem(e,i){O("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){O("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let i=e;if(i.storageArea===this.storage){if(O("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ws)return void Kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>D(this,null,function*(){if(this.started){if(i.key!==null){if(this.bs.test(i.key)){if(i.newValue==null){let n=this.$s(i.key);return this.Us(n,null)}{let n=this.Ws(i.key,i.newValue);if(n)return this.Us(n.clientId,n)}}else if(this.Ds.test(i.key)){if(i.newValue!==null){let n=this.Gs(i.key,i.newValue);if(n)return this.zs(n)}}else if(this.Cs.test(i.key)){if(i.newValue!==null){let n=this.js(i.key,i.newValue);if(n)return this.Hs(n)}}else if(i.key===this.vs){if(i.newValue!==null){let n=this.xs(i.newValue);if(n)return this.Os(n)}}else if(i.key===this.Ss){let n=function(o){let s=En._e;if(o!=null)try{let a=JSON.parse(o);ae(typeof a=="number"),s=a}catch(a){Kt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(i.newValue);n!==En._e&&this.sequenceNumberHandler(n)}else if(i.key===this.Fs){let n=this.Js(i.newValue);yield Promise.all(n.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(i)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,i,n){let r=new j_(this.currentUser,e,i,n),o=z2(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ds())}Bs(e){let i=z2(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Qs(e){let i={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(i))}qs(e,i,n){let r=kC(this.persistenceKey,e),o=new mm(e,i,n);this.setItem(r,o.ds())}Ks(e){let i=JSON.stringify(Array.from(e));this.setItem(this.Fs,i)}$s(e){let i=this.bs.exec(e);return i?i[1]:null}Ws(e,i){let n=this.$s(e);return B_.Es(n,i)}Gs(e,i){let n=this.Ds.exec(e),r=Number(n[1]),o=n[2]!==void 0?n[2]:null;return j_.Es(new ii(o),r,i)}js(e,i){let n=this.Cs.exec(e),r=Number(n[1]);return mm.Es(r,i)}xs(e){return $D.Es(e)}Js(e){return JSON.parse(e)}zs(e){return D(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);O("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,i){let n=i?this.ps.insert(e,i):this.ps.remove(e),r=this.Ns(this.ps),o=this.Ns(n),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=n})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let i=NS();return e.forEach((n,r)=>{i=i.unionWith(r.activeTargetIds)}),i}},U_=class{constructor(){this.no=new km,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,i,n){this.ro[e]=i}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new km,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var HD=class{io(e){}shutdown(){}};var z_=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var r_=null;function MC(){return r_===null?r_=function(){return 268435456+Math.round(2147483648*Math.random())}():r_++,"0x"+r_.toString(16)}var eX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var GD=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ni="WebChannelConnection",qD=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+i.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(i,n,r,o,s){let a=MC(),l=this.bo(i,n.toUriEncodedString());O("RestConnection",`Sending RPC '${i}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(i,l,c,r).then(d=>(O("RestConnection",`Received RPC '${i}' ${a}: `,d),d),d=>{throw Gn("RestConnection",`RPC '${i}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}vo(i,n,r,o,s,a){return this.So(i,n,r,o,s)}Do(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ed}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}bo(i,n){let r=eX[i];return`${this.fo}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,i,n,r){let o=MC();return new Promise((s,a)=>{let l=new ZL;l.setWithCredentials(!0),l.listenOnce(KL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case e_.NO_ERROR:let d=l.getResponseJson();O(Ni,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case e_.TIMEOUT:O(Ni,`RPC '${e}' ${o} timed out`),a(new F(S.DEADLINE_EXCEEDED,"Request time out"));break;case e_.HTTP_ERROR:let u=l.getStatus();if(O(Ni,`RPC '${e}' ${o} failed with status:`,u,"response text:",l.getResponseText()),u>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);let m=h?.error;if(m&&m.status&&m.message){let p=function(y){let E=y.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(E)>=0?E:S.UNKNOWN}(m.status);a(new F(p,m.message))}else a(new F(S.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(S.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{O(Ni,`RPC '${e}' ${o} completed.`)}});let c=JSON.stringify(r);O(Ni,`RPC '${e}' ${o} sending request:`,r),l.send(i,"POST",c,n,15)})}Fo(e,i,n){let r=MC(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=WL(),a=QL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;let d=o.join("");O(Ni,`Creating RPC '${e}' stream ${r}: ${d}`,l);let u=s.createWebChannel(d,l),h=!1,m=!1,p=new GD({lo:y=>{m?O(Ni,`Not sending because RPC '${e}' stream ${r} is closed:`,y):(h||(O(Ni,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),O(Ni,`RPC '${e}' stream ${r} sending:`,y),u.send(y))},ho:()=>u.close()}),_=(y,E,N)=>{y.listen(E,M=>{try{N(M)}catch(P){setTimeout(()=>{throw P},0)}})};return _(u,nm.EventType.OPEN,()=>{m||O(Ni,`RPC '${e}' stream ${r} transport opened.`)}),_(u,nm.EventType.CLOSE,()=>{m||(m=!0,O(Ni,`RPC '${e}' stream ${r} transport closed`),p.Vo())}),_(u,nm.EventType.ERROR,y=>{m||(m=!0,Gn(Ni,`RPC '${e}' stream ${r} transport errored:`,y),p.Vo(new F(S.UNAVAILABLE,"The operation could not be completed")))}),_(u,nm.EventType.MESSAGE,y=>{var E;if(!m){let N=y.data[0];ae(!!N);let M=N,P=M.error||((E=M[0])===null||E===void 0?void 0:E.error);if(P){O(Ni,`RPC '${e}' stream ${r} received error:`,P);let ie=P.status,ne=function(ji){let Yn=ei[ji];if(Yn!==void 0)return LV(Yn)}(ie),he=P.message;ne===void 0&&(ne=S.INTERNAL,he="Unknown error status: "+ie+" with message "+P.message),m=!0,p.Vo(new F(ne,he)),u.close()}else O(Ni,`RPC '${e}' stream ${r} received:`,N),p.mo(N)}}),_(a,YL.STAT_EVENT,y=>{y.stat===SC.PROXY?O(Ni,`RPC '${e}' stream ${r} detected buffering proxy`):y.stat===SC.NOPROXY&&O(Ni,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}};function uj(){return typeof window<"u"?window:null}function c_(){return typeof document<"u"?document:null}function Um(t){return new cD(t,!0)}var Mm=class{constructor(e,i,n=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=i,this.Mo=n,this.xo=r,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let i=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,i-n);r>0&&O("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var $_=class{constructor(e,i,n,r,o,s,a,l){this.oi=e,this.$o=n,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Mm(e,i)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return D(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return D(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,i){return D(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():i&&i.code===S.RESOURCE_EXHAUSTED?(Kt(i.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):i&&i.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(i)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),i=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Wo===i&&this.o_(n,r)},n=>{e(()=>{let r=new F(S.UNKNOWN,"Fetching auth token failed: "+n.message);return this.__(r)})})}o_(e,i){let n=this.s_(this.Wo);this.stream=this.a_(e,i),this.stream.Po(()=>{n(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{n(()=>this.__(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>D(this,null,function*(){this.state=0,this.start()}))}__(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return i=>{this.oi.enqueueAndForget(()=>this.Wo===e?i():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},WD=class extends $_{constructor(e,i,n,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o}a_(e,i){return this.connection.Fo("Listen",e,i)}onMessage(e){this.jo.reset();let i=VZ(this.serializer,e),n=function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Zt(s.readTime):ce.min()}(e);return this.listener.u_(i,n)}c_(e){let i={};i.database=hD(this.serializer),i.addTarget=function(o,s){let a,l=s.target;if(a=y_(l)?{documents:GV(o,l)}:{query:qV(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jV(o,s.resumeToken);let c=dD(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=hd(o,s.snapshotVersion.toTimestamp());let c=dD(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let n=BZ(this.serializer,e);n&&(i.labels=n),this.t_(i)}l_(e){let i={};i.database=hD(this.serializer),i.removeTarget=e,this.t_(i)}},QD=class extends $_{constructor(e,i,n,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,i){return this.connection.Fo("Write",e,i)}onMessage(e){if(ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let i=jZ(e.writeResults,e.commitTime),n=Zt(e.commitTime);return this.listener.T_(n,i)}return ae(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=hD(this.serializer),this.t_(e)}I_(e){let i={streamToken:this.lastStreamToken,writes:e.map(n=>Sm(this.serializer,n))};this.t_(i)}};var KD=class extends class{}{constructor(e,i,n,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new F(S.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,uD(i,n),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(S.UNKNOWN,o.toString())})}vo(e,i,n,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,uD(i,n),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(S.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var YD=class{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Kt(i),this.g_=!1):O("OnlineStateTracker",i)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var ZD=class{constructor(e,i,n,r,o){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{n.enqueueAndForget(()=>D(this,null,function*(){Qs(this)&&(O("RemoteStore","Restarting streams for network reachability change."),yield function(l){return D(this,null,function*(){let c=q(l);c.v_.add(4),yield Cd(c),c.x_.set("Unknown"),c.v_.delete(4),yield zm(c)})}(this))}))}),this.x_=new YD(n,r)}};function zm(t){return D(this,null,function*(){if(Qs(t))for(let e of t.F_)yield e(!0)})}function Cd(t){return D(this,null,function*(){for(let e of t.F_)yield e(!1)})}function lb(t,e){let i=q(t);i.C_.has(e.targetId)||(i.C_.set(e.targetId,e),$S(i)?zS(i):Sd(i).Jo()&&US(i,e))}function vd(t,e){let i=q(t),n=Sd(i);i.C_.delete(e),n.Jo()&&hj(i,e),i.C_.size===0&&(n.Jo()?n.Xo():Qs(i)&&i.x_.set("Unknown"))}function US(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sd(t).c_(e)}function hj(t,e){t.O_.Oe(e),Sd(t).l_(e)}function zS(t){t.O_=new lD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Sd(t).start(),t.x_.p_()}function $S(t){return Qs(t)&&!Sd(t).Ho()&&t.C_.size>0}function Qs(t){return q(t).v_.size===0}function mj(t){t.O_=void 0}function tX(t){return D(this,null,function*(){t.C_.forEach((e,i)=>{US(t,e)})})}function iX(t,e){return D(this,null,function*(){mj(t),$S(t)?(t.x_.S_(e),zS(t)):t.x_.set("Unknown")})}function nX(t,e,i){return D(this,null,function*(){if(t.x_.set("Online"),e instanceof I_&&e.state===2&&e.cause)try{yield function(r,o){return D(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(n){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield H_(t,n)}else if(e instanceof od?t.O_.$e(e):e instanceof E_?t.O_.Je(e):t.O_.Ge(e),!i.isEqual(ce.min()))try{let n=yield sj(t.localStore);i.compareTo(n)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=o.C_.get(c);d&&o.C_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{let d=o.C_.get(l);if(!d)return;o.C_.set(l,d.withResumeToken(gi.EMPTY_BYTE_STRING,d.snapshotVersion)),hj(o,l);let u=new md(d.target,l,c,d.sequenceNumber);US(o,u)}),o.remoteSyncer.applyRemoteEvent(a)}(t,i))}catch(n){O("RemoteStore","Failed to raise snapshot:",n),yield H_(t,n)}})}function H_(t,e,i){return D(this,null,function*(){if(!Ws(e))throw e;t.v_.add(1),yield Cd(t),t.x_.set("Offline"),i||(i=()=>sj(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){O("RemoteStore","Retrying IndexedDB access"),yield i(),t.v_.delete(1),yield zm(t)}))})}function fj(t,e){return e().catch(i=>H_(t,i,e))}function Dd(t){return D(this,null,function*(){let e=q(t),i=Gs(e),n=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;rX(e);)try{let r=yield ZZ(e.localStore,n);if(r===null){e.D_.length===0&&i.Xo();break}n=r.batchId,oX(e,r)}catch(r){yield H_(e,r)}pj(e)&&gj(e)})}function rX(t){return Qs(t)&&t.D_.length<10}function oX(t,e){t.D_.push(e);let i=Gs(t);i.Jo()&&i.P_&&i.I_(e.mutations)}function pj(t){return Qs(t)&&!Gs(t).Ho()&&t.D_.length>0}function gj(t){Gs(t).start()}function sX(t){return D(this,null,function*(){Gs(t).d_()})}function aX(t){return D(this,null,function*(){let e=Gs(t);for(let i of t.D_)e.I_(i.mutations)})}function lX(t,e,i){return D(this,null,function*(){let n=t.D_.shift(),r=oD.from(n,e,i);yield fj(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Dd(t)})}function cX(t,e){return D(this,null,function*(){e&&Gs(t).P_&&(yield function(n,r){return D(this,null,function*(){if(function(s){return NV(s)&&s!==S.ABORTED}(r.code)){let o=n.D_.shift();Gs(n).Zo(),yield fj(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Dd(n)}})}(t,e)),pj(t)&&gj(t)})}function $2(t,e){return D(this,null,function*(){let i=q(t);i.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");let n=Qs(i);i.v_.add(3),yield Cd(i),n&&i.x_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.v_.delete(3),yield zm(i)})}function XD(t,e){return D(this,null,function*(){let i=q(t);e?(i.v_.delete(2),yield zm(i)):e||(i.v_.add(2),yield Cd(i),i.x_.set("Unknown"))})}function Sd(t){return t.N_||(t.N_=function(i,n,r){let o=q(i);return o.R_(),new WD(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:tX.bind(null,t),To:iX.bind(null,t),u_:nX.bind(null,t)}),t.F_.push(e=>D(this,null,function*(){e?(t.N_.Zo(),$S(t)?zS(t):t.x_.set("Unknown")):(yield t.N_.stop(),mj(t))}))),t.N_}function Gs(t){return t.L_||(t.L_=function(i,n,r){let o=q(i);return o.R_(),new QD(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:sX.bind(null,t),To:cX.bind(null,t),E_:aX.bind(null,t),T_:lX.bind(null,t)}),t.F_.push(e=>D(this,null,function*(){e?(t.L_.Zo(),yield Dd(t)):(yield t.L_.stop(),t.D_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var JD=class t{constructor(e,i,n,r,o){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,n,r,o){let s=Date.now()+n,a=new t(e,i,s,r,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Td(t,e){if(Kt("AsyncQueue",`${e}: ${t}`),Ws(t))return new F(S.UNAVAILABLE,`${e}: ${t}`);throw t}var G_=class t{constructor(e){this.comparator=e?(i,n)=>e(i,n)||G.comparator(i.key,n.key):(i,n)=>G.comparator(i.key,n.key),this.keyedMap=lm(),this.sortedSet=new xt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){let i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){let i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){let n=new t;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}};var q_=class{constructor(){this.B_=new xt(G.comparator)}track(e){let i=e.doc.key,n=this.B_.get(i);n?e.type!==0&&n.type===3?this.B_=this.B_.insert(i,e):e.type===3&&n.type!==1?this.B_=this.B_.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.B_=this.B_.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.B_=this.B_.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.B_=this.B_.remove(i):e.type===1&&n.type===2?this.B_=this.B_.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.B_=this.B_.insert(i,{type:2,doc:e.doc}):te():this.B_=this.B_.insert(i,e)}k_(){let e=[];return this.B_.inorderTraversal((i,n)=>{e.push(n)}),e}},_d=class t{constructor(e,i,n,r,o,s,a,l,c){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,i,n,r,o){let s=[];return i.forEach(a=>{s.push({type:0,doc:a})}),new t(e,i,G_.emptySet(i),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var eS=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},tS=class{constructor(){this.queries=new so(e=>wV(e),jm),this.onlineState="Unknown",this.W_=new Set}};function HS(t,e){return D(this,null,function*(){let i=q(t),n=3,r=e.query,o=i.queries.get(r);o?!o.K_()&&e.U_()&&(n=2):(o=new eS,n=e.U_()?0:1);try{switch(n){case 0:o.q_=yield i.onListen(r,!0);break;case 1:o.q_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let a=Td(s,`Initialization of query '${Xc(e.query)}' failed`);return void e.onError(a)}i.queries.set(r,o),o.Q_.push(e),e.G_(i.onlineState),o.q_&&e.z_(o.q_)&&qS(i)})}function GS(t,e){return D(this,null,function*(){let i=q(t),n=e.query,r=3,o=i.queries.get(n);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?r=e.U_()?0:1:!o.K_()&&e.U_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function dX(t,e){let i=q(t),n=!1;for(let r of e){let o=r.query,s=i.queries.get(o);if(s){for(let a of s.Q_)a.z_(r)&&(n=!0);s.q_=r}}n&&qS(i)}function uX(t,e,i){let n=q(t),r=n.queries.get(e);if(r)for(let o of r.Q_)o.onError(i);n.queries.delete(e)}function qS(t){t.W_.forEach(e=>{e.next()})}var iS,H2;(H2=iS||(iS={})).j_="default",H2.Cache="cache";var Rm=class{constructor(e,i,n){this.query=e,this.H_=i,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){let n=[];for(let r of e.docChanges)r.type!==3&&n.push(r);e=new _d(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),i=!0):this.X_(e,this.onlineState)&&(this.ea(e),i=!0),this.Y_=e,i}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let i=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),i=!0),i}X_(e,i){if(!e.fromCache||!this.U_())return!0;let n=i!=="Offline";return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let i=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ea(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==iS.Cache}};var nS=class{constructor(e,i){this.na=e,this.byteLength=i}ra(){return"metadata"in this.na}};var W_=class{constructor(e){this.serializer=e}Ps(e){return io(this.serializer,e)}Is(e){return e.metadata.exists?HV(this.serializer,e.document,!1):ri.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Zt(e)}},rS=class{constructor(e,i,n){this.ia=e,this.localStore=i,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vj(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++i;let n=We.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}oa(e){let i=new Map,n=new W_(this.serializer);for(let r of e)if(r.metadata.queries){let o=n.Ps(r.metadata.name);for(let s of r.metadata.queries){let a=(i.get(s)||ke()).add(o);i.set(s,a)}}return i}complete(){return D(this,null,function*(){let e=yield XZ(this.localStore,new W_(this.serializer),this.documents,this.ia.id),i=this.oa(this.documents);for(let n of this.queries)yield JZ(this.localStore,n,i.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}})}};function vj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Q_=class{constructor(e){this.key=e}},K_=class{constructor(e){this.key=e}},Y_=class{constructor(e,i){this.query=e,this.ua=i,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ke(),this.mutatedKeys=ke(),this.ha=EV(e),this.Pa=new G_(this.ha)}get Ia(){return this.ua}Ta(e,i){let n=i?i.Ea:new q_,r=i?i.Pa:this.Pa,o=i?i.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,u)=>{let h=r.get(d),m=Bm(this.query,u)?u:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),y=!1;h&&m?h.data.isEqual(m.data)?p!==_&&(n.track({type:3,doc:m}),y=!0):this.da(h,m)||(n.track({type:2,doc:m}),y=!0,(l&&this.ha(m,l)>0||c&&this.ha(m,c)<0)&&(a=!0)):!h&&m?(n.track({type:0,doc:m}),y=!0):h&&!m&&(n.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(m?(s=s.add(m),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Pa:s,Ea:n,Xi:a,mutatedKeys:o}}da(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n,r){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((d,u)=>function(m,p){let _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return _(m)-_(p)}(d.type,u.type)||this.ha(d.doc,u.doc)),this.Aa(n),r=r!=null&&r;let a=i&&!r?this.Ra():[],l=this.la.size===0&&this.current&&!r?1:0,c=l!==this.ca;return this.ca=l,s.length!==0||c?{snapshot:new _d(this.query,e.Pa,o,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new q_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(i=>this.ua=this.ua.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.ua=this.ua.delete(i)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=ke(),this.Pa.forEach(n=>{this.ma(n.key)&&(this.la=this.la.add(n.key))});let i=[];return e.forEach(n=>{this.la.has(n)||i.push(new K_(n))}),this.la.forEach(n=>{e.has(n)||i.push(new Q_(n))}),i}fa(e){this.ua=e.hs,this.la=ke();let i=this.Ta(e.documents);return this.applyChanges(i,!0)}ga(){return _d.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},oS=class{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}},sS=class{constructor(e){this.key=e,this.pa=!1}},aS=class{constructor(e,i,n,r,o,s){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new so(a=>wV(a),jm),this.Sa=new Map,this.ba=new Set,this.Da=new xt(G.comparator),this.Ca=new Map,this.va=new Am,this.Fa={},this.Ma=new Map,this.xa=fd.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function hX(t,e,i=!0){return D(this,null,function*(){let n=cb(t),r,o=n.wa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ga()):r=yield _j(n,e,i,!0),r})}function mX(t,e){return D(this,null,function*(){let i=cb(t);yield _j(i,e,!0,!1)})}function _j(t,e,i,n){return D(this,null,function*(){let r=yield pd(t.localStore,en(e)),o=r.targetId,s=i?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return n&&(a=yield WS(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&i&&lb(t.remoteStore,r),a})}function WS(t,e,i,n,r){return D(this,null,function*(){t.Na=(u,h,m)=>function(_,y,E,N){return D(this,null,function*(){let M=y.view.Ta(E);M.Xi&&(M=yield V_(_.localStore,y.query,!1).then(({documents:he})=>y.view.Ta(he,M)));let P=N&&N.targetChanges.get(y.targetId),ie=N&&N.targetMismatches.get(y.targetId)!=null,ne=y.view.applyChanges(M,_.isPrimaryClient,P,ie);return lS(_,y.targetId,ne.Va),ne.snapshot})}(t,u,h,m);let o=yield V_(t.localStore,e,!0),s=new Y_(e,o.hs),a=s.Ta(o.documents),l=Cm.createSynthesizedTargetChangeForCurrentChange(i,n&&t.onlineState!=="Offline",r),c=s.applyChanges(a,t.isPrimaryClient,l);lS(t,i,c.Va);let d=new oS(e,i,s);return t.wa.set(e,d),t.Sa.has(i)?t.Sa.get(i).push(e):t.Sa.set(i,[e]),c.snapshot})}function fX(t,e,i){return D(this,null,function*(){let n=q(t),r=n.wa.get(e),o=n.Sa.get(r.targetId);if(o.length>1)return n.Sa.set(r.targetId,o.filter(s=>!jm(s,e))),void n.wa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&vd(n.remoteStore,r.targetId),bd(n,r.targetId)}).catch(qs))):(bd(n,r.targetId),yield gd(n.localStore,r.targetId,!0))})}function pX(t,e){return D(this,null,function*(){let i=q(t),n=i.wa.get(e),r=i.Sa.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),vd(i.remoteStore,n.targetId))})}function gX(t,e,i){return D(this,null,function*(){let n=ZS(t);try{let r=yield function(s,a){let l=q(s),c=kt.now(),d=a.reduce((m,p)=>m.add(p.key),ke()),u,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=cn(),_=ke();return l.os.getEntries(m,d).next(y=>{p=y,p.forEach((E,N)=>{N.isValidDocument()||(_=_.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,p)).next(y=>{u=y;let E=[];for(let N of a){let M=MZ(N,u.get(N.key).overlayedDocument);M!=null&&E.push(new wr(N.key,M,fV(M.value.mapValue),jt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,E,a)}).next(y=>{h=y;let E=y.applyToLocalDocumentSet(u,_);return l.documentOverlayCache.saveOverlays(m,y.batchId,E)})}).then(()=>({batchId:h.batchId,changes:CV(u)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Fa[s.currentUser.toKey()];c||(c=new xt(Se)),c=c.insert(a,l),s.Fa[s.currentUser.toKey()]=c}(n,r.batchId,i),yield Go(n,r.changes),yield Dd(n.remoteStore)}catch(r){let o=Td(r,"Failed to persist write");i.reject(o)}})}function bj(t,e){return D(this,null,function*(){let i=q(t);try{let n=yield YZ(i.localStore,e);e.targetChanges.forEach((r,o)=>{let s=i.Ca.get(o);s&&(ae(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.pa=!0:r.modifiedDocuments.size>0?ae(s.pa):r.removedDocuments.size>0&&(ae(s.pa),s.pa=!1))}),yield Go(i,n,e)}catch(n){yield qs(n)}})}function G2(t,e,i){let n=q(t);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=q(s);l.onlineState=a;let c=!1;l.queries.forEach((d,u)=>{for(let h of u.Q_)h.G_(a)&&(c=!0)}),c&&qS(l)}(n.eventManager,e),r.length&&n.ya.u_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function vX(t,e,i){return D(this,null,function*(){let n=q(t);n.sharedClientState.updateQueryState(e,"rejected",i);let r=n.Ca.get(e),o=r&&r.key;if(o){let s=new xt(G.comparator);s=s.insert(o,ri.newNoDocument(o,ce.min()));let a=ke().add(o),l=new Im(ce.min(),new Map,new xt(Se),s,a);yield bj(n,l),n.Da=n.Da.remove(o),n.Ca.delete(e),YS(n)}else yield gd(n.localStore,e,!1).then(()=>bd(n,e,i)).catch(qs)})}function _X(t,e){return D(this,null,function*(){let i=q(t),n=e.batch.batchId;try{let r=yield KZ(i.localStore,e);KS(i,n,null),QS(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield Go(i,r)}catch(r){yield qs(r)}})}function bX(t,e,i){return D(this,null,function*(){let n=q(t);try{let r=yield function(s,a){let l=q(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(u=>(ae(u!==null),d=u.keys(),l.mutationQueue.removeMutationBatch(c,u))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(n.localStore,e);KS(n,e,i),QS(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),yield Go(n,r)}catch(r){yield qs(r)}})}function yX(t,e){return D(this,null,function*(){let i=q(t);Qs(i.remoteStore)||O("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let n=yield function(s){let a=q(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(i.localStore);if(n===-1)return void e.resolve();let r=i.Ma.get(n)||[];r.push(e),i.Ma.set(n,r)}catch(n){let r=Td(n,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function QS(t,e){(t.Ma.get(e)||[]).forEach(i=>{i.resolve()}),t.Ma.delete(e)}function KS(t,e,i){let n=q(t),r=n.Fa[n.currentUser.toKey()];if(r){let o=r.get(e);o&&(i?o.reject(i):o.resolve(),r=r.remove(e)),n.Fa[n.currentUser.toKey()]=r}}function bd(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(let n of t.Sa.get(e))t.wa.delete(n),i&&t.ya.La(n,i);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(n=>{t.va.containsKey(n)||yj(t,n)})}function yj(t,e){t.ba.delete(e.path.canonicalString());let i=t.Da.get(e);i!==null&&(vd(t.remoteStore,i),t.Da=t.Da.remove(e),t.Ca.delete(i),YS(t))}function lS(t,e,i){for(let n of i)n instanceof Q_?(t.va.addReference(n.key,e),wX(t,n)):n instanceof K_?(O("SyncEngine","Document no longer in limbo: "+n.key),t.va.removeReference(n.key,e),t.va.containsKey(n.key)||yj(t,n.key)):te()}function wX(t,e){let i=e.key,n=i.path.canonicalString();t.Da.get(i)||t.ba.has(n)||(O("SyncEngine","New document in limbo: "+i),t.ba.add(n),YS(t))}function YS(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let i=new G(We.fromString(e)),n=t.xa.next();t.Ca.set(n,new sS(i)),t.Da=t.Da.insert(i,n),lb(t.remoteStore,new md(en(Id(i.path)),n,"TargetPurposeLimboResolution",En._e))}}function Go(t,e,i){return D(this,null,function*(){let n=q(t),r=[],o=[],s=[];n.wa.isEmpty()||(n.wa.forEach((a,l)=>{s.push(n.Na(l,e,i).then(c=>{if((c||i)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);let d=BD.Ki(l.targetId,c);o.push(d)}}))}),yield Promise.all(s),n.ya.u_(r),yield function(l,c){return D(this,null,function*(){let d=q(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>C.forEach(c,h=>C.forEach(h.qi,m=>d.persistence.referenceDelegate.addReference(u,h.targetId,m)).next(()=>C.forEach(h.Qi,m=>d.persistence.referenceDelegate.removeReference(u,h.targetId,m)))))}catch(u){if(!Ws(u))throw u;O("LocalStore","Failed to update sequence numbers: "+u)}for(let u of c){let h=u.targetId;if(!u.fromCache){let m=d.ns.get(h),p=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(p);d.ns=d.ns.insert(h,_)}}})}(n.localStore,o))})}function xX(t,e){return D(this,null,function*(){let i=q(t);if(!i.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());let n=yield oj(i.localStore,e);i.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(l=>{l.reject(new F(S.CANCELLED,s))})}),o.Ma.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),yield Go(i,n.us)}})}function EX(t,e){let i=q(t),n=i.Ca.get(e);if(n&&n.pa)return ke().add(n.key);{let r=ke(),o=i.Sa.get(e);if(!o)return r;for(let s of o){let a=i.wa.get(s);r=r.unionWith(a.view.Ia)}return r}}function IX(t,e){return D(this,null,function*(){let i=q(t),n=yield V_(i.localStore,e.query,!0),r=e.view.fa(n);return i.isPrimaryClient&&lS(i,e.targetId,r.Va),r})}function CX(t,e){return D(this,null,function*(){let i=q(t);return cj(i.localStore,e).then(n=>Go(i,n))})}function DX(t,e,i,n){return D(this,null,function*(){let r=q(t),o=yield function(a,l){let c=q(a),d=q(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",u=>d.vn(u,l).next(h=>h?c.localDocuments.getDocuments(u,h):C.resolve(null)))}(r.localStore,e);o!==null?(i==="pending"?yield Dd(r.remoteStore):i==="acknowledged"||i==="rejected"?(KS(r,e,n||null),QS(r,e),function(a,l){q(q(a).mutationQueue).Mn(l)}(r.localStore,e)):te(),yield Go(r,o)):O("SyncEngine","Cannot apply mutation batch with id: "+e)})}function SX(t,e){return D(this,null,function*(){let i=q(t);if(cb(i),ZS(i),e===!0&&i.Oa!==!0){let n=i.sharedClientState.getAllActiveQueryTargets(),r=yield q2(i,n.toArray());i.Oa=!0,yield XD(i.remoteStore,!0);for(let o of r)lb(i.remoteStore,o)}else if(e===!1&&i.Oa!==!1){let n=[],r=Promise.resolve();i.Sa.forEach((o,s)=>{i.sharedClientState.isLocalQueryTarget(s)?n.push(s):r=r.then(()=>(bd(i,s),gd(i.localStore,s,!0))),vd(i.remoteStore,s)}),yield r,yield q2(i,n),function(s){let a=q(s);a.Ca.forEach((l,c)=>{vd(a.remoteStore,c)}),a.va.mr(),a.Ca=new Map,a.Da=new xt(G.comparator)}(i),i.Oa=!1,yield XD(i.remoteStore,!1)}})}function q2(t,e,i){return D(this,null,function*(){let n=q(t),r=[],o=[];for(let s of e){let a,l=n.Sa.get(s);if(l&&l.length!==0){a=yield pd(n.localStore,en(l[0]));for(let c of l){let d=n.wa.get(c),u=yield IX(n,d);u.snapshot&&o.push(u.snapshot)}}else{let c=yield lj(n.localStore,s);a=yield pd(n.localStore,c),yield WS(n,wj(c),s,!1,a.resumeToken)}r.push(a)}return n.ya.u_(o),r})}function wj(t){return yV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function TX(t){return function(i){return q(q(i).persistence).Bi()}(q(t).localStore)}function AX(t,e,i,n){return D(this,null,function*(){let r=q(t);if(r.Oa)return void O("SyncEngine","Ignoring unexpected query state notification.");let o=r.Sa.get(e);if(o&&o.length>0)switch(i){case"current":case"not-current":{let s=yield cj(r.localStore,xV(o[0])),a=Im.createSynthesizedRemoteEventForCurrentChange(e,i==="current",gi.EMPTY_BYTE_STRING);yield Go(r,s,a);break}case"rejected":yield gd(r.localStore,e,!0),bd(r,e,n);break;default:te()}})}function kX(t,e,i){return D(this,null,function*(){let n=cb(t);if(n.Oa){for(let r of e){if(n.Sa.has(r)&&n.sharedClientState.isActiveQueryTarget(r)){O("SyncEngine","Adding an already active target "+r);continue}let o=yield lj(n.localStore,r),s=yield pd(n.localStore,o);yield WS(n,wj(o),s.targetId,!1,s.resumeToken),lb(n.remoteStore,s)}for(let r of i)n.Sa.has(r)&&(yield gd(n.localStore,r,!1).then(()=>{vd(n.remoteStore,r),bd(n,r)}).catch(qs))}})}function cb(t){let e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vX.bind(null,e),e.ya.u_=dX.bind(null,e.eventManager),e.ya.La=uX.bind(null,e.eventManager),e}function ZS(t){let e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_X.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bX.bind(null,e),e}function MX(t,e,i){let n=q(t);(function(o,s,a){return D(this,null,function*(){try{let l=yield s.getMetadata();if(yield function(m,p){let _=q(m),y=Zt(p.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",E=>_.$r.getBundleMetadata(E,p.id)).then(E=>!!E&&E.createTime.compareTo(y)>=0)}(o.localStore,l))return yield s.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(vj(l));let c=new rS(l,o.localStore,s.serializer),d=yield s.Ba();for(;d;){let h=yield c.sa(d);h&&a._updateProgress(h),d=yield s.Ba()}let u=yield c.complete();return yield Go(o,u.aa,void 0),yield function(m,p){let _=q(m);return _.persistence.runTransaction("Save bundle","readwrite",y=>_.$r.saveBundleMetadata(y,p))}(o.localStore,l),a._completeWith(u.progress),Promise.resolve(u._a)}catch(l){return Gn("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(n,e,i).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}var Fm=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=Um(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,i){return null}createIndexBackfillerScheduler(e,i){return null}createLocalStore(e){return rj(this.persistence,new L_,e.initialUser,this.serializer)}createPersistence(e){return new O_(N_.Hr,this.serializer)}createSharedClientState(e){return new U_}terminate(){return D(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Z_=class t extends Fm{constructor(e,i,n){super(),this.ka=e,this.cacheSizeBytes=i,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){yield gy(t.prototype,this,"initialize").call(this,e),yield this.ka.initialize(this,e),yield ZS(this.ka.syncEngine),yield Dd(this.ka.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return rj(this.persistence,new L_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,i){let n=this.persistence.referenceDelegate.garbageCollector;return new CD(n,e.asyncQueue,i)}createIndexBackfillerScheduler(e,i){let n=new $C(i,this.persistence);return new zC(e.asyncQueue,n)}createPersistence(e){let i=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new jD(this.synchronizeTabs,i,e.clientId,n,e.asyncQueue,uj(),c_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new U_}},cS=class t extends Z_{constructor(e,i){super(e,i,!1),this.ka=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){return D(this,null,function*(){yield gy(t.prototype,this,"initialize").call(this,e);let i=this.ka.syncEngine;this.sharedClientState instanceof fm&&(this.sharedClientState.syncEngine={Zs:DX.bind(null,i),Xs:AX.bind(null,i),eo:kX.bind(null,i),Bi:TX.bind(null,i),Ys:CX.bind(null,i)},yield this.sharedClientState.start()),yield this.persistence.fi(n=>D(this,null,function*(){yield SX(this.ka.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let i=uj();if(!fm.D(i))throw new F(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let n=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fm(i,e.asyncQueue,n,e.clientId,e.initialUser)}},Pm=class{initialize(e,i){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>G2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=xX.bind(null,this.syncEngine),yield XD(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new tS}()}createDatastore(e){let i=Um(e.databaseInfo.databaseId),n=function(o){return new qD(o)}(e.databaseInfo);return function(o,s,a,l){return new KD(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return function(n,r,o,s,a){return new ZD(n,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,i=>G2(this.syncEngine,i,0),function(){return z_.D()?new z_:new HD}())}createSyncEngine(e,i){return function(r,o,s,a,l,c,d){let u=new aS(r,o,s,a,l,c);return d&&(u.Oa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return D(this,null,function*(){var e;yield function(n){return D(this,null,function*(){let r=q(n);O("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield Cd(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function W2(t,e=10240){let i=0;return{read(){return D(this,null,function*(){if(i<t.byteLength){let r={value:t.slice(i,i+e),done:!1};return i+=e,r}return{done:!0}})},cancel(){return D(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var yd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Kt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}};var dS=class{constructor(e,i){this.Ka=e,this.serializer=i,this.metadata=new ni,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(n=>{n&&n.ra()?this.metadata.resolve(n.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n?.na)}`))},n=>this.metadata.reject(n))}close(){return this.Ka.cancel()}getMetadata(){return D(this,null,function*(){return this.metadata.promise})}Ba(){return D(this,null,function*(){return yield this.getMetadata(),this.Ua()})}Ua(){return D(this,null,function*(){let e=yield this.Wa();if(e===null)return null;let i=this.$a.decode(e),n=Number(i);isNaN(n)&&this.Ga(`length string (${i}) is not valid number`);let r=yield this.za(n);return new nS(JSON.parse(r),e.length+n)})}ja(){return this.buffer.findIndex(e=>e===123)}Wa(){return D(this,null,function*(){for(;this.ja()<0&&!(yield this.Ha()););if(this.buffer.length===0)return null;let e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");let i=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),i})}za(e){return D(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ha())&&this.Ga("Reached the end of bundle when more is expected.");let i=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),i})}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){return D(this,null,function*(){let e=yield this.Ka.read();if(!e.done){let i=new Uint8Array(this.buffer.length+e.value.length);i.set(this.buffer),i.set(e.value,this.buffer.length),this.buffer=i}return e.done})}};var uS=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return D(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new F(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let i=yield function(r,o){return D(this,null,function*(){let s=q(r),a={documents:o.map(u=>Dm(s.serializer,u))},l=yield s.vo("BatchGetDocuments",s.serializer.databaseId,We.emptyPath(),a,o.length),c=new Map;l.forEach(u=>{let h=LZ(s.serializer,u);c.set(h.key.toString(),h)});let d=[];return o.forEach(u=>{let h=c.get(u.toString());ae(!!h),d.push(h)}),d})}(this.datastore,e);return i.forEach(n=>this.recordVersion(n)),i})}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return D(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,n)=>{let r=G.fromPath(n);this.mutations.push(new wm(r,this.precondition(r)))}),yield function(n,r){return D(this,null,function*(){let o=q(n),s={writes:r.map(a=>Sm(o.serializer,a))};yield o.So("Commit",o.serializer.databaseId,We.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw te();i=ce.min()}let n=this.readVersions.get(e.key.toString());if(n){if(!i.isEqual(n))throw new F(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){let i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(ce.min())?jt.exists(!1):jt.updateTime(i):jt.none()}preconditionForUpdate(e){let i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(ce.min()))throw new F(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jt.updateTime(i)}return jt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var hS=class{constructor(e,i,n,r,o){this.asyncQueue=e,this.datastore=i,this.options=n,this.updateFunction=r,this.deferred=o,this.Ja=n.maxAttempts,this.jo=new Mm(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(()=>D(this,null,function*(){let e=new uS(this.datastore),i=this.Xa(e);i&&i.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(r=>{this.eu(r)}))}).catch(n=>{this.eu(n)})}))}Xa(e){try{let i=this.updateFunction(e);return!Lm(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){let i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!NV(i)}return!1}};var mS=class{constructor(e,i,n,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=ii.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,o=>D(this,null,function*(){O("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(O("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){let n=Td(i,"Failed to shutdown persistence");e.reject(n)}})),e.promise}};function d_(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");let i=t.configuration;yield e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener(r=>D(this,null,function*(){n.isEqual(r)||(yield oj(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function fS(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let i=yield XS(t);O("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,t.configuration),t.setCredentialChangeListener(n=>$2(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,r)=>$2(e.remoteStore,r)),t._onlineComponents=e})}function xj(t){return t.name==="FirebaseError"?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function XS(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{yield d_(t,t._uninitializedComponentsProvider._offline)}catch(e){let i=e;if(!xj(i))throw i;Gn("Error using user provided cache. Falling back to memory cache: "+i),yield d_(t,new Fm)}}else O("FirestoreClient","Using default OfflineComponentProvider"),yield d_(t,new Fm);return t._offlineComponents})}function db(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),yield fS(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),yield fS(t,new Pm))),t._onlineComponents})}function Ej(t){return XS(t).then(e=>e.persistence)}function JS(t){return XS(t).then(e=>e.localStore)}function Ij(t){return db(t).then(e=>e.remoteStore)}function eT(t){return db(t).then(e=>e.syncEngine)}function RX(t){return db(t).then(e=>e.datastore)}function wd(t){return D(this,null,function*(){let e=yield db(t),i=e.eventManager;return i.onListen=hX.bind(null,e.syncEngine),i.onUnlisten=fX.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=mX.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pX.bind(null,e.syncEngine),i})}function FX(t){return t.asyncQueue.enqueue(()=>D(this,null,function*(){let e=yield Ej(t),i=yield Ij(t);return e.setNetworkEnabled(!0),function(r){let o=q(r);return o.v_.delete(0),zm(o)}(i)}))}function PX(t){return t.asyncQueue.enqueue(()=>D(this,null,function*(){let e=yield Ej(t),i=yield Ij(t);return e.setNetworkEnabled(!1),function(r){return D(this,null,function*(){let o=q(r);o.v_.add(0),yield Cd(o),o.x_.set("Offline")})}(i)}))}function OX(t,e){let i=new ni;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o,s){return D(this,null,function*(){try{let a=yield function(c,d){let u=q(c);return u.persistence.runTransaction("read document","readonly",h=>u.localDocuments.getDocument(h,d))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new F(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=Td(a,`Failed to get document '${o} from cache`);s.reject(l)}})}(yield JS(t),e,i)})),i.promise}function Cj(t,e,i={}){let n=new ni;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,c){let d=new yd({next:h=>{s.enqueueAndForget(()=>GS(o,u));let m=h.docs.has(a);!m&&h.fromCache?c.reject(new F(S.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new F(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new Rm(Id(a.path),d,{includeMetadataChanges:!0,ta:!0});return HS(o,u)}(yield wd(t),t.asyncQueue,e,i,n)})),n.promise}function NX(t,e){let i=new ni;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o,s){return D(this,null,function*(){try{let a=yield V_(r,o,!0),l=new Y_(o,a.hs),c=l.Ta(a.documents),d=l.applyChanges(c,!1);s.resolve(d.snapshot)}catch(a){let l=Td(a,`Failed to execute query '${o} against cache`);s.reject(l)}})}(yield JS(t),e,i)})),i.promise}function Dj(t,e,i={}){let n=new ni;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,c){let d=new yd({next:h=>{s.enqueueAndForget(()=>GS(o,u)),h.fromCache&&l.source==="server"?c.reject(new F(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new Rm(a,d,{includeMetadataChanges:!0,ta:!0});return HS(o,u)}(yield wd(t),t.asyncQueue,e,i,n)})),n.promise}function LX(t,e){let i=new yd(e);return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o){q(r).W_.add(o),o.next()}(yield wd(t),i)})),()=>{i.Qa(),t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o){q(r).W_.delete(o)}(yield wd(t),i)}))}}function VX(t,e,i,n){let r=function(s,a){let l;return l=typeof s=="string"?VV().encode(s):s,function(d,u){return new dS(d,u)}(function(d,u){if(d instanceof Uint8Array)return W2(d,u);if(d instanceof ArrayBuffer)return W2(new Uint8Array(d),u);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(i,Um(e));t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){MX(yield eT(t),r,n)}))}function jX(t,e){return t.asyncQueue.enqueue(()=>D(this,null,function*(){return function(n,r){let o=q(n);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield JS(t),e)}))}function Sj(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Q2=new Map;function tT(t,e,i){if(!i)throw new F(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iT(t,e,i,n){if(e===!0&&n===!0)throw new F(S.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function K2(t){if(!G.isDocumentKey(t))throw new F(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y2(t){if(G.isDocumentKey(t))throw new F(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ub(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Qe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=ub(t);throw new F(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function Tj(t,e){if(e<=0)throw new F(S.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var X_=class{constructor(e){var i,n;if(e.host===void 0){if(e.ssl!==void 0)throw new F(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sj((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},el=class{constructor(e,i,n,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RC;switch(n.type){case"firstParty":return new NC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new F(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=Q2.get(i);n&&(O("ComponentProvider","Removing Datastore"),Q2.delete(i),n.terminate())}(this),Promise.resolve()}};function Aj(t,e,i,n={}){var r;let o=(t=Qe(t,el))._getSettings(),s=`${e}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Gn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=ii.MOCK_USER;else{a=df(n.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new F(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ii(c)}t._authCredentials=new FC(new u_(a,l))}}var Ci=class t{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},vt=class t{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},no=class t extends Ci{constructor(e,i,n){super(e,i,Id(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function nT(t,e,...i){if(t=Xe(t),tT("collection","path",e),t instanceof el){let n=We.fromString(e,...i);return Y2(n),new no(t,null,n)}{if(!(t instanceof vt||t instanceof no))throw new F(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(We.fromString(e,...i));return Y2(n),new no(t.firestore,null,n)}}function kj(t,e){if(t=Qe(t,el),tT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new F(S.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ci(t,null,function(n){return new yr(We.emptyPath(),n)}(e))}function $m(t,e,...i){if(t=Xe(t),arguments.length===1&&(e=h_.newId()),tT("doc","path",e),t instanceof el){let n=We.fromString(e,...i);return K2(n),new vt(t,null,new G(n))}{if(!(t instanceof vt||t instanceof no))throw new F(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(We.fromString(e,...i));return K2(n),new vt(t.firestore,t instanceof no?t.converter:null,new G(n))}}function rT(t,e){return t=Xe(t),e=Xe(e),(t instanceof vt||t instanceof no)&&(e instanceof vt||e instanceof no)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function oT(t,e){return t=Xe(t),e=Xe(e),t instanceof Ci&&e instanceof Ci&&t.firestore===e.firestore&&jm(t._query,e._query)&&t.converter===e.converter}var pS=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Mm(this,"async_queue_retry"),this.cu=()=>{let i=c_();i&&O("AsyncQueue","Visibility state changed to "+i.visibilityState),this.jo.Ko()};let e=c_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let i=c_();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let i=new ni;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return D(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ws(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let i=this.nu.then(()=>(this._u=!0,e().catch(n=>{this.ou=n,this._u=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Kt("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this._u=!1,n))));return this.nu=i,i}enqueueAfterDelay(e,i,n){this.lu(),this.uu.indexOf(e)>-1&&(i=0);let r=JD.createAndSchedule(this,e,i,n,o=>this.Iu(o));return this.su.push(r),r}lu(){this.ou&&te()}verifyOperationInProgress(){}Tu(){return D(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let i of this.su)if(i.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this.su)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let i=this.su.indexOf(e);this.su.splice(i,1)}};function gS(t){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var vS=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,n){this._progressObserver={next:e,error:i,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var Mj=-1,Ct=class extends el{constructor(e,i,n,r){super(e,i,n,r),this.type="firestore",this._queue=function(){return new pS}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rj(this),this._firestoreClient.terminate()}};function ci(t){return t._firestoreClient||Rj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rj(t){var e,i,n;let r=t._freezeSettings(),o=function(a,l,c,d){return new HC(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Sj(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new mS(t._authCredentials,t._appCheckCredentials,t._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function Fj(t,e){zj(t=Qe(t,Ct));let i=ci(t);if(i._uninitializedComponentsProvider)throw new F(S.FAILED_PRECONDITION,"SDK cache is already specified.");Gn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new Pm;return Oj(i,r,new Z_(r,n.cacheSizeBytes,e?.forceOwnership))}function Pj(t){zj(t=Qe(t,Ct));let e=ci(t);if(e._uninitializedComponentsProvider)throw new F(S.FAILED_PRECONDITION,"SDK cache is already specified.");Gn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),n=new Pm;return Oj(e,n,new cS(n,i.cacheSizeBytes))}function Oj(t,e,i){let n=new ni;return t.asyncQueue.enqueue(()=>D(this,null,function*(){try{yield d_(t,i),yield fS(t,e),n.resolve()}catch(r){let o=r;if(!xj(o))throw o;Gn("Error enabling indexeddb cache. Falling back to memory cache: "+o),n.reject(o)}})).then(()=>n.promise)}function Nj(t){if(t._initialized&&!t._terminated)throw new F(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new ni;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{yield function(n){return D(this,null,function*(){if(!jo.D())return Promise.resolve();let r=n+"main";yield jo.delete(r)})}(BS(t._databaseId,t._persistenceKey)),e.resolve()}catch(i){e.reject(i)}})),e.promise}function Lj(t){return function(i){let n=new ni;return i.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return yX(yield eT(i),n)})),n.promise}(ci(t=Qe(t,Ct)))}function Vj(t){return FX(ci(t=Qe(t,Ct)))}function jj(t){return PX(ci(t=Qe(t,Ct)))}function Bj(t,e){let i=ci(t=Qe(t,Ct)),n=new vS;return VX(i,t._databaseId,e,n),n}function Uj(t,e){return jX(ci(t=Qe(t,Ct)),e).then(i=>i?new Ci(t,null,i.query):null)}function zj(t){if(t._initialized||t._terminated)throw new F(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ao=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(gi.fromBase64String(e))}catch(i){throw new F(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new t(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xr=class{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new F(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $o=class{constructor(e){this._methodName=e}};var tl=class{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new F(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new F(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var BX=/^__.*__$/,_S=class{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new $s(e,this.data,i,this.fieldTransforms)}},J_=class{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}};function $j(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var eb=class t{constructor(e,i,n,r,o,s){this.settings=e,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return tb(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if($j(this.Vu)&&BX.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},bS=class{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=n||Um(e)}Cu(e,i,n,r=!1){return new eb({Vu:e,methodName:i,Du:n,path:Yt.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ol(t){let e=t._freezeSettings(),i=Um(t._databaseId);return new bS(t._databaseId,!!e.ignoreUndefinedProperties,i)}function hb(t,e,i,n,r,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,i,r);lT("Data must be an object, but it was:",s,n);let a=qj(n,s),l,c;if(o.merge)l=new In(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let u of o.mergeFields){let h=IS(e,u,i);if(!s.contains(h))throw new F(S.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Qj(d,h)||d.push(h)}l=new In(d),c=s.fieldTransforms.filter(u=>l.covers(u.field))}else l=null,c=s.fieldTransforms;return new _S(new Li(a),l,c)}var Om=class t extends $o{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Hj(t,e,i){return new eb({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var yS=class t extends $o{_toFieldTransform(e){return new Za(e.path,new Us)}isEqual(e){return e instanceof t}},wS=class t extends $o{constructor(e,i){super(e),this.vu=i}_toFieldTransform(e){let i=Hj(this,e,!0),n=this.vu.map(o=>sl(o,i)),r=new Uo(n);return new Za(e.path,r)}isEqual(e){return e instanceof t&&by(this.vu,e.vu)}},xS=class t extends $o{constructor(e,i){super(e),this.vu=i}_toFieldTransform(e){let i=Hj(this,e,!0),n=this.vu.map(o=>sl(o,i)),r=new zo(n);return new Za(e.path,r)}isEqual(e){return e instanceof t&&by(this.vu,e.vu)}},ES=class t extends $o{constructor(e,i){super(e),this.Fu=i}_toFieldTransform(e){let i=new zs(e.serializer,AV(e.serializer,this.Fu));return new Za(e.path,i)}isEqual(e){return e instanceof t&&this.Fu===e.Fu}};function sT(t,e,i,n){let r=t.Cu(1,e,i);lT("Data must be an object, but it was:",r,n);let o=[],s=Li.empty();rl(n,(l,c)=>{let d=cT(e,l,i);c=Xe(c);let u=r.yu(d);if(c instanceof Om)o.push(d);else{let h=sl(c,u);h!=null&&(o.push(d),s.set(d,h))}});let a=new In(o);return new J_(s,a,r.fieldTransforms)}function aT(t,e,i,n,r,o){let s=t.Cu(1,e,i),a=[IS(e,n,i)],l=[r];if(o.length%2!=0)throw new F(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(IS(e,o[h])),l.push(o[h+1]);let c=[],d=Li.empty();for(let h=a.length-1;h>=0;--h)if(!Qj(c,a[h])){let m=a[h],p=l[h];p=Xe(p);let _=s.yu(m);if(p instanceof Om)c.push(m);else{let y=sl(p,_);y!=null&&(c.push(m),d.set(m,y))}}let u=new In(c);return new J_(d,u,s.fieldTransforms)}function Gj(t,e,i,n=!1){return sl(i,t.Cu(n?4:3,e))}function sl(t,e){if(Wj(t=Xe(t)))return lT("Unsupported field value:",e,t),qj(t,e);if(t instanceof $o)return function(n,r){if(!$j(r.Vu))throw r.Su(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${n._methodName}() is not currently supported inside arrays`);let o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(n,r){let o=[],s=0;for(let a of n){let l=sl(a,r.wu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if((n=Xe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AV(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let o=kt.fromDate(n);return{timestampValue:hd(r.serializer,o)}}if(n instanceof kt){let o=new kt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:hd(r.serializer,o)}}if(n instanceof tl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ao)return{bytesValue:jV(r.serializer,n._byteString)};if(n instanceof vt){let o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:LS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Su(`Unsupported field value: ${ub(n)}`)}(t,e)}function qj(t,e){let i={};return uV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(t,(n,r)=>{let o=sl(r,e.fu(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function Wj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof tl||t instanceof ao||t instanceof vt||t instanceof $o)}function lT(t,e,i){if(!Wj(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=ub(i);throw n==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+n)}}function IS(t,e,i){if((e=Xe(e))instanceof xr)return e._internalPath;if(typeof e=="string")return cT(t,e);throw tb("Field path arguments must be of type string or ",t,!1,void 0,i)}var UX=new RegExp("[~\\*/\\[\\]]");function cT(t,e,i){if(e.search(UX)>=0)throw tb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new xr(...e.split("."))._internalPath}catch{throw tb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function tb(t,e,i,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${r}`),l+=")"),new F(S.INVALID_ARGUMENT,a+t+l)}function Qj(t,e){return t.some(i=>i.isEqual(e))}var il=class{constructor(e,i,n,r,o){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new CS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let i=this._document.data.field(mb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}},CS=class extends il{data(){return super.data()}};function mb(t,e){return typeof e=="string"?cT(t,e):e instanceof xr?e._internalPath:e._delegate._internalPath}function Kj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nm=class{},nl=class extends Nm{};function qo(t,e,...i){let n=[];e instanceof Nm&&n.push(e),n=n.concat(i),function(o){let s=o.filter(l=>l instanceof DS).length,a=o.filter(l=>l instanceof ib).length;if(s>1||s>0&&a>0)throw new F(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)t=r._apply(t);return t}var ib=class t extends nl{constructor(e,i,n){super(),this._field=e,this._op=i,this._value=n,this.type="where"}static _create(e,i,n){return new t(e,i,n)}_apply(e){let i=this._parse(e);return oB(e._query,i),new Ci(e.firestore,e.converter,nD(e._query,i))}_parse(e){let i=ol(e.firestore);return function(o,s,a,l,c,d,u){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){X2(u,d);let m=[];for(let p of u)m.push(Z2(l,o,p));h={arrayValue:{values:m}}}else h=Z2(l,o,u)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||X2(u,d),h=Gj(a,s,u,d==="in"||d==="not-in");return He.create(c,d,h)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}};function Yj(t,e,i){let n=e,r=mb("where",t);return ib._create(r,n,i)}var DS=class t extends Nm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new t(e,i)}_parse(e){let i=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:lt.create(i,this._getOperator())}_apply(e){let i=this._parse(e);return i.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)oB(s,l),s=nD(s,l)}(e._query,i),new Ci(e.firestore,e.converter,nD(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var SS=class t extends nl{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new t(e,i)}_apply(e){let i=function(r,o,s){if(r.startAt!==null)throw new F(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new F(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ka(o,s)}(e._query,this._field,this._direction);return new Ci(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new yr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}};function Zj(t,e="asc"){let i=e,n=mb("orderBy",t);return SS._create(n,i)}var nb=class t extends nl{constructor(e,i,n){super(),this.type=e,this._limit=i,this._limitType=n}static _create(e,i,n){return new t(e,i,n)}_apply(e){return new Ci(e.firestore,e.converter,x_(e._query,this._limit,this._limitType))}};function Xj(t){return Tj("limit",t),nb._create("limit",t,"F")}function Jj(t){return Tj("limitToLast",t),nb._create("limitToLast",t,"L")}var rb=class t extends nl{constructor(e,i,n){super(),this.type=e,this._docOrFields=i,this._inclusive=n}static _create(e,i,n){return new t(e,i,n)}_apply(e){let i=rB(e,this.type,this._docOrFields,this._inclusive);return new Ci(e.firestore,e.converter,function(r,o){return new yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,i))}};function eB(...t){return rb._create("startAt",t,!0)}function tB(...t){return rb._create("startAfter",t,!1)}var ob=class t extends nl{constructor(e,i,n){super(),this.type=e,this._docOrFields=i,this._inclusive=n}static _create(e,i,n){return new t(e,i,n)}_apply(e){let i=rB(e,this.type,this._docOrFields,this._inclusive);return new Ci(e.firestore,e.converter,function(r,o){return new yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,i))}};function iB(...t){return ob._create("endBefore",t,!1)}function nB(...t){return ob._create("endAt",t,!0)}function rB(t,e,i,n){if(i[0]=Xe(i[0]),i[0]instanceof il)return function(o,s,a,l,c){if(!l)throw new F(S.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let u of rd(o))if(u.field.isKeyField())d.push(Qa(s,l.key));else{let h=l.data.field(u.field);if(ab(h))throw new F(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let m=u.field.canonicalString();throw new F(S.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(h)}return new oo(d,c)}(t._query,t.firestore._databaseId,e,i[0]._document,n);{let r=ol(t.firestore);return function(s,a,l,c,d,u){let h=s.explicitOrderBy;if(d.length>h.length)throw new F(S.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let m=[];for(let p=0;p<d.length;p++){let _=d[p];if(h[p].field.isKeyField()){if(typeof _!="string")throw new F(S.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!OS(s)&&_.indexOf("/")!==-1)throw new F(S.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);let y=s.path.child(We.fromString(_));if(!G.isDocumentKey(y))throw new F(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);let E=new G(y);m.push(Qa(a,E))}else{let y=Gj(l,c,_);m.push(y)}}return new oo(m,u)}(t._query,t.firestore._databaseId,r,e,i,n)}}function Z2(t,e,i){if(typeof(i=Xe(i))=="string"){if(i==="")throw new F(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OS(e)&&i.indexOf("/")!==-1)throw new F(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=e.path.child(We.fromString(i));if(!G.isDocumentKey(n))throw new F(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Qa(t,new G(n))}if(i instanceof vt)return Qa(t,i._key);throw new F(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ub(i)}.`)}function X2(t,e){if(!Array.isArray(t)||t.length===0)throw new F(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oB(t,e){let i=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new F(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}var xd=class{convertValue(e,i="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw te()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){let n={};return rl(e,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(e){return new tl(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":let n=FS(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(_m(e));default:return null}}convertTimestamp(e){let i=Bo(e);return new kt(i.seconds,i.nanos)}convertDocumentKey(e,i){let n=We.fromString(e);ae(YV(n));let r=new js(n.get(1),n.get(3)),o=new G(n.popFirst(5));return r.isEqual(i)||Kt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function fb(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}var TS=class extends xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,i)}};var Vo=class{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wn=class extends il{constructor(e,i,n,r,o,s){super(e,i,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let i=new Ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){let n=this._document.data.field(mb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},Ns=class extends Wn{data(e={}){return super.data(e)}},Er=class{constructor(e,i,n,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new Vo(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new Ns(this._firestore,this._userDataWriter,n.key,n,new Vo(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new F(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new Ns(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Vo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Ns(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Vo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:zX(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function zX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function dT(t,e){return t instanceof Wn&&e instanceof Wn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Er&&e instanceof Er&&t._firestore===e._firestore&&oT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function sB(t){t=Qe(t,vt);let e=Qe(t.firestore,Ct);return Cj(ci(e),t._key).then(i=>fT(e,t,i))}var Ho=class extends xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,i)}};function aB(t){t=Qe(t,vt);let e=Qe(t.firestore,Ct),i=ci(e),n=new Ho(e);return OX(i,t._key).then(r=>new Wn(e,n,t._key,r,new Vo(r!==null&&r.hasLocalMutations,!0),t.converter))}function lB(t){t=Qe(t,vt);let e=Qe(t.firestore,Ct);return Cj(ci(e),t._key,{source:"server"}).then(i=>fT(e,t,i))}function cB(t){t=Qe(t,Ci);let e=Qe(t.firestore,Ct),i=ci(e),n=new Ho(e);return Kj(t._query),Dj(i,t._query).then(r=>new Er(e,n,t,r))}function dB(t){t=Qe(t,Ci);let e=Qe(t.firestore,Ct),i=ci(e),n=new Ho(e);return NX(i,t._query).then(r=>new Er(e,n,t,r))}function uB(t){t=Qe(t,Ci);let e=Qe(t.firestore,Ct),i=ci(e),n=new Ho(e);return Dj(i,t._query,{source:"server"}).then(r=>new Er(e,n,t,r))}function uT(t,e,i){t=Qe(t,vt);let n=Qe(t.firestore,Ct),r=fb(t.converter,e,i);return Ad(n,[hb(ol(n),"setDoc",t._key,r,t.converter!==null,i).toMutation(t._key,jt.none())])}function hT(t,e,i,...n){t=Qe(t,vt);let r=Qe(t.firestore,Ct),o=ol(r),s;return s=typeof(e=Xe(e))=="string"||e instanceof xr?aT(o,"updateDoc",t._key,e,i,n):sT(o,"updateDoc",t._key,e),Ad(r,[s.toMutation(t._key,jt.exists(!0))])}function hB(t){return Ad(Qe(t.firestore,Ct),[new Hs(t._key,jt.none())])}function mB(t,e){let i=Qe(t.firestore,Ct),n=$m(t),r=fb(t.converter,e);return Ad(i,[hb(ol(t.firestore),"addDoc",n._key,r,t.converter!==null,{}).toMutation(n._key,jt.exists(!1))]).then(()=>n)}function mT(t,...e){var i,n,r;t=Xe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gS(e[s])){let u=e[s];e[s]=(i=u.next)===null||i===void 0?void 0:i.bind(u),e[s+1]=(n=u.error)===null||n===void 0?void 0:n.bind(u),e[s+2]=(r=u.complete)===null||r===void 0?void 0:r.bind(u)}let l,c,d;if(t instanceof vt)c=Qe(t.firestore,Ct),d=Id(t._key.path),l={next:u=>{e[s]&&e[s](fT(c,t,u))},error:e[s+1],complete:e[s+2]};else{let u=Qe(t,Ci);c=Qe(u.firestore,Ct),d=u._query;let h=new Ho(c);l={next:m=>{e[s]&&e[s](new Er(c,h,u,m))},error:e[s+1],complete:e[s+2]},Kj(t._query)}return function(h,m,p,_){let y=new yd(_),E=new Rm(m,y,p);return h.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return HS(yield wd(h),E)})),()=>{y.Qa(),h.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return GS(yield wd(h),E)}))}}(ci(c),d,a,l)}function fB(t,e){return LX(ci(t=Qe(t,Ct)),gS(e)?e:{next:e})}function Ad(t,e){return function(n,r){let o=new ni;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return gX(yield eT(n),r,o)})),o.promise}(ci(t),e)}function fT(t,e,i){let n=i.docs.get(e._key),r=new Ho(t);return new Wn(t,r,e._key,n,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}var $X={maxAttempts:5};var sb=class{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ol(e)}set(e,i,n){this._verifyNotCommitted();let r=Ps(e,this._firestore),o=fb(r.converter,i,n),s=hb(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,n);return this._mutations.push(s.toMutation(r._key,jt.none())),this}update(e,i,n,...r){this._verifyNotCommitted();let o=Ps(e,this._firestore),s;return s=typeof(i=Xe(i))=="string"||i instanceof xr?aT(this._dataReader,"WriteBatch.update",o._key,i,n,r):sT(this._dataReader,"WriteBatch.update",o._key,i),this._mutations.push(s.toMutation(o._key,jt.exists(!0))),this}delete(e){this._verifyNotCommitted();let i=Ps(e,this._firestore);return this._mutations=this._mutations.concat(new Hs(i._key,jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ps(t,e){if((t=Xe(t)).firestore!==e)throw new F(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var AS=class extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=ol(i)}get(i){let n=Ps(i,this._firestore),r=new TS(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return te();let s=o[0];if(s.isFoundDocument())return new il(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new il(this._firestore,r,n._key,null,n.converter);throw te()})}set(i,n,r){let o=Ps(i,this._firestore),s=fb(o.converter,n,r),a=hb(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(i,n,r,...o){let s=Ps(i,this._firestore),a;return a=typeof(n=Xe(n))=="string"||n instanceof xr?aT(this._dataReader,"Transaction.update",s._key,n,r,o):sT(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(i){let n=Ps(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){let i=Ps(e,this._firestore),n=new Ho(this._firestore);return super.get(e).then(r=>new Wn(this._firestore,n,i._key,r._document,new Vo(!1,!1),i.converter))}};function pB(t,e,i){t=Qe(t,Ct);let n=Object.assign(Object.assign({},$X),i);return function(o){if(o.maxAttempts<1)throw new F(S.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(o,s,a){let l=new ni;return o.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){let c=yield RX(o);new hS(o.asyncQueue,c,a,s,l).Ya()})),l.promise}(ci(t),r=>e(new AS(t,r)),n)}function gB(){return new Om("deleteField")}function vB(){return new yS("serverTimestamp")}function _B(...t){return new wS("arrayUnion",t)}function bB(...t){return new xS("arrayRemove",t)}function yB(t){return new ES("increment",t)}(function(e,i=!0){(function(r){Ed=r})(ff),ta(new Zn("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),a=new Ct(new PC(n.getProvider("auth-internal")),new VC(n.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(c.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xn(JL,"4.6.0",e),Xn(JL,"4.6.0","esm2017")})();var HX="@firebase/firestore-compat",GX="0.3.29";function yT(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new F("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function wB(){if(typeof Uint8Array>"u")throw new F("unimplemented","Uint8Arrays are not available in this environment.")}function xB(){if(!hV())throw new F("unimplemented","Blobs are unavailable in Firestore in this environment.")}var pb=class t{constructor(e){this._delegate=e}static fromBase64String(e){return xB(),new t(ao.fromBase64String(e))}static fromUint8Array(e){return wB(),new t(ao.fromUint8Array(e))}toBase64(){return xB(),this._delegate.toBase64()}toUint8Array(){return wB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function pT(t){return qX(t,["next","error","complete"])}function qX(t,e){if(typeof t!="object"||t===null)return!1;let i=t;for(let n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}var gT=class{enableIndexedDbPersistence(e,i){return Fj(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return Pj(e._delegate)}clearIndexedDbPersistence(e){return Nj(e._delegate)}},gb=class{constructor(e,i,n){this._delegate=i,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof js||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&Gn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},i),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,i,n={}){Aj(this._delegate,e,i,n)}enableNetwork(){return Vj(this._delegate)}disableNetwork(){return jj(this._delegate)}enablePersistence(e){let i=!1,n=!1;return e&&(i=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,iT("synchronizeTabs",i,"experimentalForceOwningTab",n)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Lj(this._delegate)}onSnapshotsInSync(e){return fB(this._delegate,e)}get app(){if(!this._appCompat)throw new F("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rd(this,nT(this._delegate,e))}catch(i){throw tn(i,"collection()","Firestore.collection()")}}doc(e){try{return new lo(this,$m(this._delegate,e))}catch(i){throw tn(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dl(this,kj(this._delegate,e))}catch(i){throw tn(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return pB(this._delegate,i=>e(new vb(this,i)))}batch(){return ci(this._delegate),new _b(new sb(this._delegate,e=>Ad(this._delegate,e)))}loadBundle(e){return Bj(this._delegate,e)}namedQuery(e){return Uj(this._delegate,e).then(i=>i?new dl(this,i):null)}},kd=class extends xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new pb(new ao(e))}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return lo.forKey(i,this.firestore,null)}};function WX(t){J2(t)}var vb=class{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new kd(e)}get(e){let i=al(e);return this._delegate.get(i).then(n=>new ll(this._firestore,new Wn(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,i.converter)))}set(e,i,n){let r=al(e);return n?(yT("Transaction.set",n),this._delegate.set(r,i,n)):this._delegate.set(r,i),this}update(e,i,n,...r){let o=al(e);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,n,...r),this}delete(e){let i=al(e);return this._delegate.delete(i),this}},_b=class{constructor(e){this._delegate=e}set(e,i,n){let r=al(e);return n?(yT("WriteBatch.set",n),this._delegate.set(r,i,n)):this._delegate.set(r,i),this}update(e,i,n,...r){let o=al(e);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,n,...r),this}delete(e){let i=al(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}},Md=class t{constructor(e,i,n){this._firestore=e,this._userDataWriter=i,this._delegate=n}fromFirestore(e,i){let n=new Ns(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cl(this._firestore,n),i??{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){let n=t.INSTANCES,r=n.get(e);r||(r=new WeakMap,n.set(e,r));let o=r.get(i);return o||(o=new t(e,new kd(e),i),r.set(i,o)),o}};Md.INSTANCES=new WeakMap;var lo=class t{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new kd(e)}static forPath(e,i,n){if(e.length%2!==0)throw new F("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(i,new vt(i._delegate,n,new G(e)))}static forKey(e,i,n){return new t(i,new vt(i._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Rd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rd(this.firestore,nT(this._delegate,e))}catch(i){throw tn(i,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Xe(e),e instanceof vt?rT(this._delegate,e):!1}set(e,i){i=yT("DocumentReference.set",i);try{return i?uT(this._delegate,e,i):uT(this._delegate,e)}catch(n){throw tn(n,"setDoc()","DocumentReference.set()")}}update(e,i,...n){try{return arguments.length===1?hT(this._delegate,e):hT(this._delegate,e,i,...n)}catch(r){throw tn(r,"updateDoc()","DocumentReference.update()")}}delete(){return hB(this._delegate)}onSnapshot(...e){let i=EB(e),n=IB(e,r=>new ll(this.firestore,new Wn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return mT(this._delegate,i,n)}get(e){let i;return e?.source==="cache"?i=aB(this._delegate):e?.source==="server"?i=lB(this._delegate):i=sB(this._delegate),i.then(n=>new ll(this.firestore,new Wn(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Md.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function tn(t,e,i){return t.message=t.message.replace(e,i),t}function EB(t){for(let e of t)if(typeof e=="object"&&!pT(e))return e;return{}}function IB(t,e){var i,n;let r;return pT(t[0])?r=t[0]:pT(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(i=r.error)===null||i===void 0?void 0:i.bind(r),complete:(n=r.complete)===null||n===void 0?void 0:n.bind(r)}}var ll=class{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new lo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return dT(this._delegate,e._delegate)}},cl=class extends ll{data(e){let i=this._delegate.data(e);return this._delegate._converter||eV(i!==void 0,"Document in a QueryDocumentSnapshot should exist"),i}},dl=class t{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new kd(e)}where(e,i,n){try{return new t(this.firestore,qo(this._delegate,Yj(e,i,n)))}catch(r){throw tn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new t(this.firestore,qo(this._delegate,Zj(e,i)))}catch(n){throw tn(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,qo(this._delegate,Xj(e)))}catch(i){throw tn(i,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,qo(this._delegate,Jj(e)))}catch(i){throw tn(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,qo(this._delegate,eB(...e)))}catch(i){throw tn(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,qo(this._delegate,tB(...e)))}catch(i){throw tn(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,qo(this._delegate,iB(...e)))}catch(i){throw tn(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,qo(this._delegate,nB(...e)))}catch(i){throw tn(i,"endAt()","Query.endAt()")}}isEqual(e){return oT(this._delegate,e._delegate)}get(e){let i;return e?.source==="cache"?i=dB(this._delegate):e?.source==="server"?i=uB(this._delegate):i=cB(this._delegate),i.then(n=>new Hm(this.firestore,new Er(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){let i=EB(e),n=IB(e,r=>new Hm(this.firestore,new Er(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return mT(this._delegate,i,n)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Md.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},vT=class{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new cl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Hm=class{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new dl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new vT(this._firestore,i))}forEach(e,i){this._delegate.forEach(n=>{e.call(i,new cl(this._firestore,n))})}isEqual(e){return dT(this._delegate,e._delegate)}},Rd=class t extends dl{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new lo(this.firestore,e):null}doc(e){try{return e===void 0?new lo(this.firestore,$m(this._delegate)):new lo(this.firestore,$m(this._delegate,e))}catch(i){throw tn(i,"doc()","CollectionReference.doc()")}}add(e){return mB(this._delegate,e).then(i=>new lo(this.firestore,i))}isEqual(e){return rT(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Md.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function al(t){return Qe(t,vt)}var _T=class t{constructor(...e){this._delegate=new xr(...e)}static documentId(){return new t(Yt.keyField().canonicalString())}isEqual(e){return e=Xe(e),e instanceof xr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var bT=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=vB();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=gB();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let i=_B(...e);return i._methodName="FieldValue.arrayUnion",new t(i)}static arrayRemove(...e){let i=bB(...e);return i._methodName="FieldValue.arrayRemove",new t(i)}static increment(e){let i=yB(e);return i._methodName="FieldValue.increment",new t(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var QX={Firestore:gb,GeoPoint:tl,Timestamp:kt,Blob:pb,Transaction:vb,WriteBatch:_b,DocumentReference:lo,DocumentSnapshot:ll,Query:dl,QueryDocumentSnapshot:cl,QuerySnapshot:Hm,CollectionReference:Rd,FieldPath:_T,FieldValue:bT,setLogLevel:WX,CACHE_SIZE_UNLIMITED:Mj};function KX(t,e){t.INTERNAL.registerComponent(new Zn("firestore-compat",i=>{let n=i.getProvider("app-compat").getImmediate(),r=i.getProvider("firestore").getImmediate();return e(n,r)},"PUBLIC").setServiceProps(Object.assign({},QX)))}function YX(t){KX(t,(e,i)=>new gb(e,i,new gT)),t.registerVersion(HX,GX)}YX(oi);function ZX(t,e=Tr){return new se(i=>{let n;return e!=null?e.schedule(()=>{n=t.onSnapshot({includeMetadataChanges:!0},i)}):n=t.onSnapshot({includeMetadataChanges:!0},i),()=>{n?.()}})}function CB(t,e){return ZX(t,e)}function XX(t,e){return CB(t,e).pipe(si(void 0),Fl(),B(i=>{let[n,r]=i;return r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function ET(t,e){return CB(t,e).pipe(B(i=>({payload:i,type:"query"})))}var bb=class{ref;afs;constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){let n=this.ref.collection(e),{ref:r,query:o}=kB(n,i);return new wb(r,o,this.afs)}snapshotChanges(){return XX(this.ref,this.afs.schedulers.outsideAngular).pipe(wi)}valueChanges(e={}){return this.snapshotChanges().pipe(B(({payload:i})=>e.idField?pe(T({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return ge(this.ref.get(e)).pipe(wi)}};function yb(t,e){return ET(t,e).pipe(si(void 0),Fl(),B(i=>{let[n,r]=i,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=o.find(u=>u.doc.ref.isEqual(a.ref)),d=n?.payload.docs.find(u=>u.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function DB(t,e,i){return yb(t,i).pipe(aa((n,r)=>JX(n,r.map(o=>o.payload),e),[]),tr(),B(n=>n.map(r=>({type:r.type,payload:r}))))}function JX(t,e,i){return e.forEach(n=>{i.indexOf(n.type)>-1&&(t=eJ(t,n))}),t}function wT(t,e,i,...n){let r=t.slice();return r.splice(e,i,...n),r}function eJ(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return wT(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let i=t.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}else return wT(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wT(t,e.oldIndex,1);break}return t}function SB(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var wb=class{ref;query;afs;constructor(e,i,n){this.ref=e,this.query=i,this.afs=n}stateChanges(e){let i=yb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe(B(n=>n.filter(r=>e.indexOf(r.type)>-1)))),i.pipe(si(void 0),Fl(),Fe(([n,r])=>r.length>0||!n),B(([,n])=>n),wi)}auditTrail(e){return this.stateChanges(e).pipe(aa((i,n)=>[...i,...n],[]))}snapshotChanges(e){let i=SB(e);return DB(this.query,i,this.afs.schedulers.outsideAngular).pipe(wi)}valueChanges(e={}){return ET(this.query,this.afs.schedulers.outsideAngular).pipe(B(i=>i.payload.docs.map(n=>e.idField?pe(T({},n.data()),{[e.idField]:n.id}):n.data())),wi)}get(e){return ge(this.query.get(e)).pipe(wi)}add(e){return this.ref.add(e)}doc(e){return new bb(this.ref.doc(e),this.afs)}},xT=class{query;afs;constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return!e||e.length===0?yb(this.query,this.afs.schedulers.outsideAngular).pipe(wi):yb(this.query,this.afs.schedulers.outsideAngular).pipe(B(i=>i.filter(n=>e.indexOf(n.type)>-1)),Fe(i=>i.length>0),wi)}auditTrail(e){return this.stateChanges(e).pipe(aa((i,n)=>[...i,...n],[]))}snapshotChanges(e){let i=SB(e);return DB(this.query,i,this.afs.schedulers.outsideAngular).pipe(wi)}valueChanges(e={}){return ET(this.query,this.afs.schedulers.outsideAngular).pipe(B(n=>n.payload.docs.map(r=>e.idField?T({[e.idField]:r.id},r.data()):r.data())),wi)}get(e){return ge(this.query.get(e)).pipe(wi)}},TB=new k("angularfire2.enableFirestorePersistence"),AB=new k("angularfire2.firestore.persistenceSettings"),tJ=new k("angularfire2.firestore.settings"),iJ=new k("angularfire2.firestore.use-emulator");function kB(t,e=i=>i){return{query:e(t),ref:t}}var Wo=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(i,n,r,o,s,a,l,c,d,u,h,m,p,_,y,E,N){this.schedulers=l;let M=Aa(i,a,n),P=d;u&&JE(M,a,h,p,_,y,m,E),[this.firestore,this.persistenceEnabled$]=Cc(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{let ie=a.runOutsideAngular(()=>M.firestore());if(o&&ie.settings(o),P&&ie.useEmulator(...P),r&&!Ki(s)){let ne=()=>{try{return ge(ie.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(he){return typeof console<"u"&&console.warn(he),z(!1)}};return[ie,a.runOutsideAngular(ne)]}else return[ie,z(!1)]},[o,P,r])}collection(i,n){let r;typeof i=="string"?r=this.firestore.collection(i):r=i;let{ref:o,query:s}=kB(r,n),a=this.schedulers.ngZone.run(()=>o);return new wb(a,s,this)}collectionGroup(i,n){let r=n||(s=>s),o=this.firestore.collectionGroup(i);return new xT(r(o),this)}doc(i){let n;typeof i=="string"?n=this.firestore.doc(i):n=i;let r=this.schedulers.ngZone.run(()=>n);return new bb(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(n){return new(n||t)(g(Cs),g(Ds,8),g(TB,8),g(tJ,8),g(st),g(U),g(Ic),g(AB,8),g(iJ,8),g(fh,8),g(WE,8),g(QE,8),g(KE,8),g(YE,8),g(ZE,8),g(XE,8),g(Mo,8))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),MB=(()=>{class t{constructor(){oi.registerVersion("angularfire",Ro.full,"fst-compat")}static enablePersistence(i){return{ngModule:t,providers:[{provide:TB,useValue:!0},{provide:AB,useValue:i}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=j({type:t});static \u0275inj=V({providers:[Wo]})}return t})();var Eb=(()=>{let e=class e{constructor(n){this.afs=n}loadDatas(){return this.afs.collection("categories").snapshotChanges().pipe(B(n=>n.map(r=>{let o=r.payload.doc.data();return{id:r.payload.doc.id,data:o}})))}};e.\u0275fac=function(r){return new(r||e)(g(Wo))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nJ=(t,e)=>["/category",t,e],rJ=t=>["/category",t];function oJ(t,e){if(t&1){let i=it();b(0,"ul",5)(1,"li",6)(2,"h6")(3,"a",7),le("click",function(){Le(i);let r=Z();return Ve(r.isCollapsed=!r.isCollapsed)}),x(4),v()()()()}if(t&2){let i=e.$implicit;w(3),R("routerLink",Ea(2,nJ,i.data.category,i.id)),w(),Ce(" ",i.data.category," ")}}function sJ(t,e){if(t&1&&(b(0,"li",6)(1,"h6")(2,"a",8),x(3),v()()()),t&2){let i=e.$implicit;w(2),R("routerLink",ur(2,rJ,i.id)),w(),Ce(" ",i.category," ")}}var Gm=(()=>{let e=class e{constructor(n){this.categoryService=n,this.categoryArrays=[],this.isCollapsed=!0}ngOnInit(){this.getAllCategory()}getAllCategory(){this.categoryService.loadDatas().subscribe(n=>{console.log("product categorie="+JSON.stringify(n)),this.categoryArrays=n})}toggleSidebar(){this.isCollapsed=!this.isCollapsed;let n=document.querySelector(".menu-sidebar-content");n&&n.classList.toggle("open",!this.isCollapsed)}};e.\u0275fac=function(r){return new(r||e)(f(Eb))},e.\u0275cmp=X({type:e,selectors:[["app-product-category-menu"]],decls:5,vars:2,consts:[[1,"menu-sidebar-content","js-scrollbar1"],[1,"navbar-sidebar"],[1,"list-unstyled","navbar-list"],["class","navbar-nav me-auto",4,"ngFor","ngForOf"],["class","nav-item ml-2",4,"ngFor","ngForOf"],[1,"navbar-nav","me-auto"],[1,"nav-item","ml-2"],[1,"nav-link",3,"click","routerLink"],["routerLinkActive","active-link",1,"nav-link",3,"routerLink"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"nav",1)(2,"ul",2),$(3,oJ,5,5,"ul",3)(4,sJ,4,4,"li",4),v()()()),r&2&&(w(3),R("ngForOf",o.categoryArrays),w(),R("ngForOf",o.categoryArrays))},dependencies:[Nn,Ot,IP],styles:[".menu-sidebar-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.navbar-sidebar[_ngcontent-%COMP%]{background-color:#fff;border-right:1px solid #ddd;padding-top:20px}.navbar-list[_ngcontent-%COMP%]{padding-left:0}.nav-item[_ngcontent-%COMP%]{margin-bottom:10px}.nav-link[_ngcontent-%COMP%]{color:#333;text-decoration:none;transition:color .3s ease;display:block;padding:8px 0}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.active-link[_ngcontent-%COMP%]{font-weight:700;color:#007bff}@media (max-width: 768px){.menu-sidebar-content[_ngcontent-%COMP%]{height:auto;overflow-y:visible}.navbar-list[_ngcontent-%COMP%]{margin-top:20px}.nav-item[_ngcontent-%COMP%]{margin-bottom:8px}.nav-link[_ngcontent-%COMP%]{padding:5px 0}}"]});let t=e;return t})();var Ks=(()=>{let e=class e{constructor(n,r){this.firestore=n,this.snackService=r}getAllProducts(){return this.firestore.collection("products").snapshotChanges().pipe(B(n=>n.map(r=>{let o=r.payload.doc.id,s=r.payload.doc.data();return pe(T({},s),{id:o})})))}getProductsByCategory(n){return this.firestore.collection("products",r=>r.where("category.categoryId","==",n)).snapshotChanges().pipe(B(r=>r.map(o=>{let s=o.payload.doc.data();console.log(s);let a=o.payload.doc.id;return pe(T({},s),{id:a})})))}getProductById(n){return console.log(n),this.firestore.collection("products").doc(n).get().pipe(B(r=>{let o=r.data();if(console.log(o),r.exists&&o)return{id:r.id,category:{categoryId:o.category.categoryId,category:o.category.category},content:o.content,excerpt:o.excerpt,isFeatured:o.isFeatured,likes:o.likes,permalink:o.permalink,postImgPath:o.postImgPath,productPrice:o.productPrice,discountPrice:o.discountPrice,productStock:o.productStock,savedBy:o.savedBy,shares:o.shares,status:o.status,stock:{inStock:o.stock.inStock,outOfStock:o.stock.outOfStock},title:o.title,views:o.views}}),Ti(r=>(console.error(`Error fetching product with ID ${n}:`,r),z(void 0))))}updateProductStock(n){let r=this.firestore.firestore.batch(),o=[];return n.forEach(s=>{let a=s.productId,l=s.quantity,c=this.firestore.collection("products").doc(a).ref,d=this.getProductById(a).pipe(Pe(u=>{if(!u)throw new Error(`Product with ID ${a} not found.`);let h=Math.max(0,u.productStock-l);return r.update(c,{productStock:h}),z(null)}));o.push(d)}),sa(o).pipe(Pe(()=>ge(r.commit())),Ti(s=>{throw console.error("Error updating product stock:",s),s}))}};e.\u0275fac=function(r){return new(r||e)(g(Wo),g(Kr))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lJ=t=>["/products",t];function cJ(t,e){if(t&1&&(b(0,"div",6)(1,"div",7),Y(2,"img",8),b(3,"div",9)(4,"h5",10),x(5),v(),b(6,"p",11),x(7),v(),b(8,"p",11),x(9),v(),b(10,"a",12),x(11,"View Details"),v()()()()),t&2){let i=e.$implicit;w(2),R("src",i.postImgPath,cr),w(3),It(i.title),w(2),Ce("Price: $",i.productPrice,""),w(2),It(i.excerpt),w(),R("routerLink",ur(5,lJ,i.id))}}function dJ(t,e){t&1&&(b(0,"p"),x(1,"No products available."),v())}function uJ(t,e){if(t&1&&(b(0,"div")(1,"h2"),x(2,"Category-Specific Products"),v(),b(3,"div",4),$(4,cJ,12,7,"div",5),v(),$(5,dJ,2,0,"ng-template",null,1,pn),v()),t&2){let i=e.ngIf;w(4),R("ngForOf",i)}}function hJ(t,e){t&1&&(b(0,"p"),x(1,"Loading products..."),v())}var IT=(()=>{let e=class e{constructor(n,r,o){this.productService=n,this.router=r,this.route=o}ngOnInit(){this.products$=this.productService.getAllProducts()}goToProductDetail(n){n?this.router.navigate(["/products/",n]):console.error("Invalid productId:",n)}};e.\u0275fac=function(r){return new(r||e)(f(Ks),f(At),f(wn))},e.\u0275cmp=X({type:e,selectors:[["app-product"]],decls:7,vars:4,consts:[["loading",""],["noProducts",""],["id","mar"],[4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100"],["alt","Product Image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","stretched-link",3,"routerLink"]],template:function(r,o){if(r&1&&(b(0,"div",2)(1,"p"),x(2,"product works!"),v(),$(3,uJ,7,1,"div",3),Gt(4,"async"),$(5,hJ,2,0,"ng-template",null,0,pn),v()),r&2){let s=hi(6);w(3),R("ngIf",ln(4,2,o.products$))("ngIfElse",s)}},dependencies:[Nn,qt,Ot,Ur],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f8f9fa;color:#333;padding-top:20px}#mar[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 15px}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:transform .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card-img-top[_ngcontent-%COMP%]{height:200px;object-fit:cover;border-top-left-radius:8px;border-top-right-radius:8px}.card-body[_ngcontent-%COMP%]{padding:20px}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:10px}.card-text[_ngcontent-%COMP%]{color:#666}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}@media (max-width: 991px){.card-img-top[_ngcontent-%COMP%]{height:180px}}@media (max-width: 767px){.card[_ngcontent-%COMP%]{margin-bottom:20px}.card-img-top[_ngcontent-%COMP%]{height:250px}.card-title[_ngcontent-%COMP%]{font-size:1.1rem}}"]});let t=e;return t})();var Cb=class{constructor(e){this.productId=e.id,this.name=e.title,this.imageUrl=e.postImgPath,this.unitPrice=e.productPrice,this.quantity=1,this.visible=!0}};var co=(()=>{let e=class e{constructor(n){this.snackService=n,this.totalPriceSource=new tt(0),this.totalQuantitySource=new tt(0),this.totalPrice$=this.totalPriceSource.asObservable(),this.totalQuantity$=this.totalQuantitySource.asObservable()}updateTotalPrice(n){this.totalPriceSource.next(n)}updateTotalQuantity(n){this.totalQuantitySource.next(n)}};e.\u0275fac=function(r){return new(r||e)(g(Kr))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qn=(()=>{let e=class e{constructor(n,r,o,s){this.firestore=n,this.authService=r,this.cartData=o,this.snackService=s,this.initialized$=new tt(!1),this.totalPriceSubject=new tt(0),this.totalQuantitySubject=new tt(0),this.totalPrice$=this.totalPriceSubject.asObservable(),this.totalQuantity$=this.totalQuantitySubject.asObservable(),this.userId=r.getUserCookies(),console.log("hey id",this.userId),this.userId&&(this.cartItemsCollection=this.firestore.collection(`cart-item/${this.userId}/products`),this.initialized$.next(!0))}addToCart(n){if(!this.userId){console.error("User ID not available.");return}let r=pe(T({},n),{userId:this.userId}),o=n.productId;this.cartItemsCollection.doc(o).get().subscribe(s=>{if(s.exists){let a=s.data();this.snackService.open("Item quantity increaded by one to cart-Item","close",3e3),this.cartItemsCollection.doc(o).update({quantity:a.quantity+n.quantity})}else this.snackService.open("Item added to cart","close",3e3),this.cartItemsCollection.doc(o).set(r,{merge:!0})})}fetchCartItemsWithMetadata(){return this.userId?this.cartItemsCollection.valueChanges({idField:"id"}).pipe(B(n=>{console.log("this",n);let r=n.reduce((s,a)=>s+a.quantity,0),o=n.reduce((s,a)=>s+a.quantity*a.unitPrice,0);return this.totalQuantitySubject.next(r),this.totalPriceSubject.next(o),this.cartData.updateTotalPrice(o),this.cartData.updateTotalQuantity(r),{cartItems:n,totalQuantity:r,totalPrice:o}})):(console.error("User ID not available."),new se(n=>{n.next({cartItems:[],totalQuantity:0,totalPrice:0})}))}increaseQuantity(n){this.cartItemsCollection.doc(n).get().subscribe(r=>{if(r.exists){let o=r.data();this.snackService.open("Item Increase by one  to cart","close",3e3),this.cartItemsCollection.doc(n).update({quantity:o.quantity+1})}})}decreaseQuantity(n){this.cartItemsCollection.doc(n).get().subscribe(r=>{if(r.exists){let o=r.data();o.quantity>1?(this.snackService.open("Item quantity decreased in cart","close",3e3),this.cartItemsCollection.doc(n).update({quantity:o.quantity-1})):this.cartItemsCollection.doc(n).delete()}})}clearCart(){this.snackService.open("Item removed your cart is empty","close",3e3),this.cartItemsCollection.get().subscribe(n=>{n.forEach(r=>r.ref.delete())})}};e.\u0275fac=function(r){return new(r||e)(g(Wo),g(zn),g(co),g(Kr))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mJ(t,e){if(t&1){let i=it();b(0,"div")(1,"div",2)(2,"h2"),x(3),v(),b(4,"div",3)(5,"div",4),Y(6,"img",5),v(),b(7,"div",6)(8,"p")(9,"strong"),x(10,"Detail"),v(),x(11),v(),b(12,"p")(13,"strong"),x(14,"Discount:"),v(),x(15),v(),b(16,"p")(17,"strong"),x(18,"Price:"),v(),b(19,"del"),x(20),v()(),b(21,"p")(22,"strong"),x(23,"Stock:"),v(),x(24),v(),b(25,"p")(26,"strong"),x(27,"Category:"),v(),x(28),v(),b(29,"p")(30,"strong"),x(31,"Availability:"),v(),x(32),v(),b(33,"button",7),le("click",function(){let r=Le(i).ngIf,o=Z();return Ve(o.addToCart(r))}),x(34,"Add To Cart"),v()()()()()}if(t&2){let i=e.ngIf,n=Z();w(3),It(i.title),w(3),R("src",i.postImgPath,cr),w(5),It(i.content),w(4),Ce(" $",i.productPrice,""),w(5),Ce(" $",i.discountPrice,""),w(4),Ce(" ",i.productStock,""),w(4),Ce(" ",i.category.category,""),w(4),Ce(" ",n.getProductAvailability(i),""),w(),R("disabled",n.instoke)}}function fJ(t,e){t&1&&(b(0,"p"),x(1,"Loading product details..."),v())}var CT=(()=>{let e=class e{constructor(n,r,o){this.productService=n,this.route=r,this.cartService=o,this.instoke=!1}ngOnInit(){this.product$=this.route.paramMap.pipe(Pe(n=>{console.log(n);let r=n.get("categoryId");return console.log(r),r?this.productService.getProductById(r):(console.error("Product ID is null"),new se)}))}getProductAvailability(n){return n.productStock<=0?(this.instoke=!0,"Out of Stock"):"In Stock"}addToCart(n){console.log(`Adding to cart: ${n.title},${n.productPrice}`);let r=new Cb(n);this.cartService.addToCart(r)}};e.\u0275fac=function(r){return new(r||e)(f(Ks),f(wn),f(Qn))},e.\u0275cmp=X({type:e,selectors:[["app-product-description"]],decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"product-detail"],[1,"product-info"],[1,"product-image"],["alt","Product Image",3,"src"],[1,"product-details"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"]],template:function(r,o){if(r&1&&($(0,mJ,35,9,"div",1),Gt(1,"async"),$(2,fJ,2,0,"ng-template",null,0,pn)),r&2){let s=hi(3);R("ngIf",ln(1,2,o.product$))("ngIfElse",s)}},dependencies:[qt,Ur],styles:[".product-detail[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;box-shadow:0 2px 4px #0000001a;background-color:#fff}.product-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.product-image[_ngcontent-%COMP%]{flex:0 0 40%;margin-right:20px}.product-details[_ngcontent-%COMP%]{flex:0 0 60%}.product-description[_ngcontent-%COMP%]{margin-top:20px}@media (max-width: 768px){.product-info[_ngcontent-%COMP%]{flex-direction:column}.product-image[_ngcontent-%COMP%]{flex:1 0 auto;margin-right:0;margin-bottom:20px}.product-details[_ngcontent-%COMP%]{flex:1 0 auto}}"]});let t=e;return t})();var pJ=t=>["/products",t];function gJ(t,e){if(t&1&&(b(0,"div",4)(1,"div",5),Y(2,"img",6),b(3,"div",7)(4,"h5",8),x(5),v(),b(6,"p",9),x(7),v(),b(8,"p",9),x(9),v(),b(10,"a",10),x(11,"View Details"),v()()()()),t&2){let i=e.$implicit;w(2),R("src",i.postImgPath,cr),w(3),It(i.title),w(2),Ce("Price: $",i.productPrice,""),w(2),It(i.excerpt),w(),R("routerLink",ur(5,pJ,i.id))}}function vJ(t,e){if(t&1&&(b(0,"div")(1,"h2"),x(2,"Category-Specific Products"),v(),b(3,"div",2),$(4,gJ,12,7,"div",3),v()()),t&2){let i=e.ngIf;w(4),R("ngForOf",i)}}function _J(t,e){t&1&&(b(0,"p"),x(1,"Loading category-specific products..."),v())}var FB=(()=>{let e=class e{constructor(n,r){this.route=n,this.productService=r}ngOnInit(){this.route.paramMap.subscribe(n=>{console.log(n);let r=n.get("id");console.log(r),r!==null?(this.categoryId=r,this.products$=this.productService.getProductsByCategory(this.categoryId)):console.log("Invalid categoryId"),this.products$=this.productService.getProductsByCategory(this.categoryId)})}};e.\u0275fac=function(r){return new(r||e)(f(wn),f(Ks))},e.\u0275cmp=X({type:e,selectors:[["app-single-category"]],decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100"],["alt","Product Image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","stretched-link",3,"routerLink"]],template:function(r,o){if(r&1&&($(0,vJ,5,1,"div",1),Gt(1,"async"),$(2,_J,2,0,"ng-template",null,0,pn)),r&2){let s=hi(3);R("ngIf",ln(1,2,o.products$))("ngIfElse",s)}},dependencies:[Nn,qt,Ot,Ur],styles:[".card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a}.card-img-top[_ngcontent-%COMP%]{height:200px;object-fit:cover;border-top-left-radius:8px;border-top-right-radius:8px}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.card-text[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 767px){.card-img-top[_ngcontent-%COMP%]{height:150px}.card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}"]});let t=e;return t})();function bJ(t,e){if(t&1){let i=it();b(0,"tr")(1,"td"),Y(2,"img",13),v(),b(3,"td")(4,"p"),x(5),v(),b(6,"p"),x(7),Gt(8,"currency"),v()(),b(9,"td")(10,"div",14)(11,"label"),x(12,"Quantity:"),v(),b(13,"div",15)(14,"div",16)(15,"button",17),le("click",function(){let r=Le(i).$implicit,o=Z(2);return Ve(o.incrementQuantity(r.productId))}),Y(16,"i",18),v()(),b(17,"div",19),x(18),v(),b(19,"div",16)(20,"button",17),le("click",function(){let r=Le(i).$implicit,o=Z(2);return Ve(o.decrementQuantity(r.productId))}),Y(21,"i",20),v()(),Y(22,"div",21),v()(),b(23,"button",22),le("click",function(){Le(i);let r=Z(2);return Ve(r.removeAllCartItem())}),b(24,"h6"),x(25,"Remove"),v()(),b(26,"p",23),x(27),Gt(28,"currency"),v()()()}if(t&2){let i=e.$implicit;w(2),Au("src",i.imageUrl,cr),w(3),It(i.name),w(2),It(ms(8,5,i.unitPrice,"USD")),w(11),Ce(" ",i.quantity," "),w(9),Ce("Subtotal:",ms(28,8,i.quantity*i.unitPrice,"USD")," ")}}function yJ(t,e){if(t&1&&(b(0,"div")(1,"table",5)(2,"tr")(3,"th",6),x(4,"ProductImage"),v(),b(5,"th",7),x(6,"ProductDetail"),v(),Y(7,"th",8),v(),$(8,bJ,29,11,"tr",9),b(9,"tr"),Y(10,"td",10),b(11,"td",11)(12,"P"),x(13),v(),b(14,"P"),x(15,"Shipping:FREE"),v(),b(16,"P"),x(17),Gt(18,"currency"),v(),b(19,"a",12),x(20,"Checkout"),v()()()()()),t&2){let i=Z();w(8),R("ngForOf",i.cartItems),w(5),Ce("Total Quantity:",i.totalQuantity,""),w(4),Ce("Total Price:",ms(18,3,i.totalPrice,"USD"),"")}}function wJ(t,e){t&1&&(b(0,"div",24),x(1," Your Shopping cart is empty ! "),v())}var PB=(()=>{let e=class e{constructor(n,r){this.cartService=n,this.cartDataService=r,this.cartItems=[],this.totalPrice=0,this.totalQuantity=0}ngOnInit(){this.fetchCartItems(),this.totalPrice,this.totalQuantity}fetchCartItems(){this.cartService.fetchCartItemsWithMetadata().subscribe(n=>{this.cartItems=n.cartItems,this.totalPrice=n.totalPrice,this.totalQuantity=n.totalQuantity,console.log(this.totalPrice),console.log(this.totalQuantity)})}incrementQuantity(n){this.cartService.increaseQuantity(n)}decrementQuantity(n){this.cartService.decreaseQuantity(n)}removeAllCartItem(){this.cartService.clearCart()}};e.\u0275fac=function(r){return new(r||e)(f(Qn),f(co))},e.\u0275cmp=X({type:e,selectors:[["app-cart-details"]],decls:5,vars:2,consts:[[1,"main-content"],[1,"section-content","section-content-p30"],[1,"container-fluid"],[4,"ngIf"],["class","alert alert-warning col-md-12","role","alert",4,"ngIf"],[1,"table","table-bordered"],["width","20%"],["width","50%"],["width","30%"],[4,"ngFor","ngForOf"],["colspan","2"],[2,"font-weight","bold"],["routerLink","/checkout",1,"btn","btn-primary"],["width","150px",1,"img-responsive",3,"src"],[1,"items"],[1,"row","no-gutters"],[1,"col"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"col","ml-4","mr-2"],[1,"fas","fa-minus"],[1,"col-8"],[1,"btn","btn-primary","btn-sm","mt-2",3,"click"],[1,"mt-2"],["role","alert",1,"alert","alert-warning","col-md-12"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2),$(3,yJ,21,6,"div",3)(4,wJ,2,0,"div",4),v()()()),r&2&&(w(3),R("ngIf",o.cartItems.length>0),w(),R("ngIf",o.cartItems.length==0))},dependencies:[Nn,qt,Ot,bg]});let t=e;return t})();var Db=(()=>{let e=class e{constructor(n,r,o,s,a,l,c){this.authService=n,this.firestore=r,this.cartDataService=o,this.cartService=s,this.productService=a,this.snackService=l,this.router=c,this.userId=this.authService.getUserCookies()}saveInformation(n){if(!this.userId){console.error("User ID not available.");return}return ge(this.firestore.collection(`users/${this.userId}/address`).add(n))}placeOrder(){if(!this.userId){console.error("User ID not available."),this.router.navigate(["/login"]);return}this.cartService.fetchCartItemsWithMetadata().pipe(Et(1),Pe(n=>{if(n.totalQuantity===0)return console.error("No items in the cart."),this.router.navigate(["/cart-details"]),z(null);let r={userId:this.userId,cartItems:n.cartItems,totalQuantity:n.totalQuantity,totalPrice:n.totalPrice,status:"pending",createdAt:new Date};return this.snackService.open(" successfull","placed order",3e3),ge(this.firestore.collection(`orders/${this.userId}/products`).add(r)).pipe(Pe(()=>this.productService.updateProductStock(n.cartItems)))}),Ti(n=>(console.error("Error placing order:",n),z(null)))).subscribe(()=>{this.cartService.clearCart()})}getOrderHistory(){return this.firestore.collection(`orders/${this.userId}/products`).valueChanges().pipe(B(n=>(console.log(n),n)))}};e.\u0275fac=function(r){return new(r||e)(g(zn),g(Wo),g(co),g(Qn),g(Ks),g(Kr),g(At))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xJ(t,e){t&1&&(b(0,"div",31),x(1," First Name is required and must be at least 2 characters long "),v())}function EJ(t,e){t&1&&(b(0,"div",31),x(1," Last Name is required and must be at least 2 characters long "),v())}function IJ(t,e){t&1&&(b(0,"div",31),x(1," Email is required and must be a valid email address "),v())}function CJ(t,e){t&1&&(b(0,"div",31),x(1," Phone Number is required "),v())}function DJ(t,e){t&1&&(b(0,"div",31),x(1," Street Address is required "),v())}function SJ(t,e){t&1&&(b(0,"button",32),x(1,"Submit"),v())}function TJ(t,e){if(t&1){let i=it();b(0,"button",33),le("click",function(){Le(i);let r=Z();return Ve(r.editInformation())}),x(1,"Edit"),v()}}function AJ(t,e){if(t&1){let i=it();b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),x(6,"Order Confirmation"),v(),b(7,"div",34)(8,"h3"),x(9,"Total"),v(),b(10,"p"),x(11),v(),b(12,"p"),x(13),v()(),b(14,"div",27)(15,"button",35),le("click",function(){Le(i);let r=Z();return Ve(r.confirm())}),x(16,"Confirm Order"),v()()()()()()()}if(t&2){let i=Z();w(11),Ce("Total Quantity: ",i.totalQuantity,""),w(2),Ce("Total Price: ",i.totalPrice,"")}}var NB=(()=>{let e=class e{constructor(n,r,o,s){this.formBuilder=n,this.checkoutService=r,this.cardDataService=o,this.router=s,this.savedCheckoutData=null,this.totalPrice=0,this.totalQuantity=0}ngOnInit(){this.cartDataSubscription=this.cardDataService.totalPrice$.subscribe(r=>{this.totalPrice=r}),this.cartDataSubscription=this.cardDataService.totalQuantity$.subscribe(r=>{this.totalQuantity=r}),this.checkoutFormGroup=this.formBuilder.group({customer:this.formBuilder.group({firstName:["",[Nt.required,Nt.minLength(2)]],lastName:["",[Nt.required,Nt.minLength(2)]],email:["",[Nt.required,Nt.email]],phone:["",[Nt.required]]}),shippingAddress:this.formBuilder.group({street:["",[Nt.required]],city:[""],state:[""],zipCode:[""]})});let n=localStorage.getItem("checkoutData");n&&(this.savedCheckoutData=JSON.parse(n),this.checkoutFormGroup.patchValue(this.savedCheckoutData))}onSubmit(){if(this.checkoutFormGroup.invalid){this.checkoutFormGroup.markAllAsTouched();return}let n=this.checkoutFormGroup.value;localStorage.setItem("checkoutData",JSON.stringify(n)),this.checkoutService.saveInformation(n),this.router.navigate(["cart-details"]),console.log("Form submitted successfully!"),console.log(n)}hasExistingInformation(){return this.savedCheckoutData!==null}editInformation(){this.savedCheckoutData=null,localStorage.removeItem("checkoutData"),this.checkoutFormGroup.reset()}confirm(){this.checkoutService.placeOrder(),this.router.navigate(["/order-status"])}get firstName(){return this.checkoutFormGroup.get("customer.firstName")}get lastName(){return this.checkoutFormGroup.get("customer.lastName")}get email(){return this.checkoutFormGroup.get("customer.email")}get phone(){return this.checkoutFormGroup.get("customer.phone")}get street(){return this.checkoutFormGroup.get("shippingAddress.street")}};e.\u0275fac=function(r){return new(r||e)(f(Ec),f(Db),f(co),f(At))},e.\u0275cmp=X({type:e,selectors:[["app-checkout"]],decls:53,vars:9,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card"],[1,"card-body"],[1,"card-title","text-center","mb-4"],["novalidate","",3,"ngSubmit","formGroup"],["formGroupName","customer"],[1,"mb-3"],["for","firstName",1,"form-label"],["formControlName","firstName","type","text","id","firstName","placeholder","Enter first name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastName",1,"form-label"],["formControlName","lastName","type","text","id","lastName","placeholder","Enter last name",1,"form-control"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email","placeholder","Enter email address",1,"form-control"],["for","phone",1,"form-label"],["formControlName","phone","type","tel","id","phone","placeholder","Enter phone number",1,"form-control"],["formGroupName","shippingAddress",1,"mt-4"],["for","street",1,"form-label"],["formControlName","street","type","text","id","street","placeholder","Enter street address",1,"form-control"],["for","city",1,"form-label"],["formControlName","city","type","text","id","city","placeholder","Enter city",1,"form-control"],["for","state",1,"form-label"],["formControlName","state","type","text","id","state","placeholder","Enter state",1,"form-control"],["for","zipCode",1,"form-label"],["formControlName","zipCode","type","text","id","zipCode","placeholder","Enter ZIP code",1,"form-control"],[1,"text-center","mt-4"],["type","submit","class","btn btn-primary",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","container mt-5",4,"ngIf"],[1,"text-danger"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-4"],[1,"btn","btn-success",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),x(6,"Checkout Form"),v(),b(7,"form",6),le("ngSubmit",function(){return o.onSubmit()}),b(8,"div",7)(9,"div",8)(10,"label",9),x(11,"First Name"),v(),Y(12,"input",10),$(13,xJ,2,0,"div",11),v(),b(14,"div",8)(15,"label",12),x(16,"Last Name"),v(),Y(17,"input",13),$(18,EJ,2,0,"div",11),v(),b(19,"div",8)(20,"label",14),x(21,"Email Address"),v(),Y(22,"input",15),$(23,IJ,2,0,"div",11),v(),b(24,"div",8)(25,"label",16),x(26,"Phone Number"),v(),Y(27,"input",17),$(28,CJ,2,0,"div",11),v()(),b(29,"div",18)(30,"h3"),x(31,"Shipping Address"),v(),b(32,"div",8)(33,"label",19),x(34,"Street Address"),v(),Y(35,"input",20),$(36,DJ,2,0,"div",11),v(),b(37,"div",8)(38,"label",21),x(39,"City"),v(),Y(40,"input",22),v(),b(41,"div",8)(42,"label",23),x(43,"State"),v(),Y(44,"input",24),v(),b(45,"div",8)(46,"label",25),x(47,"ZIP Code"),v(),Y(48,"input",26),v()(),b(49,"div",27),$(50,SJ,2,0,"button",28)(51,TJ,2,0,"button",29),v()()()()()()(),$(52,AJ,17,2,"div",30)),r&2&&(w(7),R("formGroup",o.checkoutFormGroup),w(6),R("ngIf",(o.firstName==null?null:o.firstName.invalid)&&((o.firstName==null?null:o.firstName.dirty)||(o.firstName==null?null:o.firstName.touched))),w(5),R("ngIf",(o.lastName==null?null:o.lastName.invalid)&&((o.lastName==null?null:o.lastName.dirty)||(o.lastName==null?null:o.lastName.touched))),w(5),R("ngIf",(o.email==null?null:o.email.invalid)&&((o.email==null?null:o.email.dirty)||(o.email==null?null:o.email.touched))),w(5),R("ngIf",(o.phone==null?null:o.phone.invalid)&&((o.phone==null?null:o.phone.dirty)||(o.phone==null?null:o.phone.touched))),w(8),R("ngIf",(o.street==null?null:o.street.invalid)&&((o.street==null?null:o.street.dirty)||(o.street==null?null:o.street.touched))),w(14),R("ngIf",!o.hasExistingInformation()),w(),R("ngIf",o.hasExistingInformation()),w(),R("ngIf",o.hasExistingInformation()))},dependencies:[qt,xc,xs,yc,wc,Es,Ta,av],styles:[".card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-label[_ngcontent-%COMP%]{font-weight:700}.text-danger[_ngcontent-%COMP%]{font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();var Qo=(()=>{let e=class e{constructor(n,r){this.authService=n,this.router=r}getCurrentUser(){return this.authService.currentUser}canActivate(n,r){return this.authService.isLoggedInGuard?(console.log("Access Granted..."),!0):(console.log("you dont have permission to access this page..."),console.log(this.authService.isLoggedInGuard),setTimeout(()=>{console.log(this.authService.isLoggedInGuard)},2e3),this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(r){return new(r||e)(g(zn),g(At))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kJ=["*"],Sb;function MJ(){if(Sb===void 0&&(Sb=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Sb=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Sb}function Qm(t){return MJ()?.createHTML(t)||t}function LB(t){return Error(`Unable to find icon with the name "${t}"`)}function RJ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function VB(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function jB(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Ko=class{constructor(e,i,n){this.url=e,this.svgText=i,this.options=n}},FJ=(()=>{let e=class e{constructor(n,r,o,s){this._httpClient=n,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,r,o){return this.addSvgIconInNamespace("",n,r,o)}addSvgIconLiteral(n,r,o){return this.addSvgIconLiteralInNamespace("",n,r,o)}addSvgIconInNamespace(n,r,o,s){return this._addSvgIconConfig(n,r,new Ko(o,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,o,s){let a=this._sanitizer.sanitize(zt.HTML,o);if(!a)throw jB(o);let l=Qm(a);return this._addSvgIconConfig(n,r,new Ko("",l,s))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,o){return this._addSvgIconSetConfig(n,new Ko(r,null,o))}addSvgIconSetLiteralInNamespace(n,r,o){let s=this._sanitizer.sanitize(zt.HTML,r);if(!s)throw jB(r);let a=Qm(s);return this._addSvgIconSetConfig(n,new Ko("",a,o))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let r=this._sanitizer.sanitize(zt.RESOURCE_URL,n);if(!r)throw VB(n);let o=this._cachedIconsByUrl.get(r);return o?z(Tb(o)):this._loadSvgIconFromConfig(new Ko(n,null)).pipe(ot(s=>this._cachedIconsByUrl.set(r,s)),B(s=>Tb(s)))}getNamedSvgIcon(n,r=""){let o=BB(r,n),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,n),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(n,a):kr(LB(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?z(Tb(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(B(r=>Tb(r)))}_getSvgFromIconSetConfigs(n,r){let o=this._extractIconWithNameFromAnySet(n,r);if(o)return z(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ti(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(zt.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),z(null)})));return sa(s).pipe(B(()=>{let a=this._extractIconWithNameFromAnySet(n,r);if(!a)throw LB(n);return a}))}_extractIconWithNameFromAnySet(n,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,n,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(ot(r=>n.svgText=r),B(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?z(null):this._fetchIcon(n).pipe(ot(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,o){let s=n.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(Qm("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(n){let r=this._document.createElement("DIV");r.innerHTML=n;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){let r=this._svgElementFromString(Qm("<svg></svg>")),o=n.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&r.setAttribute(a,l)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){let{url:r,options:o}=n,s=o?.withCredentials??!1;if(!this._httpClient)throw RJ();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(zt.RESOURCE_URL,r);if(!a)throw VB(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(B(d=>Qm(d)),Rr(()=>this._inProgressUrlFetches.delete(a)),eu());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(n,r,o){return this._svgIconConfigs.set(BB(n,r),o),this}_addSvgIconSetConfig(n,r){let o=this._iconSetConfigs.get(n);return o?o.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){let r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,n);if(s)return PJ(s)?new Ko(s.url,null,s.options):new Ko(s,null)}}};e.\u0275fac=function(r){return new(r||e)(g(Mx,8),g(Ca),g(re,8),g(Hi))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tb(t){return t.cloneNode(!0)}function BB(t,e){return t+":"+e}function PJ(t){return!!(t.url&&t.options)}var OJ=new k("MAT_ICON_DEFAULT_OPTIONS"),NJ=new k("mat-icon-location",{providedIn:"root",factory:LJ});function LJ(){let t=A(re),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var UB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],VJ=UB.map(t=>`[${t}]`).join(", "),jJ=/^url\(['"]?#(.*?)['"]?\)$/,Ab=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,o,s,a,l){this._elementRef=n,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ye.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=n.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let r=n.querySelectorAll(VJ),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)UB.forEach(a=>{let l=r[s],c=l.getAttribute(a),d=c?c.match(jJ):null;if(d){let u=o.get(l);u||(u=[],o.set(l,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[r,o]=this._splitIconName(n);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Et(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(f(K),f(FJ),Jl("aria-hidden"),f(NJ),f(Hi),f(OJ,8))},e.\u0275cmp=X({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(ze("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Xt(o.color?"mat-"+o.color:""),Ie("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[J.HasDecoratorInputTransform,"inline","inline",dt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[$t,Me],ngContentSelectors:kJ,decls:1,vars:0,template:function(r,o){r&1&&(ct(),Ae(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),kb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,De]});let t=e;return t})();var UJ=0,zB="mat-badge-content",Mb=new Set,zJ=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["ng-component"]],standalone:!0,features:[Me],decls:0,vars:0,template:function(r,o){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0});let t=e;return t})(),$B=(()=>{let e=class e{get color(){return this._color}set color(n){this._setColor(n),this._color=n}get content(){return this._content}set content(n){this._updateRenderedContent(n)}get description(){return this._description}set description(n){this._updateDescription(n)}constructor(n,r,o,s,a){this._ngZone=n,this._elementRef=r,this._ariaDescriber=o,this._renderer=s,this._animationMode=a,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=UJ++,this._isInitialized=!1,this._interactivityChecker=A(_h),this._document=A(re);let l=A(Wi);if(!Mb.has(l)){Mb.add(l);let c=JR(zJ,{environmentInjector:A(_i)});l.onDestroy(()=>{Mb.delete(l),Mb.size===0&&c.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let n=this._renderer.createElement("span"),r="mat-badge-active";return n.setAttribute("id",`mat-badge-content-${this._id}`),n.setAttribute("aria-hidden","true"),n.classList.add(zB),this._animationMode==="NoopAnimations"&&n.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(n),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{n.classList.add(r)})}):n.classList.add(r),n}_updateRenderedContent(n){let r=`${n??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateDescription(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!n||this._isHostInteractive())&&this._removeInlineDescription(),this._description=n,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,n):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(n){let r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),n&&r.add(`mat-badge-${n}`)}_clearExistingBadges(){let n=this._elementRef.nativeElement.querySelectorAll(`:scope > .${zB}`);for(let r of Array.from(n))r!==this._badgeElement&&r.remove()}};e.\u0275fac=function(r){return new(r||e)(f(U),f(K),f(QO),f(Gi),f(li,8))},e.\u0275dir=H({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(r,o){r&2&&Ie("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small",o.size==="small")("mat-badge-medium",o.size==="medium")("mat-badge-large",o.size==="large")("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[J.None,"matBadgeColor","color"],overlap:[J.HasDecoratorInputTransform,"matBadgeOverlap","overlap",dt],disabled:[J.HasDecoratorInputTransform,"matBadgeDisabled","disabled",dt],position:[J.None,"matBadgePosition","position"],content:[J.None,"matBadge","content"],description:[J.None,"matBadgeDescription","description"],size:[J.None,"matBadgeSize","size"],hidden:[J.HasDecoratorInputTransform,"matBadgeHidden","hidden",dt]},standalone:!0,features:[$t]});let t=e;return t})(),DT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[JO,De,De]});let t=e;return t})();var Rb=(()=>{let e=class e{constructor(n,r){this.cartService=n,this.cartDataService=r,this.totalPrice=0,this.totalQuantity=0}ngOnInit(){this.fetchCartItems(),this.totalPrice,this.totalQuantity}fetchCartItems(){this.cartService.fetchCartItemsWithMetadata().subscribe(n=>{this.totalPrice=n.totalPrice,this.totalQuantity=n.totalQuantity})}};e.\u0275fac=function(r){return new(r||e)(f(Qn),f(co))},e.\u0275cmp=X({type:e,selectors:[["app-cart-status"]],decls:6,vars:1,consts:[[1,"cart-area"],["routerLink","/cart-details"],[1,"total"],["matBadgeColor","warn","matBadgeSize","small",3,"matBadge"],["src","../assets/icon/cart.svg","alt","Home Icon"],["aria-hidden","true",1,"fa","fa-shopping-cart"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"a",1)(2,"div",2)(3,"mat-icon",3),Y(4,"img",4),v()(),Y(5,"i",5),v()()),r&2&&(w(3),Au("matBadge",o.totalQuantity))},dependencies:[Ot,Ab,$B],styles:[".cart-area[_ngcontent-%COMP%]{display:inline-block;margin-right:20px;text-decoration:none;color:inherit}.cart-link[_ngcontent-%COMP%]{display:flex;align-items:center}.cart-icon[_ngcontent-%COMP%]{position:relative}.badge-image[_ngcontent-%COMP%]{position:absolute;top:-5px;left:-5px;width:24px;height:24px}.cart-text[_ngcontent-%COMP%]{margin-left:5px;font-size:16px}"]});let t=e;return t})();var GJ=()=>["/order-history"],HB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=X({type:e,selectors:[["app-order-success"]],decls:11,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"text-center"],[1,"btn","btn-primary","stretched-link",3,"routerLink"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),x(6,"Order Placed Successfully!"),v(),b(7,"p",6),x(8,"Thank you for your order. Your order has been placed successfully."),v(),b(9,"a",7),x(10,"my order"),v()()()()()()),r&2&&(w(9),R("routerLink",hs(1,GJ)))},dependencies:[Ot]});let t=e;return t})();function qJ(t,e){if(t&1&&Y(0,"img",5),t&2){let i=Z().$implicit;R("src",i.imageUrl,cr)}}function WJ(t,e){if(t&1&&(b(0,"div")(1,"div",1)(2,"div",2)(3,"h5",3),x(4),v(),$(5,qJ,1,1,"img",4),b(6,"p")(7,"strong"),x(8,"Quantity:"),v(),x(9),v(),b(10,"p")(11,"strong"),x(12,"Unit Price:"),v(),x(13),Gt(14,"currency"),v(),b(15,"p")(16,"strong"),x(17,"Total Price:"),v(),x(18),Gt(19,"currency"),v()()()()),t&2){let i=e.$implicit;w(4),It(i.name),w(),R("ngIf",i.imageUrl),w(4),Ce(" ",i.quantity,""),w(4),Ce(" ",ms(14,5,i.unitPrice,"USD"),""),w(5),Ce(" ",ms(19,8,i.quantity*i.unitPrice,"USD"),"")}}function QJ(t,e){if(t&1&&(b(0,"li")(1,"p")(2,"strong"),x(3,"Order Placed On:"),v(),x(4),Gt(5,"date"),v(),$(6,WJ,20,11,"div",0),v()),t&2){let i=e.$implicit;w(4),Ce(" ",ms(5,2,i.createdAt.toDate(),"medium"),""),w(2),R("ngForOf",i.cartItems)}}var GB=(()=>{let e=class e{constructor(n){this.checkoutService=n,this.cartItems$=[]}ngOnInit(){this.orderHistory$=this.checkoutService.getOrderHistory(),this.orderHistory$.forEach(n=>{this.cartItems$=n}),console.log(this.orderHistory$)}};e.\u0275fac=function(r){return new(r||e)(f(Db))},e.\u0275cmp=X({type:e,selectors:[["app-order-history"]],decls:5,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],["class","img-fluid mb-2","alt","Product Image",3,"src",4,"ngIf"],["alt","Product Image",1,"img-fluid","mb-2",3,"src"]],template:function(r,o){r&1&&(b(0,"p"),x(1,"order-history works!"),v(),b(2,"ul"),$(3,QJ,7,5,"li",0),Gt(4,"async"),v()),r&2&&(w(3),R("ngForOf",ln(4,1,o.orderHistory$)))},dependencies:[Nn,qt,Ur,bg,_F]});let t=e;return t})();function TT(t){for(let e in t){let i=t[e]??"";switch(e){case"display":i==="flex"?t.display=["-webkit-flex","flex"]:i==="inline-flex"?t.display=["-webkit-inline-flex","inline-flex"]:t.display=i;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=i;break;case"flex-direction":t["-webkit-flex-direction"]=i,t["flex-direction"]=i;break;case"order":t.order=t["-webkit-"+e]=isNaN(+i)?"0":i;break}}return t}var ST="inline",qB=["row","column","row-reverse","column-reverse"];function WB(t){let[e,i,n]=KJ(t);return ZJ(e,i,n)}function KJ(t){t=t?.toLowerCase()??"";let[e,i,n]=t.split(" ");return qB.find(r=>r===e)||(e=qB[0]),i===ST&&(i=n!==ST?n:"",n=ST),[e,YJ(i),!!n]}function YJ(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap";break}return t}function ZJ(t,e=null,i=!1){return{display:i?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}function QB(t,...e){if(t==null)throw TypeError("Cannot convert undefined or null to object");for(let i of e)if(i!=null)for(let n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);return t}function XJ(t,e){return()=>{if(zr(e)){let i=Array.from(t.querySelectorAll(`[class*=${KB}]`)),n=/\bflex-layout-.+?\b/g;i.forEach(r=>{r.classList.contains(`${KB}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(n,"")})}}}var JJ={provide:nc,useFactory:XJ,deps:[re,st],multi:!0},KB="flex-layout-";var Pd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=j({type:t}),t.\u0275inj=V({providers:[JJ]}),t})(),ul=class t{constructor(e=!1,i="all",n="",r="",o=0){this.matches=e,this.mediaQuery=i,this.mqAlias=n,this.suffix=r,this.priority=o,this.property=""}clone(){return new t(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}};var eee=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(i,n,r){let o=this.stylesheet.get(i);o?o.set(n,r):this.stylesheet.set(i,new Map([[n,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(i,n){let r=this.stylesheet.get(i),o="";if(r){let s=r.get(n);(typeof s=="number"||typeof s=="string")&&(o=s+"")}return o}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Fb={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Zo=new k("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Fb});var hl=new k("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1});var Pb=new k("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function rU(t,e){return t=t?.clone()??new ul,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}var Ys=class{constructor(){this.shouldCache=!0}sideEffect(e,i,n){}};var Od=(()=>{class t{constructor(i,n,r,o){this._serverStylesheet=i,this._serverModuleLoaded=n,this._platformId=r,this.layoutConfig=o}applyStyleToElement(i,n,r=null){let o={};typeof n=="string"&&(o[n]=r,n=o),o=this.layoutConfig.disableVendorPrefixes?n:TT(n),this._applyMultiValueStyleToElement(o,i)}applyStyleToElements(i,n=[]){let r=this.layoutConfig.disableVendorPrefixes?i:TT(i);n.forEach(o=>{this._applyMultiValueStyleToElement(r,o)})}getFlowDirection(i){let n="flex-direction",r=this.lookupStyle(i,n),o=this.lookupInlineStyle(i,n)||Ki(this._platformId)&&this._serverModuleLoaded?r:"";return[r||"row",o]}hasWrap(i){return this.lookupStyle(i,"flex-wrap")==="wrap"}lookupAttributeValue(i,n){return i.getAttribute(n)??""}lookupInlineStyle(i,n){return zr(this._platformId)?i.style.getPropertyValue(n):tee(i,n)}lookupStyle(i,n,r=!1){let o="";return i&&((o=this.lookupInlineStyle(i,n))||(zr(this._platformId)?r||(o=getComputedStyle(i).getPropertyValue(n)):this._serverModuleLoaded&&(o=this._serverStylesheet.getStyleForElement(i,n)))),o?o.trim():""}_applyMultiValueStyleToElement(i,n){Object.keys(i).sort().forEach(r=>{let o=i[r],s=Array.isArray(o)?o:[o];s.sort();for(let a of s)a=a?a+"":"",zr(this._platformId)||!this._serverModuleLoaded?zr(this._platformId)?n.style.setProperty(r,a):iee(n,r,a):this._serverStylesheet.addStyleToElement(n,r,a)})}}return t.\u0275fac=function(i){return new(i||t)(g(eee),g(hl),g(st),g(Zo))},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tee(t,e){return oU(t)[e]??""}function iee(t,e,i){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();let n=oU(t);n[e]=i??"",nee(t,n)}function nee(t,e){let i="";for(let n in e)e[n]&&(i+=`${n}:${e[n]};`);t.setAttribute("style",i)}function oU(t){let e={},i=t.getAttribute("style");if(i){let n=i.split(/;+/g);for(let r=0;r<n.length;r++){let o=n[r].trim();if(o.length>0){let s=o.indexOf(":");if(s===-1)throw new Error(`Invalid CSS style: ${o}`);let a=o.substr(0,s).trim();e[a]=o.substr(s+1).trim()}}}return e}function Km(t,e){let i=t&&t.priority||0;return(e&&e.priority||0)-i}function ree(t,e){let i=t.priority||0,n=e.priority||0;return i-n}var oee=(()=>{class t{constructor(i,n,r){this._zone=i,this._platformId=n,this._document=r,this.source=new tt(new ul(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){let i=[];return this.registry.forEach((n,r)=>{n.matches&&i.push(r)}),i}isActive(i){return this.registry.get(i)?.matches??this.registerQuery(i).some(r=>r.matches)}observe(i,n=!1){if(i&&i.length){let r=this._observable$.pipe(Fe(s=>n?i.indexOf(s.mediaQuery)>-1:!0)),o=new se(s=>{let a=this.registerQuery(i);if(a.length){let l=a.pop();a.forEach(c=>{s.next(c)}),this.source.next(l)}s.complete()});return An(o,r)}return this._observable$}registerQuery(i){let n=Array.isArray(i)?i:[i],r=[];return see(n,this._document),n.forEach(o=>{let s=l=>{this._zone.run(()=>this.source.next(new ul(l.matches,o)))},a=this.registry.get(o);a||(a=this.buildMQL(o),a.addListener(s),this.pendingRemoveListenerFns.push(()=>a.removeListener(s)),this.registry.set(o,a)),a.matches&&r.push(new ul(!0,o))}),r}ngOnDestroy(){let i;for(;i=this.pendingRemoveListenerFns.pop();)i()}buildMQL(i){return lee(i,zr(this._platformId))}}return t.\u0275fac=function(i){return new(i||t)(g(U),g(st),g(re))},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YB={};function see(t,e){let i=t.filter(n=>!YB[n]);if(i.length>0){let n=i.join(", ");try{let r=e.createElement("style");if(r.setAttribute("type","text/css"),!r.styleSheet){let o=`
/*
  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners
  see http://bit.ly/2sd4HMP
*/
@media ${n} {.fx-query-test{ }}
`;r.appendChild(e.createTextNode(o))}e.head.appendChild(r),i.forEach(o=>YB[o]=r)}catch(r){console.error(r)}}}function aee(t){let e=new EventTarget;return e.matches=t==="all"||t==="",e.media=t,e.addListener=()=>{},e.removeListener=()=>{},e.addEventListener=()=>{},e.dispatchEvent=()=>!1,e.onchange=null,e}function lee(t,e){return e&&!!window.matchMedia("all").addListener?window.matchMedia(t):aee(t)}var cee=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}];var ZB="(orientation: portrait) and (max-width: 599.98px)",XB="(orientation: landscape) and (max-width: 959.98px)",JB="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",eU="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",tU="(orientation: portrait) and (min-width: 840px)",iU="(orientation: landscape) and (min-width: 1280px)",Yo={HANDSET:`${ZB}, ${XB}`,TABLET:`${JB} , ${eU}`,WEB:`${tU}, ${iU} `,HANDSET_PORTRAIT:`${ZB}`,TABLET_PORTRAIT:`${JB} `,WEB_PORTRAIT:`${tU}`,HANDSET_LANDSCAPE:`${XB}`,TABLET_LANDSCAPE:`${eU}`,WEB_LANDSCAPE:`${iU}`},dee=[{alias:"handset",priority:2e3,mediaQuery:Yo.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Yo.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Yo.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Yo.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Yo.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Yo.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Yo.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Yo.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Yo.WEB_PORTRAIT,overlapping:!0}],uee=/(\.|-|_)/g;function hee(t){let e=t.length>0?t.charAt(0):"",i=t.length>1?t.slice(1):"";return e.toUpperCase()+i}function mee(t){return t.replace(uee,"|").split("|").map(hee).join("")}function fee(t){return t.forEach(e=>{e.suffix||(e.suffix=mee(e.alias),e.overlapping=!!e.overlapping)}),t}function pee(t,e=[]){let i={};return t.forEach(n=>{i[n.alias]=n}),e.forEach(n=>{i[n.alias]?QB(i[n.alias],n):i[n.alias]=n}),fee(Object.keys(i).map(n=>i[n]))}var gee=new k("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{let t=A(Pb),e=A(Zo),i=[].concat.apply([],(t||[]).map(r=>Array.isArray(r)?r:[r])),n=(e.disableDefaultBps?[]:cee).concat(e.addOrientationBps?dee:[]);return pee(n,i)}});var sU=(()=>{class t{constructor(i){this.findByMap=new Map,this.items=[...i].sort(ree)}findByAlias(i){return i?this.findWithPredicate(i,n=>n.alias===i):null}findByQuery(i){return this.findWithPredicate(i,n=>n.mediaQuery===i)}get overlappings(){return this.items.filter(i=>i.overlapping)}get aliases(){return this.items.map(i=>i.alias)}get suffixes(){return this.items.map(i=>i?.suffix??"")}findWithPredicate(i,n){let r=this.findByMap.get(i);return r||(r=this.items.find(n)??null,this.findByMap.set(i,r)),r??null}}return t.\u0275fac=function(i){return new(i||t)(g(gee))},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Fd="print",vee={alias:Fd,mediaQuery:Fd,priority:1e3},_ee=(()=>{class t{constructor(i,n,r){this.breakpoints=i,this.layoutConfig=n,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new AT,this.deactivations=[]}withPrintQuery(i){return[...i,Fd]}isPrintEvent(i){return i.mediaQuery.startsWith(Fd)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(i=>this.breakpoints.findByAlias(i)).filter(i=>i!==null)}getEventBreakpoints({mediaQuery:i}){let n=this.breakpoints.findByQuery(i);return(n?[...this.printBreakPoints,n]:this.printBreakPoints).sort(Km)}updateEvent(i){let n=this.breakpoints.findByQuery(i.mediaQuery);return this.isPrintEvent(i)&&(n=this.getEventBreakpoints(i)[0],i.mediaQuery=n?.mediaQuery??""),rU(i,n)}registerBeforeAfterPrintHooks(i){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;let n=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(i,this.getEventBreakpoints(new ul(!0,Fd))),i.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(i),i.updateStyles())};this._document.defaultView.addEventListener("beforeprint",n),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(n),this.afterPrintEventListeners.push(r)}interceptEvents(i){return n=>{if(this.isPrintEvent(n)){n.matches&&!this.isPrinting?(this.startPrinting(i,this.getEventBreakpoints(n)),i.updateStyles()):!n.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(i),i.updateStyles());return}this.collectActivations(i,n)}}blockPropagation(){return i=>!(this.isPrinting||this.isPrintEvent(i))}startPrinting(i,n){this.isPrinting=!0,this.formerActivations=i.activatedBreakpoints,i.activatedBreakpoints=this.queue.addPrintBreakpoints(n)}stopPrinting(i){i.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(i,n){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent){this.deactivations=[];return}if(!n.matches){let r=this.breakpoints.findByQuery(n.mediaQuery);if(r){let o=this.formerActivations&&this.formerActivations.includes(r),s=!this.formerActivations&&i.activatedBreakpoints.includes(r);(o||s)&&(this.deactivations.push(r),this.deactivations.sort(Km))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(i=>this._document.defaultView.removeEventListener("beforeprint",i)),this.afterPrintEventListeners.forEach(i=>this._document.defaultView.removeEventListener("afterprint",i)))}}return t.\u0275fac=function(i){return new(i||t)(g(sU),g(Zo),g(re))},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AT=class{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(vee),e.sort(Km),e.forEach(i=>this.addBreakpoint(i)),this.printBreakpoints}addBreakpoint(e){e&&this.printBreakpoints.find(n=>n.mediaQuery===e.mediaQuery)===void 0&&(this.printBreakpoints=bee(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}};function bee(t){return t?.mediaQuery.startsWith(Fd)??!1}var Nd=(()=>{class t{constructor(i,n,r){this.matchMedia=i,this.breakpoints=n,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new W,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(i){this._activatedBreakpoints=[...i]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(i){this._useFallbacks=i}onMediaChange(i){let n=this.findByQuery(i.mediaQuery);if(n){i=rU(i,n);let r=this.activatedBreakpoints.indexOf(n);i.matches&&r===-1?(this._activatedBreakpoints.push(n),this._activatedBreakpoints.sort(Km),this.updateStyles()):!i.matches&&r!==-1&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Km),this.updateStyles())}}init(i,n,r,o,s=[]){nU(this.updateMap,i,n,r),nU(this.clearMap,i,n,o),this.buildElementKeyMap(i,n),this.watchExtraTriggers(i,n,s)}getValue(i,n,r){let o=this.elementMap.get(i);if(o){let s=r!==void 0?o.get(r):this.getActivatedValues(o,n);if(s)return s.get(n)}}hasValue(i,n){let r=this.elementMap.get(i);if(r){let o=this.getActivatedValues(r,n);if(o)return o.get(n)!==void 0||!1}return!1}setValue(i,n,r,o){let s=this.elementMap.get(i);if(!s)s=new Map().set(o,new Map().set(n,r)),this.elementMap.set(i,s);else{let l=(s.get(o)??new Map).set(n,r);s.set(o,l),this.elementMap.set(i,s)}let a=this.getValue(i,n);a!==void 0&&this.updateElement(i,n,a)}trackValue(i,n){return this.subject.asObservable().pipe(Fe(r=>r.element===i&&r.key===n))}updateStyles(){this.elementMap.forEach((i,n)=>{let r=new Set(this.elementKeyMap.get(n)),o=this.getActivatedValues(i);o&&o.forEach((s,a)=>{this.updateElement(n,a,s),r.delete(a)}),r.forEach(s=>{if(o=this.getActivatedValues(i,s),o){let a=o.get(s);this.updateElement(n,s,a)}else this.clearElement(n,s)})})}clearElement(i,n){let r=this.clearMap.get(i);if(r){let o=r.get(n);o&&(o(),this.subject.next({element:i,key:n,value:""}))}}updateElement(i,n,r){let o=this.updateMap.get(i);if(o){let s=o.get(n);s&&(s(r),this.subject.next({element:i,key:n,value:r}))}}releaseElement(i){let n=this.watcherMap.get(i);n&&(n.forEach(o=>o.unsubscribe()),this.watcherMap.delete(i));let r=this.elementMap.get(i);r&&(r.forEach((o,s)=>r.delete(s)),this.elementMap.delete(i))}triggerUpdate(i,n){let r=this.elementMap.get(i);if(r){let o=this.getActivatedValues(r,n);o&&(n?this.updateElement(i,n,o.get(n)):o.forEach((s,a)=>this.updateElement(i,a,s)))}}buildElementKeyMap(i,n){let r=this.elementKeyMap.get(i);r||(r=new Set,this.elementKeyMap.set(i,r)),r.add(n)}watchExtraTriggers(i,n,r){if(r&&r.length){let o=this.watcherMap.get(i);if(o||(o=new Map,this.watcherMap.set(i,o)),!o.get(n)){let a=An(...r).subscribe(()=>{let l=this.getValue(i,n);this.updateElement(i,n,l)});o.set(n,a)}}}findByQuery(i){return this.breakpoints.findByQuery(i)}getActivatedValues(i,n){for(let o=0;o<this.activatedBreakpoints.length;o++){let s=this.activatedBreakpoints[o],a=i.get(s.alias);if(a&&(n===void 0||a.has(n)&&a.get(n)!=null))return a}if(!this._useFallbacks)return;let r=i.get("");return n===void 0||r&&r.has(n)?r:void 0}observeActivations(){let i=this.breakpoints.items.map(n=>n.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe(ot(this.hook.interceptEvents(this)),Fe(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(i){return new(i||t)(g(oee),g(sU),g(_ee))},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nU(t,e,i,n){if(n!==void 0){let r=t.get(e)??new Map;r.set(i,n),t.set(e,r)}}var Ld=(()=>{class t{constructor(i,n,r,o){this.elementRef=i,this.styleBuilder=n,this.styler=r,this.marshal=o,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new W,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,i,this.marshal.activatedAlias)}ngOnChanges(i){Object.keys(i).forEach(n=>{if(this.inputs.indexOf(n)!==-1){let r=n.split(".").slice(1).join("."),o=i[n].currentValue;this.setValue(o,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(i=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),i)}addStyles(i,n){let r=this.styleBuilder,o=r.shouldCache,s=this.styleCache.get(i);(!s||!o)&&(s=r.buildStyles(i,n),o&&this.styleCache.set(i,s)),this.mru=T({},s),this.applyStyleToElement(s),r.sideEffect(i,s,n)}clearStyles(){Object.keys(this.mru).forEach(i=>{this.mru[i]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(i,n=!1){if(i){let[r,o]=this.styler.getFlowDirection(i);if(!o&&n){let s=WB(r),a=[i];this.styler.applyStyleToElements(s,a)}return r.trim()}return"row"}hasWrap(i){return this.styler.hasWrap(i)}applyStyleToElement(i,n,r=this.nativeElement){this.styler.applyStyleToElement(r,i,n)}setValue(i,n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,i,n)}updateWithValue(i){this.currentValue!==i&&(this.addStyles(i),this.currentValue=i)}}return t.\u0275fac=function(i){return new(i||t)(f(K),f(Ys),f(Od),f(Nd))},t.\u0275dir=H({type:t,features:[Ut]}),t})();var wee=(()=>{class t extends Ys{buildStyles(i,n){return{display:i==="true"?n.display||(n.isServer?"initial":""):"none"}}}return t.\u0275fac=(()=>{let e;return function(n){return(e||(e=_t(t)))(n||t)}})(),t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xee=(()=>{class t extends Ld{constructor(i,n,r,o,s,a,l){super(i,n,r,o),this.layoutConfig=s,this.platformId=a,this.serverModuleLoaded=l,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();let i=Array.from(this.nativeElement.children);for(let r=0;r<i.length;r++)if(this.marshal.hasValue(i[r],"flex")){this.hasFlexChild=!0;break}kT.has(this.nativeElement)?this.display=kT.get(this.nativeElement):(this.display=this.getDisplayStyle(),kT.set(this.nativeElement,this.display)),this.init();let n=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");n===void 0||n===""?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(i){Object.keys(i).forEach(n=>{if(this.inputs.indexOf(n)!==-1){let r=n.split("."),o=r.slice(1).join("."),s=i[n].currentValue,a=s!==""?s!==0?Fi(s):!1:!0;r[0]==="fxHide"&&(a=!a),this.setValue(a,o)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(i=>{this.marshal.trackValue(this.nativeElement,i).pipe(Ze(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(i=!0){if(i==="")return;let n=Ki(this.platformId);this.addStyles(i?"true":"false",{display:this.display,isServer:n}),n&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return t.\u0275fac=function(i){return new(i||t)(f(K),f(wee),f(Od),f(Nd),f(Zo),f(st),f(hl))},t.\u0275dir=H({type:t,features:[ve,Ut]}),t})(),kT=new WeakMap,Eee=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];var dU=(()=>{class t extends xee{constructor(){super(...arguments),this.inputs=Eee}}return t.\u0275fac=(()=>{let e;return function(n){return(e||(e=_t(t)))(n||t)}})(),t.\u0275dir=H({type:t,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[ve]}),t})();var MT=class{constructor(e,i,n=!0){this.key=e,this.value=i,this.key=n?e.replace(/['"]/g,"").trim():e.trim(),this.value=n?i.replace(/['"]/g,"").trim():i.trim(),this.value=this.value.replace(/;/,"")}};function uU(t){let e=typeof t;return e==="object"?t.constructor===Array?"array":t.constructor===Set?"set":"object":e}function Iee(t,e=";"){return String(t).trim().split(e).map(i=>i.trim()).filter(i=>i!=="")}function Cee(t,e){let i=n=>(e&&(n.value=e(n.value)),n);return t.map(hU).filter(n=>!!n).map(i).reduce(mU,{})}function lU(t,e){let i=[];return uU(t)==="set"?t.forEach(n=>i.push(n)):Object.keys(t).forEach(n=>{i.push(`${n}:${t[n]}`)}),Cee(i,e)}function hU(t){let[e,...i]=t.split(":");return new MT(e,i.join(":"))}function mU(t,e){return e.key&&(t[e.key]=e.value),t}var Dee=(()=>{class t extends Ld{constructor(i,n,r,o,s,a,l,c,d){super(i,null,n,r),this.sanitizer=o,this.ngStyleInstance=l,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new sc(i,s,a)),this.init();let u=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(u),this.isServer=c&&Ki(d)}updateWithValue(i){let n=this.buildStyleMap(i);this.ngStyleInstance.ngStyle=T(T({},this.fallbackStyles),n),this.isServer&&this.applyStyleToElement(n),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(i){let n=r=>this.sanitizer.sanitize(zt.STYLE,r)??"";if(i)switch(uU(i)){case"string":return cU(Iee(i),n);case"array":return cU(i,n);case"set":return lU(i,n);default:return lU(i,n)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return t.\u0275fac=function(i){return new(i||t)(f(K),f(Od),f(Nd),f(Ca),f(Ru),f(Gi),f(sc,10),f(hl),f(st))},t.\u0275dir=H({type:t,features:[ve]}),t})(),See=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];var fU=(()=>{class t extends Dee{constructor(){super(...arguments),this.inputs=See}}return t.\u0275fac=(()=>{let e;return function(n){return(e||(e=_t(t)))(n||t)}})(),t.\u0275dir=H({type:t,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[ve]}),t})();function cU(t,e){let i=n=>(e&&(n.value=e(n.value)),n);return t.map(hU).filter(n=>!!n).map(i).reduce(mU,{})}var RT=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=j({type:t}),t.\u0275inj=V({imports:[Pd]}),t})();var Tee=()=>["/userDashboard"],Aee=()=>["/order-status"],kee=()=>["/checkout"],Mee=()=>["/cart-details"],Ree=()=>["/order-history"],Fee=t=>({"background-image":t});function Pee(t,e){t&1&&Y(0,"div",27)}function Oee(t,e){if(t&1){let i=it();b(0,"marquee",28)(1,"h4",29),x(2,"You are a guest user! Please "),b(3,"button",30),le("click",function(){Le(i);let r=Z();return Ve(r.redirectToLogin())}),x(4,"Login"),v(),x(5," to access the services."),v()()}}function Nee(t,e){if(t&1){let i=it();b(0,"button",31),le("click",function(){Le(i);let r=Z();return Ve(r.onLogout())}),x(1,"Logout"),v()}}function Lee(t,e){if(t&1&&(b(0,"p")(1,"span",32),x(2),v()()),t&2){let i=Z();w(2),Ce("Logged in as: ",i.userEmail,"")}}function Vee(t,e){t&1&&(b(0,"p"),x(1,"You are a guest user! Please login to access the services."),v())}function jee(t,e){if(t&1){let i=it();b(0,"button",31),le("click",function(){Le(i);let r=Z();return Ve(r.redirectToLogin())}),x(1,"Login"),v()}}var gU=(()=>{let e=class e{constructor(n,r){this.authService=n,this.router=r,this.backgroundImageUrl="assets/img/bhole.jpg"}ngOnInit(){let n=this.authService.getUserCookies(),r=this.authService.getCurrentUserEmail();n&&r?this.userEmail=r:this.userEmail="",this.isLoggedIn$=this.authService.isLoggedIn()}onLogout(){this.authService.logout(),this.logoutAndRedirect()}logoutAndRedirect(){localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}redirectToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(r){return new(r||e)(f(zn),f(At))},e.\u0275cmp=X({type:e,selectors:[["app-user-dashboard"]],decls:73,vars:29,consts:[["guestUserTemplate",""],[1,"container"],[1,"row"],[1,"col","text-center"],[1,"mb-4"],["class","dashboard-links",4,"ngIf","ngIfElse"],[1,"container","mt-4"],[1,"col-md-3"],[1,"card"],[1,"card-header"],[2,"color","black"],[1,"row","cursor-pointer"],[1,"card-body"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link","active",3,"routerLink"],[1,"btn","btn-primary","btn-sm","small-button"],[1,"nav-link",3,"routerLink"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"col-md-9"],[1,"card",3,"ngStyle"],[1,"jumbotron","text-center"],[1,"display-4"],[1,"lead"],[2,"color","green"],[1,"my-4"],[4,"ngIf"],[1,"dashboard-links"],["behavior","scroll","direction","left"],[1,"text-danger","mb-0"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-primary",3,"click"],[2,"color","royalblue"]],template:function(r,o){if(r&1&&(b(0,"p"),x(1,"user-dashboard works!"),v(),b(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),x(6,"Welcome to Your Dashboard"),v(),$(7,Pee,1,0,"div",5),Gt(8,"async"),$(9,Oee,6,0,"ng-template",null,0,pn),v()()(),b(11,"div",6)(12,"div",2)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5")(17,"span",10),x(18,"Navigation"),v()(),Y(19,"div",11),v(),b(20,"div",12)(21,"ul",13)(22,"li",14)(23,"a",15)(24,"button",16)(25,"span",10),x(26,"Dashboard"),v()()()(),b(27,"li",14)(28,"a",17)(29,"button",16)(30,"span"),x(31,"OrderStatus"),v()()()(),b(32,"li",14)(33,"a",17)(34,"button",16)(35,"span"),x(36,"UserInformation"),v()()()(),b(37,"li",14)(38,"a",17)(39,"button",16)(40,"span"),x(41,"Cart-Details"),v()()()(),b(42,"li",14)(43,"a",17)(44,"button",16)(45,"span"),x(46,"OrderHistory"),v()()()(),Y(47,"div"),b(48,"li",14),$(49,Nee,2,0,"button",18),Gt(50,"async"),v()()()()(),b(51,"div",19)(52,"div",8)(53,"div",20)(54,"div",9)(55,"h5")(56,"span",10),x(57," Dashboard"),v()()(),b(58,"div",12)(59,"div",21)(60,"h1",22)(61,"span",10),x(62,"Welcom to your Dashboard !"),v()(),b(63,"p",23)(64,"span",24),x(65,"Manage and access various services here."),v()(),Y(66,"hr",25),$(67,Lee,3,1,"p",26),Gt(68,"async"),$(69,Vee,2,0,"p",26),Gt(70,"async"),$(71,jee,2,0,"button",18),Gt(72,"async"),v()()()()()()()),r&2){let s=hi(10);w(7),R("ngIf",ln(8,12,o.isLoggedIn$))("ngIfElse",s),w(16),R("routerLink",hs(22,Tee)),w(5),R("routerLink",hs(23,Aee)),w(5),R("routerLink",hs(24,kee)),w(5),R("routerLink",hs(25,Mee)),w(5),R("routerLink",hs(26,Ree)),w(6),R("ngIf",ln(50,14,o.isLoggedIn$)),w(4),R("ngStyle",ur(27,Fee,"url("+o.backgroundImageUrl+")")),w(14),R("ngIf",ln(68,16,o.isLoggedIn$)),w(2),R("ngIf",!ln(70,18,o.isLoggedIn$)),w(2),R("ngIf",!ln(72,20,o.isLoggedIn$))}},dependencies:[qt,sc,Ot,fU,Ur],styles:[".menu-sidebar-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.navbar-sidebar[_ngcontent-%COMP%]{background-color:#fff;border-right:1px solid #ddd;padding-top:20px}.navbar-list[_ngcontent-%COMP%]{padding-left:0}.nav-item[_ngcontent-%COMP%]{margin-bottom:10px}.nav-link[_ngcontent-%COMP%]{color:#333;text-decoration:none;transition:color .3s ease;display:block;padding:8px 0}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.active-link[_ngcontent-%COMP%]{font-weight:700;color:#007bff}@media (max-width: 768px){.menu-sidebar-content[_ngcontent-%COMP%]{height:auto;overflow-y:visible}.navbar-list[_ngcontent-%COMP%]{margin-top:20px}.nav-item[_ngcontent-%COMP%]{margin-bottom:8px}.nav-link[_ngcontent-%COMP%]{padding:5px 0}}"]});let t=e;return t})();var Bee=[{path:"login",component:AN},{path:"signup",component:kN},{path:"home",component:MN},{path:"category",component:Gm},{path:"category/:id",component:Gm},{path:"products/:categoryId",component:CT,canActivate:[Qo]},{path:"products",component:IT},{path:"",component:IT},{path:"category/:category/:id",component:FB},{path:"products/:id",component:CT,canActivate:[Qo]},{path:"cart-details",component:PB,canActivate:[Qo]},{path:"checkout",component:NB,canActivate:[Qo]},{path:"cart-status",component:Rb,canActivate:[Qo]},{path:"order-status",component:HB,canActivate:[Qo]},{path:"order-history",component:GB,canActivate:[Qo]},{path:"userDashboard",component:gU,canActivate:[Qo]}],vU=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[DE.forRoot(Bee),DE]});let t=e;return t})();var Uee=["*",[["mat-toolbar-row"]]],zee=["*","mat-toolbar-row"],FT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let t=e;return t})(),_U=(()=>{let e=class e{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(f(K),f($e),f(re))},e.\u0275cmp=X({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&ft(s,FT,5),r&2){let a;Be(a=Ue())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(Xt(o.color?"mat-"+o.color:""),Ie("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Me],ngContentSelectors:zee,decls:2,vars:0,template:function(r,o){r&1&&(ct(Uee),Ae(0),Ae(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var PT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,De]});let t=e;return t})();var bU=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,De]});let t=e;return t})();var Hee=["*"],Gee='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',qee=["unscopedContent"],Wee=["text"],Qee=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Kee=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var Yee=new k("ListOption"),Zee=(()=>{let e=class e{constructor(n){this._elementRef=n}};e.\u0275fac=function(r){return new(r||e)(f(K))},e.\u0275dir=H({type:e,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0});let t=e;return t})(),Xee=(()=>{let e=class e{constructor(n){this._elementRef=n}};e.\u0275fac=function(r){return new(r||e)(f(K))},e.\u0275dir=H({type:e,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0});let t=e;return t})(),Jee=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0});let t=e;return t})(),yU=(()=>{let e=class e{constructor(n){this._listOption=n}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}};e.\u0275fac=function(r){return new(r||e)(f(Yee,8))},e.\u0275dir=H({type:e,hostVars:4,hostBindings:function(r,o){r&2&&Ie("mdc-list-item__start",o._isAlignedAtStart())("mdc-list-item__end",!o._isAlignedAtStart())},standalone:!0});let t=e;return t})(),ete=(()=>{let e=class e extends yU{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[ve]});let t=e;return t})(),tte=(()=>{let e=class e extends yU{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[ve]});let t=e;return t})(),ite=new k("MAT_LIST_CONFIG"),Ob=(()=>{let e=class e{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=A(ite,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Fi(n)}get disabled(){return this._disabled}set disabled(n){this._disabled=Fi(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=H({type:e,hostVars:1,hostBindings:function(r,o){r&2&&ze("aria-disabled",o.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let t=e;return t})(),nte=(()=>{let e=class e{set lines(n){this._explicitLines=Po(n,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(n){this._disableRipple=Fi(n)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(n){this._disabled=Fi(n)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(n,r,o,s,a,l){this._elementRef=n,this._ngZone=r,this._listBase=o,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ye,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=l==="NoopAnimations",o&&!o._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new xh(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(An(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(n){if(!this._lines||!this._titles||!this._unscopedContent)return;n&&this._checkDomForUnscopedTextContent();let r=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",r===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",r===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&r===1;o.classList.toggle("mdc-list-item__primary-text",s),o.classList.toggle("mdc-list-item__secondary-text",!s)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let n=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(n+=1),n}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(n=>n.nodeType!==n.COMMENT_NODE).some(n=>!!(n.textContent&&n.textContent.trim()))}};e.\u0275fac=function(r){return new(r||e)(f(K),f(U),f(Ob,8),f($e),f(Eh,8),f(li,8))},e.\u0275dir=H({type:e,contentQueries:function(r,o,s){if(r&1&&(ft(s,ete,4),ft(s,tte,4)),r&2){let a;Be(a=Ue())&&(o._avatars=a),Be(a=Ue())&&(o._icons=a)}},hostVars:4,hostBindings:function(r,o){r&2&&(ze("aria-disabled",o.disabled)("disabled",o._isButtonElement&&o.disabled||null),Ie("mdc-list-item--disabled",o.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let t=e;return t})();var wU=(()=>{let e=class e extends nte{get activated(){return this._activated}set activated(n){this._activated=Fi(n)}constructor(n,r,o,s,a,l){super(n,r,o,s,a,l),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}};e.\u0275fac=function(r){return new(r||e)(f(K),f(U),f(Ob,8),f($e),f(Eh,8),f(li,8))},e.\u0275cmp=X({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,o,s){if(r&1&&(ft(s,Xee,5),ft(s,Zee,5),ft(s,Jee,5)),r&2){let a;Be(a=Ue())&&(o._lines=a),Be(a=Ue())&&(o._titles=a),Be(a=Ue())&&(o._meta=a)}},viewQuery:function(r,o){if(r&1&&(Ri(qee,5),Ri(Wee,5)),r&2){let s;Be(s=Ue())&&(o._unscopedContent=s.first),Be(s=Ue())&&(o._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&2&&(ze("aria-current",o._getAriaCurrent()),Ie("mdc-list-item--activated",o.activated)("mdc-list-item--with-leading-avatar",o._avatars.length!==0)("mdc-list-item--with-leading-icon",o._icons.length!==0)("mdc-list-item--with-trailing-meta",o._meta.length!==0)("_mat-animation-noopable",o._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[ve,Me],ngContentSelectors:Kee,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(r,o){if(r&1){let s=it();ct(Qee),Ae(0),b(1,"span",1),Ae(2,1),Ae(3,2),b(4,"span",2,0),le("cdkObserveContent",function(){return Le(s),Ve(o._updateItemLines(!0))}),Ae(6,3),v()(),Ae(7,4),Ae(8,5),Y(9,"div",3)}},dependencies:[VO],encapsulation:2,changeDetection:0});let t=e;return t})();var xU=(()=>{let e=class e extends Ob{constructor(){super(...arguments),this._isNonInteractive=!1}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275cmp=X({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[yt([{provide:Ob,useExisting:e}]),ve,Me],ngContentSelectors:Hee,decls:1,vars:0,template:function(r,o){r&1&&(ct(),Ae(0))},styles:[Gee],encapsulation:2,changeDetection:0});let t=e;return t})();var OT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[Rc,_n,De,Ih,lN,bU]});let t=e;return t})();var Vb=["*"],ste=["content"],ate=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],lte=["mat-drawer","mat-drawer-content","*"];function cte(t,e){if(t&1){let i=it();b(0,"div",1),le("click",function(){Le(i);let r=Z();return Ve(r._onBackdropClicked())}),v()}if(t&2){let i=Z();Ie("mat-drawer-shown",i._isShowingBackdrop())}}function dte(t,e){t&1&&(b(0,"mat-drawer-content"),Ae(1,2),v())}var ute=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],hte=["mat-sidenav","mat-sidenav-content","*"];function mte(t,e){if(t&1){let i=it();b(0,"div",1),le("click",function(){Le(i);let r=Z();return Ve(r._onBackdropClicked())}),v()}if(t&2){let i=Z();Ie("mat-drawer-shown",i._isShowingBackdrop())}}function fte(t,e){t&1&&(b(0,"mat-sidenav-content"),Ae(1,2),v())}var pte='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',EU={transformDrawer:Fo("transform",[xi("open, open-instant",Wt({transform:"none",visibility:"visible"})),xi("void",Wt({"box-shadow":"none",visibility:"hidden"})),Bn("void => open-instant",jn("0ms")),Bn("void <=> open, open-instant => void",jn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var gte=new k("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:vte}),NT=new k("MAT_DRAWER_CONTAINER");function vte(){return!1}var Nb=(()=>{let e=class e extends Vc{constructor(n,r,o,s,a){super(o,s,a),this._changeDetectorRef=n,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};e.\u0275fac=function(r){return new(r||e)(f(pt),f(ui(()=>CU)),f(K),f(Lc),f(U))},e.\u0275cmp=X({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,o){r&2&&fn("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[yt([{provide:Vc,useExisting:e}]),ve,Me],ngContentSelectors:Vb,decls:1,vars:0,template:function(r,o){r&1&&(ct(),Ae(0))},encapsulation:2,changeDetection:0});let t=e;return t})(),IU=(()=>{let e=class e{get position(){return this._position}set position(n){n=n==="end"?"end":"start",n!==this._position&&(this._isAttached&&this._updatePositionInParent(n),this._position=n,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(n){this._mode=n,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(n){this._disableClose=Fi(n)}get autoFocus(){let n=this._autoFocus;return n??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(n){(n==="true"||n==="false"||n==null)&&(n=Fi(n)),this._autoFocus=n}get opened(){return this._opened}set opened(n){this.toggle(Fi(n))}constructor(n,r,o,s,a,l,c,d){this._elementRef=n,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=s,this._ngZone=a,this._interactivityChecker=l,this._doc=c,this._container=d,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new W,this._animationEnd=new W,this._animationState="void",this.openedChange=new Te(!0),this._openedStream=this.openedChange.pipe(Fe(u=>u),B(()=>{})),this.openedStart=this._animationStarted.pipe(Fe(u=>u.fromState!==u.toState&&u.toState.indexOf("open")===0),Ml(void 0)),this._closedStream=this.openedChange.pipe(Fe(u=>!u),B(()=>{})),this.closedStart=this._animationStarted.pipe(Fe(u=>u.fromState!==u.toState&&u.toState==="void"),Ml(void 0)),this._destroyed=new W,this.onPositionChanged=new Te,this._modeChanged=new W,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{go(this._elementRef.nativeElement,"keydown").pipe(Fe(u=>u.keyCode===27&&!this.disableClose&&!kc(u)),Ze(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(tr((u,h)=>u.fromState===h.fromState&&u.toState===h.toState)).subscribe(u=>{let{fromState:h,toState:m}=u;(m.indexOf("open")===0&&h==="void"||m==="void"&&h.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;let n=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&typeof this._elementRef.nativeElement.focus=="function"&&n.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(n){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,n):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let n=this._doc.activeElement;return!!n&&this._elementRef.nativeElement.contains(n)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(n){return this.toggle(!0,n)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(n=!this.opened,r){n&&r&&(this._openedVia=r);let o=this._setOpen(n,!n&&this._isFocusWithinDrawer(),this._openedVia||"program");return n||(this._openedVia=null),o}_setOpen(n,r,o){return this._opened=n,n?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Et(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(n){if(!this._platform.isBrowser)return;let r=this._elementRef.nativeElement,o=r.parentNode;n==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}};e.\u0275fac=function(r){return new(r||e)(f(K),f(YO),f(Pc),f($e),f(U),f(_h),f(re,8),f(NT,8))},e.\u0275cmp=X({type:e,selectors:[["mat-drawer"]],viewQuery:function(r,o){if(r&1&&Ri(ste,5),r&2){let s;Be(s=Ue())&&(o._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(r,o){r&1&&Tu("@transform.start",function(a){return o._animationStarted.next(a)})("@transform.done",function(a){return o._animationEnd.next(a)}),r&2&&(xa("@transform",o._animationState),ze("align",null),Ie("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Me],ngContentSelectors:Vb,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,o){r&1&&(ct(),b(0,"div",1,0),Ae(2),v())},dependencies:[Vc],encapsulation:2,data:{animation:[EU.transformDrawer]},changeDetection:0});let t=e;return t})(),CU=(()=>{let e=class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(n){this._autosize=Fi(n)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(n){this._backdropOverride=n==null?null:Fi(n)}get scrollable(){return this._userContent||this._content}constructor(n,r,o,s,a,l=!1,c){this._dir=n,this._element=r,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=c,this._drawers=new hn,this.backdropClick=new Te,this._destroyed=new W,this._doCheckSubject=new W,this._contentMargins={left:null,right:null},this._contentMarginChanges=new W,n&&n.change.pipe(Ze(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Ze(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(si(this._allDrawers),Ze(this._destroyed)).subscribe(n=>{this._drawers.reset(n.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(si(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(n=>{this._watchDrawerToggle(n),this._watchDrawerPosition(n),this._watchDrawerMode(n)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(kn(10),Ze(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(n=>n.open())}close(){this._drawers.forEach(n=>n.close())}updateContentMargins(){let n=0,r=0;if(this._left&&this._left.opened){if(this._left.mode=="side")n+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();n+=o,r-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")r+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();r+=o,n-=o}}n=n||null,r=r||null,(n!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:n,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(n){n._animationStarted.pipe(Fe(r=>r.fromState!==r.toState),Ze(this._drawers.changes)).subscribe(r=>{r.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),n.mode!=="side"&&n.openedChange.pipe(Ze(this._drawers.changes)).subscribe(()=>this._setContainerClass(n.opened))}_watchDrawerPosition(n){n&&n.onPositionChanged.pipe(Ze(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Et(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(n){n&&n._modeChanged.pipe(Ze(An(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(n){let r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";n?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(n=>{n.position=="end"?(this._end!=null,this._end=n):(this._start!=null,this._start=n)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(n=>n&&!n.disableClose&&this._drawerHasBackdrop(n)).forEach(n=>n._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(n){return n!=null&&n.opened}_drawerHasBackdrop(n){return this._backdropOverride==null?!!n&&n.mode!=="side":this._backdropOverride}};e.\u0275fac=function(r){return new(r||e)(f(Wr,8),f(K),f(U),f(pt),f(kh),f(gte),f(li,8))},e.\u0275cmp=X({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(r,o,s){if(r&1&&(ft(s,Nb,5),ft(s,IU,5)),r&2){let a;Be(a=Ue())&&(o._content=a.first),Be(a=Ue())&&(o._allDrawers=a)}},viewQuery:function(r,o){if(r&1&&Ri(Nb,5),r&2){let s;Be(s=Ue())&&(o._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,o){r&2&&Ie("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[yt([{provide:NT,useExisting:e}]),Me],ngContentSelectors:lte,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(ct(ate),$(0,cte,1,2,"div",0),Ae(1),Ae(2,1),$(3,dte,2,0,"mat-drawer-content")),r&2&&(Ht(0,o.hasBackdrop?0:-1),w(3),Ht(3,o._content?-1:3))},dependencies:[Nb],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let t=e;return t})(),Lb=(()=>{let e=class e extends Nb{constructor(n,r,o,s,a){super(n,r,o,s,a)}};e.\u0275fac=function(r){return new(r||e)(f(pt),f(ui(()=>VT)),f(K),f(Lc),f(U))},e.\u0275cmp=X({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,o){r&2&&fn("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[yt([{provide:Vc,useExisting:e}]),ve,Me],ngContentSelectors:Vb,decls:1,vars:0,template:function(r,o){r&1&&(ct(),Ae(0))},encapsulation:2,changeDetection:0});let t=e;return t})(),LT=(()=>{let e=class e extends IU{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(n){this._fixedInViewport=Fi(n)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(n){this._fixedTopGap=Po(n)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(n){this._fixedBottomGap=Po(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275cmp=X({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,o){r&2&&(ze("align",null),fn("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),Ie("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[ve,Me],ngContentSelectors:Vb,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,o){r&1&&(ct(),b(0,"div",1,0),Ae(2),v())},dependencies:[Vc],encapsulation:2,data:{animation:[EU.transformDrawer]},changeDetection:0});let t=e;return t})(),VT=(()=>{let e=class e extends CU{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275cmp=X({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(r,o,s){if(r&1&&(ft(s,Lb,5),ft(s,LT,5)),r&2){let a;Be(a=Ue())&&(o._content=a.first),Be(a=Ue())&&(o._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,o){r&2&&Ie("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[yt([{provide:NT,useExisting:e}]),ve,Me],ngContentSelectors:hte,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(ct(ute),$(0,mte,1,2,"div",0),Ae(1),Ae(2,1),$(3,fte,2,0,"mat-sidenav-content")),r&2&&(Ht(0,o.hasBackdrop?0:-1),w(3),Ht(3,o._content?-1:3))},dependencies:[Lb],styles:[pte],encapsulation:2,changeDetection:0});let t=e;return t})(),jT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,Ah,Ah,De]});let t=e;return t})();var bte={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},yte=(()=>{class t extends Ys{buildStyles(i){return bte}}return t.\u0275fac=(()=>{let e;return function(n){return(e||(e=_t(t)))(n||t)}})(),t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),DU=(()=>{class t extends Ld{constructor(i,n,r,o){super(i,r,n,o),this.styleCache=wte,this.addStyles("")}}return t.\u0275fac=function(i){return new(i||t)(f(K),f(Od),f(yte),f(Nd))},t.\u0275dir=H({type:t,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[ve]}),t})(),wte=new Map;var BT=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=j({type:t}),t.\u0275inj=V({imports:[Pd,Qr]}),t})();function Ete(t,e){if(t&1&&(b(0,"option",20),x(1),v()),t&2){let i=e.$implicit;R("value",i.id),w(),Ce(" ",i.data.category," ")}}var SU=(()=>{let e=class e{constructor(n,r,o,s){this.toastr=n,this.categorys=r,this.cartService=o,this.router=s,this.title="cracker-frontend-app1",this.category=[],this.sidebarActive=!1,this.categoryArrays=[],this.isSidebarOpen=!1}toggleSidebar(){this.toastr.success("yest"),console.log(this.toastr.success("hi")),this.sidebarActive=!this.sidebarActive,this.isSidebarOpen=!this.isSidebarOpen}ngOnInit(){this.cartService.cartItemsCollection,this.getAllCategory()}getAllCategory(){this.categorys.loadDatas().subscribe(n=>{console.log("product categorie="+JSON.stringify(n)),this.categoryArrays=n})}onCategorySelected(n){let r=n.target.value,o=this.categoryArrays.find(s=>s.id===r);if(o){let s=o.data.category;console.log(`Selected category ID: ${r}, Name: ${s}`),this.router.navigate(["/category",s,r])}}};e.\u0275fac=function(r){return new(r||e)(f(Sc),f(Eb),f(Qn),f(At))},e.\u0275cmp=X({type:e,selectors:[["app-root"]],decls:33,vars:1,consts:[["sidenav",""],[2,"height","100vh"],["color","primary"],["mat-icon-button","","fxShow","true","fxHide.gt-sm","",3,"click"],["src","../assets/icon/home.svg","alt","Home Icon"],["mat-icon-button","","fxShow","false","fxHide.gt-sm","",3,"click"],["routerLink","products"],["routerLink","/"],[1,"example-spacer"],["fxShow","true","fxHide.lt-md",""],["mat-button","","routerLink","/Category"],[1,"form-control","custom-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["fxFlexFill","","fxShow","true"],["mode","side"],["mat-list-item","",3,"click"],["src","../assets/icon/cross-icon.svg","alt","Home Icon"],[3,"click"],["fxFlexFill",""],[3,"value"]],template:function(r,o){if(r&1){let s=it();b(0,"div",1)(1,"mat-toolbar",2)(2,"mat-toolbar-row")(3,"button",3),le("click",function(){Le(s);let l=hi(20);return Ve(l.toggle())}),Y(4,"img",4),v(),b(5,"button",5),le("click",function(){return Le(s),Ve(o.toggleSidebar())}),Y(6,"img",4),v(),b(7,"div",6)(8,"span",7),x(9,"Home"),v()(),Y(10,"span",8),b(11,"div",9)(12,"a",10)(13,"select",11),le("change",function(l){return Le(s),Ve(o.onCategorySelected(l))}),b(14,"option",12),x(15,"Select Category"),v(),$(16,Ete,2,2,"option",13),v()()(),Y(17,"app-cart-status"),v()(),b(18,"mat-sidenav-container",14)(19,"mat-sidenav",15,0)(21,"mat-nav-list")(22,"a",16),le("click",function(){Le(s);let l=hi(20);return Ve(l.toggle())}),Y(23,"img",17),x(24," Close "),v(),b(25,"h2"),x(26,"Category"),v(),b(27,"app-product-category-menu",18),le("click",function(){Le(s);let l=hi(20);return Ve(l.toggle())}),v(),b(28,"a",16),le("click",function(){Le(s);let l=hi(20);return Ve(l.toggle())}),Y(29,"img",17),x(30," Close "),v()()(),b(31,"mat-sidenav-content",19),Y(32,"router-outlet"),v()()()}r&2&&(w(16),R("ngForOf",o.categoryArrays))},dependencies:[Nn,bE,Ot,oO,aO,_U,FT,pN,gN,xU,wU,LT,VT,Lb,DU,dU,Gm,Rb],styles:[".example-icon[_ngcontent-%COMP%]{padding:0 14px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Roboto,sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}.mat-toolbar[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.mat-sidenav[_ngcontent-%COMP%]{width:250px}.mat-sidenav-container[_ngcontent-%COMP%]{flex:1}.mat-sidenav-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 600px){.mat-toolbar-row[_ngcontent-%COMP%]{justify-content:center}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-sidenav[_ngcontent-%COMP%]{width:80%}}mat-icon[_ngcontent-%COMP%]{margin-right:8px}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.menu-button[_ngcontent-%COMP%]{transition:transform .3s ease}.menu-button.close[_ngcontent-%COMP%]{transform:rotate(180deg)}"]});let t=e;return t})();var TU={production:!0,firebaseConfig:{apiKey:"AIzaSyAZQ-uhsqqy9H6xJKcIk55H_st8C9Gfe84",authDomain:"cracker-sale.firebaseapp.com",projectId:"cracker-sale",storageBucket:"cracker-sale.appspot.com",messagingSenderId:"1097555753310",appId:"1:1097555753310:web:dc6253839b011b69b437cf",measurementId:"G-JJXFVM87JF"}};var LU="firebasestorage.googleapis.com",VU="storageBucket",Ite=2*60*1e3,Cte=10*60*1e3,Dte=1e3;var Mt=class t extends hf{constructor(e,i,n=0){super(UT(e),`Firebase Storage: ${i} (${UT(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Dt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Dt||{});function UT(t){return"storage/"+t}function KT(){let t="An unknown error occurred, please check the error payload for server response.";return new Mt(Dt.UNKNOWN,t)}function Ste(t){return new Mt(Dt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Tte(t){return new Mt(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ate(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Dt.UNAUTHENTICATED,t)}function kte(){return new Mt(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Mte(t){return new Mt(Dt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jU(){return new Mt(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BU(){return new Mt(Dt.CANCELED,"User canceled the upload/download.")}function Rte(t){return new Mt(Dt.INVALID_URL,"Invalid URL '"+t+"'.")}function Fte(t){return new Mt(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Pte(){return new Mt(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VU+"' property when initializing the app?")}function UU(){return new Mt(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ote(){return new Mt(Dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Nte(){return new Mt(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Lte(t){return new Mt(Dt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ml(t){return new Mt(Dt.INVALID_ARGUMENT,t)}function zU(){return new Mt(Dt.APP_DELETED,"The Firebase app was deleted.")}function YT(t){return new Mt(Dt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zm(t,e){return new Mt(Dt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ym(t){throw new Mt(Dt.INTERNAL_ERROR,"Internal error: "+t)}var nn=class t{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=t.makeFromUrl(e,i)}catch{return new t(e,"")}if(n.path==="")return n;throw Fte(e)}static makeFromUrl(e,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}let d="v[A-Za-z0-9_]+",u=i.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${u}/${d}/b/${r}/o${h}`,"i"),p={bucket:1,path:3},_=i===LU?"(?:storage.googleapis.com|storage.cloud.google.com)":i,y="([^?#]*)",E=new RegExp(`^https?://${_}/${r}/${y}`,"i"),M=[{regex:a,indices:l,postModify:o},{regex:m,indices:p,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<M.length;P++){let ie=M[P],ne=ie.regex.exec(e);if(ne){let he=ne[ie.indices.bucket],Ge=ne[ie.indices.path];Ge||(Ge=""),n=new t(he,Ge),ie.postModify(n);break}}if(n==null)throw Rte(e);return n}},$T=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Vte(t,e,i){let n=1,r=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function d(...y){c||(c=!0,e.apply(null,y))}function u(y){r=setTimeout(()=>{r=null,t(m,l())},y)}function h(){o&&clearTimeout(o)}function m(y,...E){if(c){h();return}if(y){h(),d.call(null,y,...E);return}if(l()||s){h(),d.call(null,y,...E);return}n<64&&(n*=2);let M;a===1?(a=2,M=0):M=(n+Math.random())*1e3,u(M)}let p=!1;function _(y){p||(p=!0,h(),!c&&(r!==null?(y||(a=2),clearTimeout(r),u(0)):y||(a=1)))}return u(0),o=setTimeout(()=>{s=!0,_(!0)},i),_}function jte(t){t(!1)}function Bte(t){return t!==void 0}function Ute(t){return typeof t=="function"}function zte(t){return typeof t=="object"&&!Array.isArray(t)}function Ub(t){return typeof t=="string"||t instanceof String}function AU(t){return ZT()&&t instanceof Blob}function ZT(){return typeof Blob<"u"}function HT(t,e,i,n){if(n<e)throw ml(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw ml(`Invalid value for '${t}'. Expected ${i} or less.`)}function Zs(t,e,i){let n=e;return i==null&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function $U(t){let e=encodeURIComponent,i="?";for(let n in t)if(t.hasOwnProperty(n)){let r=e(n)+"="+e(t[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var Bd=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Bd||{});function HU(t,e){let i=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return i||r||o}var GT=class{constructor(e,i,n,r,o,s,a,l,c,d,u,h=!0){this.url_=e,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){let e=(n,r)=>{if(r){n(!1,new jd(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Bd.NO_ERROR,l=o.getStatus();if(!a||HU(l,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===Bd.ABORT;n(!1,new jd(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;n(!0,new jd(c,o))})},i=(n,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());Bte(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=KT();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(r.canceled){let l=this.appDelete_?zU():BU();s(l)}else{let l=jU();s(l)}};this.canceled_?i(!1,new jd(!1,null,!0)):this.backoffId_=Vte(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},jd=class{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}};function $te(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Gte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Wte(t,e,i,n,r,o,s=!0){let a=$U(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Gte(c,e),$te(c,i),Hte(c,o),qte(c,n),new GT(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}function Qte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kte(...t){let e=Qte();if(e!==void 0){let i=new e;for(let n=0;n<t.length;n++)i.append(t[n]);return i.getBlob()}else{if(ZT())return new Blob(t);throw new Mt(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yte(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}function Zte(t){if(typeof atob>"u")throw Lte("base-64");return atob(t)}var Cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Xm=class{constructor(e,i){this.data=e,this.contentType=i||null}};function XT(t,e){switch(t){case Cn.RAW:return new Xm(GU(e));case Cn.BASE64:case Cn.BASE64URL:return new Xm(qU(t,e));case Cn.DATA_URL:return new Xm(Jte(e),eie(e))}throw KT()}function GU(t){let e=[];for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<t.length-1&&(t.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{let o=n,s=t.charCodeAt(++i);n=65536|(o&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Xte(t){let e;try{e=decodeURIComponent(t)}catch{throw Zm(Cn.DATA_URL,"Malformed data URL.")}return GU(e)}function qU(t,e){switch(t){case Cn.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Zm(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Cn.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Zm(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=Zte(e)}catch(r){throw r.message.includes("polyfill")?r:Zm(t,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var Bb=class{constructor(e){this.base64=!1,this.contentType=null;let i=e.match(/^data:([^,]+)?,/);if(i===null)throw Zm(Cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=tie(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}};function Jte(t){let e=new Bb(t);return e.base64?qU(Cn.BASE64,e.rest):Xte(e.rest)}function eie(t){return new Bb(t).contentType}function tie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Ud=class t{constructor(e,i){let n=0,r="";AU(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,i){if(AU(this.data_)){let n=this.data_,r=Yte(n,e,i);return r===null?null:new t(r)}else{let n=new Uint8Array(this.data_.buffer,e,i-e);return new t(n,!0)}}static getBlob(...e){if(ZT()){let i=e.map(n=>n instanceof t?n.data_:n);return new t(Kte.apply(null,i))}else{let i=e.map(s=>Ub(s)?XT(Cn.RAW,s).data:s.data_),n=0;i.forEach(s=>{n+=s.byteLength});let r=new Uint8Array(n),o=0;return i.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new t(r,!0)}}uploadData(){return this.data_}};function JT(t){let e;try{e=JSON.parse(t)}catch{return null}return zte(e)?e:null}function iie(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nie(t,e){let i=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?i:t+"/"+i}function WU(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function rie(t,e){return e}var Di=class{constructor(e,i,n,r){this.server=e,this.local=i||e,this.writable=!!n,this.xform=r||rie}},jb=null;function oie(t){return!Ub(t)||t.length<2?t:WU(t)}function zb(){if(jb)return jb;let t=[];t.push(new Di("bucket")),t.push(new Di("generation")),t.push(new Di("metageneration")),t.push(new Di("name","fullPath",!0));function e(o,s){return oie(s)}let i=new Di("name");i.xform=e,t.push(i);function n(o,s){return s!==void 0?Number(s):s}let r=new Di("size");return r.xform=n,t.push(r),t.push(new Di("timeCreated")),t.push(new Di("updated")),t.push(new Di("md5Hash",null,!0)),t.push(new Di("cacheControl",null,!0)),t.push(new Di("contentDisposition",null,!0)),t.push(new Di("contentEncoding",null,!0)),t.push(new Di("contentLanguage",null,!0)),t.push(new Di("contentType",null,!0)),t.push(new Di("metadata","customMetadata",!0)),jb=t,jb}function sie(t,e){function i(){let n=t.bucket,r=t.fullPath,o=new nn(n,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:i})}function aie(t,e,i){let n={};n.type="file";let r=i.length;for(let o=0;o<r;o++){let s=i[o];n[s.local]=s.xform(n,e[s.server])}return sie(n,t),n}function QU(t,e,i){let n=JT(e);return n===null?null:aie(t,n,i)}function lie(t,e,i,n){let r=JT(e);if(r===null||!Ub(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(c=>{let d=t.bucket,u=t.fullPath,h="/b/"+s(d)+"/o/"+s(u),m=Zs(h,i,n),p=$U({alt:"media",token:c});return m+p})[0]}function eA(t,e){let i={},n=e.length;for(let r=0;r<n;r++){let o=e[r];o.writable&&(i[o.server]=t[o.local])}return JSON.stringify(i)}var kU="prefixes",MU="items";function cie(t,e,i){let n={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[kU])for(let r of i[kU]){let o=r.replace(/\/$/,""),s=t._makeStorageReference(new nn(e,o));n.prefixes.push(s)}if(i[MU])for(let r of i[MU]){let o=t._makeStorageReference(new nn(e,r.name));n.items.push(o)}return n}function die(t,e,i){let n=JT(i);return n===null?null:cie(t,e,n)}var Ir=class{constructor(e,i,n,r){this.url=e,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ho(t){if(!t)throw KT()}function $b(t,e){function i(n,r){let o=QU(t,r,e);return ho(o!==null),o}return i}function uie(t,e){function i(n,r){let o=die(t,e,r);return ho(o!==null),o}return i}function hie(t,e){function i(n,r){let o=QU(t,r,e);return ho(o!==null),lie(o,r,t.host,t._protocol)}return i}function Hd(t){function e(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=kte():r=Ate():i.getStatus()===402?r=Tte(t.bucket):i.getStatus()===403?r=Mte(t.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return e}function Hb(t){let e=Hd(t);function i(n,r){let o=e(n,r);return n.getStatus()===404&&(o=Ste(t.path)),o.serverResponse=r.serverResponse,o}return i}function KU(t,e,i){let n=e.fullServerUrl(),r=Zs(n,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Ir(r,o,$b(t,i),s);return a.errorHandler=Hb(e),a}function mie(t,e,i,n,r){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",i&&i.length>0&&(o.delimiter=i),n&&(o.pageToken=n),r&&(o.maxResults=r);let s=e.bucketOnlyServerUrl(),a=Zs(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new Ir(a,l,uie(t,e.bucket),c);return d.urlParams=o,d.errorHandler=Hd(e),d}function fie(t,e,i){let n=e.fullServerUrl(),r=Zs(n,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Ir(r,o,hie(t,i),s);return a.errorHandler=Hb(e),a}function pie(t,e,i,n){let r=e.fullServerUrl(),o=Zs(r,t.host,t._protocol),s="PATCH",a=eA(i,n),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,d=new Ir(o,s,$b(t,n),c);return d.headers=l,d.body=a,d.errorHandler=Hb(e),d}function gie(t,e){let i=e.fullServerUrl(),n=Zs(i,t.host,t._protocol),r="DELETE",o=t.maxOperationRetryTime;function s(l,c){}let a=new Ir(n,r,s,o);return a.successCodes=[200,204],a.errorHandler=Hb(e),a}function vie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YU(t,e,i){let n=Object.assign({},i);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=vie(null,e)),n}function _ie(t,e,i,n,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let M="";for(let P=0;P<2;P++)M=M+Math.random().toString().slice(2);return M}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let c=YU(e,n,r),d=eA(c,i),u="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=Ud.getBlob(u,n,h);if(m===null)throw UU();let p={name:c.fullPath},_=Zs(o,t.host,t._protocol),y="POST",E=t.maxUploadRetryTime,N=new Ir(_,y,$b(t,i),E);return N.urlParams=p,N.headers=s,N.body=m.uploadData(),N.errorHandler=Hd(e),N}var zd=class{constructor(e,i,n,r){this.current=e,this.total=i,this.finalized=!!n,this.metadata=r||null}};function tA(t,e){let i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch{ho(!1)}return ho(!!i&&(e||["active"]).indexOf(i)!==-1),i}function bie(t,e,i,n,r){let o=e.bucketOnlyServerUrl(),s=YU(e,n,r),a={name:s.fullPath},l=Zs(o,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=eA(s,i),h=t.maxUploadRetryTime;function m(_){tA(_);let y;try{y=_.getResponseHeader("X-Goog-Upload-URL")}catch{ho(!1)}return ho(Ub(y)),y}let p=new Ir(l,c,m,h);return p.urlParams=a,p.headers=d,p.body=u,p.errorHandler=Hd(e),p}function yie(t,e,i,n){let r={"X-Goog-Upload-Command":"query"};function o(c){let d=tA(c,["active","final"]),u=null;try{u=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ho(!1)}u||ho(!1);let h=Number(u);return ho(!isNaN(h)),new zd(h,n.size(),d==="final")}let s="POST",a=t.maxUploadRetryTime,l=new Ir(i,s,o,a);return l.headers=r,l.errorHandler=Hd(e),l}var RU=256*1024;function wie(t,e,i,n,r,o,s,a){let l=new zd(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=n.size()),n.size()!==l.total)throw Ote();let c=l.total-l.current,d=c;r>0&&(d=Math.min(d,r));let u=l.current,h=u+d,m="";d===0?m="finalize":c===d?m="upload, finalize":m="upload";let p={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},_=n.slice(u,h);if(_===null)throw UU();function y(P,ie){let ne=tA(P,["active","final"]),he=l.current+d,Ge=n.size(),ji;return ne==="final"?ji=$b(e,o)(P,ie):ji=null,new zd(he,Ge,ne==="final",ji)}let E="POST",N=e.maxUploadRetryTime,M=new Ir(i,E,y,N);return M.headers=p,M.body=_.uploadData(),M.progressCallback=a||null,M.errorHandler=Hd(t),M}var ZU={STATE_CHANGED:"state_changed"},Vi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zT(t){switch(t){case"running":case"pausing":case"canceling":return Vi.RUNNING;case"paused":return Vi.PAUSED;case"success":return Vi.SUCCESS;case"canceled":return Vi.CANCELED;case"error":return Vi.ERROR;default:return Vi.ERROR}}var qT=class{constructor(e,i,n){if(Ute(e)||i!=null||n!=null)this.next=e,this.error=i??void 0,this.complete=n??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Vd(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var FU=null,WT=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,n,r){if(this.sent_)throw Ym("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ym("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ym("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ym("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ym("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},QT=class extends WT{initXhr(){this.xhr_.responseType="text"}};function uo(){return FU?FU():new QT}var Jm=class{constructor(e,i,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=i,this._metadata=n,this._mappings=zb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(HU(r.status,[]))if(o)r=jU();else{this.sleepTime=Math.max(this.sleepTime*2,Dte),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Dt.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return i=>this._updateProgress(e+i)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,n])=>{switch(this._state){case"running":e(i,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,i)=>{let n=bie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,uo,e,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((i,n)=>{let r=yie(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,uo,i,n);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=RU*this._chunkMultiplier,i=new zd(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=wie(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,i,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(s,uo,r,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RU*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,i)=>{let n=KU(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,uo,e,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,i)=>{let n=_ie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,uo,e,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let i=this._transferred;this._transferred=e,this._transferred!==i&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let i=this._state==="paused";this._state=e,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=BU(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=zT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,i,n,r){let o=new qT(i||void 0,n||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,i){return this._promise.then(e,i)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let i=this._observers.indexOf(e);i!==-1&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(zT(this._state)){case Vi.SUCCESS:Vd(this._resolve.bind(null,this.snapshot))();break;case Vi.CANCELED:case Vi.ERROR:let i=this._reject;Vd(i.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zT(this._state)){case Vi.RUNNING:case Vi.PAUSED:e.next&&Vd(e.next.bind(e,this.snapshot))();break;case Vi.SUCCESS:e.complete&&Vd(e.complete.bind(e))();break;case Vi.CANCELED:case Vi.ERROR:e.error&&Vd(e.error.bind(e,this._error))();break;default:e.error&&Vd(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var $d=class t{constructor(e,i){this._service=e,i instanceof nn?this._location=i:this._location=nn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new t(e,i)}get root(){let e=new nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WU(this._location.path)}get storage(){return this._service}get parent(){let e=iie(this._location.path);if(e===null)return null;let i=new nn(this._location.bucket,e);return new t(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw YT(e)}};function xie(t,e,i){return t._throwIfRoot("uploadBytesResumable"),new Jm(t,new Ud(e),i)}function Eie(t){let e={prefixes:[],items:[]};return XU(t,e).then(()=>e)}function XU(t,e,i){return D(this,null,function*(){let r=yield JU(t,{pageToken:i});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield XU(t,e,r.nextPageToken))})}function JU(t,e){e!=null&&typeof e.maxResults=="number"&&HT("options.maxResults",1,1e3,e.maxResults);let i=e||{},n=mie(t.storage,t._location,"/",i.pageToken,i.maxResults);return t.storage.makeRequestWithTokens(n,uo)}function Iie(t){t._throwIfRoot("getMetadata");let e=KU(t.storage,t._location,zb());return t.storage.makeRequestWithTokens(e,uo)}function Cie(t,e){t._throwIfRoot("updateMetadata");let i=pie(t.storage,t._location,e,zb());return t.storage.makeRequestWithTokens(i,uo)}function Die(t){t._throwIfRoot("getDownloadURL");let e=fie(t.storage,t._location,zb());return t.storage.makeRequestWithTokens(e,uo).then(i=>{if(i===null)throw Nte();return i})}function Sie(t){t._throwIfRoot("deleteObject");let e=gie(t.storage,t._location);return t.storage.makeRequestWithTokens(e,uo)}function e4(t,e){let i=nie(t._location.path,e),n=new nn(t._location.bucket,i);return new $d(t.storage,n)}function Tie(t){return/^[A-Za-z]+:\/\//.test(t)}function Aie(t,e){return new $d(t,e)}function t4(t,e){if(t instanceof ef){let i=t;if(i._bucket==null)throw Pte();let n=new $d(i,i._bucket);return e!=null?t4(n,e):n}else return e!==void 0?e4(t,e):t}function kie(t,e){if(e&&Tie(e)){if(t instanceof ef)return Aie(t,e);throw ml("To use ref(service, url), the first argument must be a Storage instance.")}else return t4(t,e)}function PU(t,e){let i=e?.[VU];return i==null?null:nn.makeFromBucketSpec(i,t)}function Mie(t,e,i,n={}){t.host=`${e}:${i}`,t._protocol="http";let{mockUserToken:r}=n;r&&(t._overrideAuthToken=typeof r=="string"?r:df(r,t.app.options.projectId))}var ef=class{constructor(e,i,n,r,o){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=LU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ite,this._maxUploadRetryTime=Cte,this._requests=new Set,r!=null?this._bucket=nn.makeFromBucketSpec(r,this._host):this._bucket=PU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nn.makeFromBucketSpec(this._url,e):this._bucket=PU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let i=yield e.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $d(this,e)}_makeRequest(e,i,n,r,o=!0){if(this._deleted)return new $T(zU());{let s=Wte(e,this._appId,n,r,i,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,i){return D(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,r).getPromise()})}},OU="@firebase/storage",NU="0.12.4";var Rie="storage";function i4(t,e,i){return t=Xe(t),xie(t,e,i)}function n4(t){return t=Xe(t),Iie(t)}function r4(t,e){return t=Xe(t),Cie(t,e)}function o4(t,e){return t=Xe(t),JU(t,e)}function s4(t){return t=Xe(t),Eie(t)}function a4(t){return t=Xe(t),Die(t)}function l4(t){return t=Xe(t),Sie(t)}function iA(t,e){return t=Xe(t),kie(t,e)}function c4(t,e){return e4(t,e)}function d4(t,e,i,n={}){Mie(t,e,i,n)}function Fie(t,{instanceIdentifier:e}){let i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new ef(i,n,r,e,ff)}function Pie(){ta(new Zn(Rie,Fie,"PUBLIC").setMultipleInstances(!0)),Xn(OU,NU,""),Xn(OU,NU,"esm2017")}Pie();var Gd=class{constructor(e,i,n){this._delegate=e,this.task=i,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Gb=class{constructor(e,i){this._delegate=e,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gd(this._delegate.snapshot,this,this._ref)}then(e,i){return this._delegate.then(n=>{if(e)return e(new Gd(n,this,this._ref))},i)}on(e,i,n,r){let o;return i&&(typeof i=="function"?o=s=>i(new Gd(s,this,this._ref)):o={next:i.next?s=>i.next(new Gd(s,this,this._ref)):void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)}},qb=class{constructor(e,i){this._delegate=e,this._service=i}get prefixes(){return this._delegate.prefixes.map(e=>new fl(e,this._service))}get items(){return this._delegate.items.map(e=>new fl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var fl=class t{constructor(e,i){this._delegate=e,this.storage=i}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let i=c4(this._delegate,e);return new t(i,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,i){return this._throwIfRoot("put"),new Gb(i4(this._delegate,e,i),this)}putString(e,i=Cn.RAW,n){this._throwIfRoot("putString");let r=XT(i,e),o=Object.assign({},n);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new Gb(new Jm(this._delegate,new Ud(r.data,!0),o),this)}listAll(){return s4(this._delegate).then(e=>new qb(e,this.storage))}list(e){return o4(this._delegate,e||void 0).then(i=>new qb(i,this.storage))}getMetadata(){return n4(this._delegate)}updateMetadata(e){return r4(this._delegate,e)}getDownloadURL(){return a4(this._delegate)}delete(){return this._throwIfRoot("delete"),l4(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw YT(e)}};var Wb=class{constructor(e,i){this.app=e,this._delegate=i}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(u4(e))throw ml("ref() expected a child path but got a URL, use refFromURL instead.");return new fl(iA(this._delegate,e),this)}refFromURL(e){if(!u4(e))throw ml("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nn.makeFromUrl(e,this._delegate.host)}catch{throw ml("refFromUrl() expected a valid full URL but got an invalid one.")}return new fl(iA(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,i,n={}){d4(this._delegate,e,i,n)}};function u4(t){return/^[A-Za-z]+:\/\//.test(t)}var Oie="@firebase/storage-compat",Nie="0.3.7";var Lie="storage-compat";function Vie(t,{instanceIdentifier:e}){let i=t.getProvider("app-compat").getImmediate(),n=t.getProvider("storage").getImmediate({identifier:e});return new Wb(i,n)}function jie(t){let e={TaskState:Vi,TaskEvent:ZU,StringFormat:Cn,Storage:Wb,Reference:fl};t.INTERNAL.registerComponent(new Zn(Lie,Vie,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Oie,Nie)}jie(oi);function Bie(t){return new se(e=>{let i=s=>e.next(s),n=s=>e.error(s),r=()=>e.complete();i(t.snapshot);let o=t.on("state_changed",i);return t.then(s=>{i(s),r()},s=>{i(t.snapshot),n(s)}),function(){o()}}).pipe(kn(0))}function h4(t){let e=Bie(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(B(i=>i.bytesTransferred/i.totalBytes*100))}}function Qb(t){return{getDownloadURL:()=>z(void 0).pipe(VE,Pe(()=>t.getDownloadURL()),wi),getMetadata:()=>z(void 0).pipe(VE,Pe(()=>t.getMetadata()),wi),delete:()=>ge(t.delete()),child:e=>Qb(t.child(e)),updateMetadata:e=>ge(t.updateMetadata(e)),put:(e,i)=>{let n=t.put(e,i);return h4(n)},putString:(e,i,n)=>{let r=t.putString(e,i,n);return h4(r)},list:e=>ge(t.list(e)),listAll:()=>ge(t.listAll())}}var Uie=new k("angularfire2.storageBucket"),zie=new k("angularfire2.storage.maxUploadRetryTime"),$ie=new k("angularfire2.storage.maxOperationRetryTime"),Hie=new k("angularfire2.storage.use-emulator"),Gie=(()=>{class t{storage;constructor(i,n,r,o,s,a,l,c,d,u){let h=Aa(i,s,n);this.storage=Cc(`${h.name}.storage.${r}`,"AngularFireStorage",h.name,()=>{let m=s.runOutsideAngular(()=>h.storage(r||void 0)),p=d;return p&&m.useEmulator(...p),l&&m.setMaxUploadRetryTime(l),c&&m.setMaxOperationRetryTime(c),m},[l,c])}ref(i){return Qb(this.storage.ref(i))}refFromURL(i){return Qb(this.storage.refFromURL(i))}upload(i,n,r){let o=this.storage.ref(i);return Qb(o).put(n,r)}static \u0275fac=function(n){return new(n||t)(g(Cs),g(Ds,8),g(Uie,8),g(st),g(U),g(Ic),g(zie,8),g($ie,8),g(Hie,8),g(Mo,8))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var qie=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=j({type:t});static \u0275inj=V({})}return t})(),m4=(()=>{class t{constructor(){oi.registerVersion("angularfire",Ro.full,"gcs-compat")}static \u0275fac=function(n){return new(n||t)};static \u0275mod=j({type:t});static \u0275inj=V({providers:[Gie],imports:[qie]})}return t})();var nA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,_n,De]});let t=e;return t})();var f4=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({});let t=e;return t})();var qd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,_n,Rc,De]});let t=e;return t})();var rA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De,qd,qd,f4,De]});let t=e;return t})();var oA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[De]});let t=e;return t})();var sA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[EI,De,EI,De]});let t=e;return t})();var aA=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=j({type:t}),t.\u0275inj=V({imports:[Pd]}),t})();var lA=(()=>{class t{constructor(i,n){Ki(n)&&!i&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(i,n=[]){return{ngModule:t,providers:i.serverLoaded?[{provide:Zo,useValue:T(T({},Fb),i)},{provide:Pb,useValue:n,multi:!0},{provide:hl,useValue:!0}]:[{provide:Zo,useValue:T(T({},Fb),i)},{provide:Pb,useValue:n,multi:!0}]}}}return t.\u0275fac=function(i){return new(i||t)(g(hl),g(st))},t.\u0275mod=j({type:t}),t.\u0275inj=V({imports:[BT,RT,aA,BT,RT,aA]}),t})();function p4(t){return new L(3e3,!1)}function Wie(){return new L(3100,!1)}function Qie(){return new L(3101,!1)}function Kie(t){return new L(3001,!1)}function Yie(t){return new L(3003,!1)}function Zie(t){return new L(3004,!1)}function Xie(t,e){return new L(3005,!1)}function Jie(){return new L(3006,!1)}function ene(){return new L(3007,!1)}function tne(t,e){return new L(3008,!1)}function ine(t){return new L(3002,!1)}function nne(t,e,i,n,r){return new L(3010,!1)}function rne(){return new L(3011,!1)}function one(){return new L(3012,!1)}function sne(){return new L(3200,!1)}function ane(){return new L(3202,!1)}function lne(){return new L(3013,!1)}function cne(t){return new L(3014,!1)}function dne(t){return new L(3015,!1)}function une(t){return new L(3016,!1)}function hne(t,e){return new L(3404,!1)}function mne(t){return new L(3502,!1)}function fne(t){return new L(3503,!1)}function pne(){return new L(3300,!1)}function gne(t){return new L(3504,!1)}function vne(t){return new L(3301,!1)}function _ne(t,e){return new L(3302,!1)}function bne(t){return new L(3303,!1)}function yne(t,e){return new L(3400,!1)}function wne(t){return new L(3401,!1)}function xne(t){return new L(3402,!1)}function Ene(t,e){return new L(3505,!1)}function Xs(t){switch(t.length){case 0:return new Ss;case 1:return t[0];default:return new ph(t)}}function A4(t,e,i=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==s,u=d&&a||new Map;l.forEach((h,m)=>{let p=m,_=h;if(m!=="offset")switch(p=t.normalizePropertyName(p,r),_){case hv:_=i.get(m);break;case Gr:_=n.get(m);break;default:_=t.normalizeStyleValue(m,p,_,r);break}u.set(p,_)}),d||o.push(u),a=u,s=c}),r.length)throw mne(r);return o}function MA(t,e,i,n){switch(e){case"start":t.onStart(()=>n(i&&cA(i,"start",t)));break;case"done":t.onDone(()=>n(i&&cA(i,"done",t)));break;case"destroy":t.onDestroy(()=>n(i&&cA(i,"destroy",t)));break}}function cA(t,e,i){let n=i.totalTime,r=!!i.disabled,o=RA(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function RA(t,e,i,n,r="",o=0,s){return{element:t,triggerName:e,fromState:i,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Sn(t,e,i){let n=t.get(e);return n||t.set(e,n=i),n}function g4(t){let e=t.indexOf(":"),i=t.substring(1,e),n=t.slice(e+1);return[i,n]}var Ine=typeof document>"u"?null:document.documentElement;function FA(t){let e=t.parentNode||t.host||null;return e===Ine?null:e}function Cne(t){return t.substring(1,6)=="ebkit"}var pl=null,v4=!1;function Dne(t){pl||(pl=Sne()||{},v4=pl.style?"WebkitAppearance"in pl.style:!1);let e=!0;return pl.style&&!Cne(t)&&(e=t in pl.style,!e&&v4&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in pl.style)),e}function Sne(){return typeof document<"u"?document.body:null}function k4(t,e){for(;e;){if(e===t)return!0;e=FA(e)}return!1}function M4(t,e,i){if(i)return Array.from(t.querySelectorAll(e));let n=t.querySelector(e);return n?[n]:[]}var PA=(()=>{let e=class e{validateStyleProperty(n){return Dne(n)}matchesElement(n,r){return!1}containsElement(n,r){return k4(n,r)}getParentElement(n){return FA(n)}query(n,r,o){return M4(n,r,o)}computeStyle(n,r,o){return o||""}animate(n,r,o,s,a,l=[],c){return new Ss(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),VA=class VA{};VA.NOOP=new PA;var _l=VA,bl=class{};var Tne=1e3,R4="{{",Ane="}}",F4="ng-enter",pA="ng-leave",Kb="ng-trigger",ey=".ng-trigger",_4="ng-animating",gA=".ng-animating";function Xo(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vA(parseFloat(e[1]),e[2])}function vA(t,e){switch(e){case"s":return t*Tne;default:return t}}function ty(t,e,i){return t.hasOwnProperty("duration")?t:kne(t,e,i)}function kne(t,e,i){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(n);if(a===null)return e.push(p4(t)),{duration:0,delay:0,easing:""};r=vA(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=vA(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=t;if(!i){let a=!1,l=e.length;r<0&&(e.push(Wie()),a=!0),o<0&&(e.push(Qie()),a=!0),a&&e.splice(l,0,p4(t))}return{duration:r,delay:o,easing:s}}function Mne(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function mo(t,e,i){e.forEach((n,r)=>{let o=OA(r);i&&!i.has(r)&&i.set(r,t.style[o]),t.style[o]=n})}function vl(t,e){e.forEach((i,n)=>{let r=OA(n);t.style[r]=""})}function tf(t){return Array.isArray(t)?t.length==1?t[0]:kO(t):t}function Rne(t,e,i){let n=e.params||{},r=P4(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||i.push(Kie(o))})}var _A=new RegExp(`${R4}\\s*(.+?)\\s*${Ane}`,"g");function P4(t){let e=[];if(typeof t=="string"){let i;for(;i=_A.exec(t);)e.push(i[1]);_A.lastIndex=0}return e}function rf(t,e,i){let n=`${t}`,r=n.replace(_A,(o,s)=>{let a=e[s];return a==null&&(i.push(Yie(s)),a=""),a.toString()});return r==n?t:r}var Fne=/-+([a-z0-9])/g;function OA(t){return t.replace(Fne,(...e)=>e[1].toUpperCase())}function Pne(t,e){return t===0||e===0}function One(t,e,i){if(i.size&&e.length){let n=e[0],r=[];if(i.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,NA(t,a)))}}return e}function Dn(t,e,i){switch(e.type){case be.Trigger:return t.visitTrigger(e,i);case be.State:return t.visitState(e,i);case be.Transition:return t.visitTransition(e,i);case be.Sequence:return t.visitSequence(e,i);case be.Group:return t.visitGroup(e,i);case be.Animate:return t.visitAnimate(e,i);case be.Keyframes:return t.visitKeyframes(e,i);case be.Style:return t.visitStyle(e,i);case be.Reference:return t.visitReference(e,i);case be.AnimateChild:return t.visitAnimateChild(e,i);case be.AnimateRef:return t.visitAnimateRef(e,i);case be.Query:return t.visitQuery(e,i);case be.Stagger:return t.visitStagger(e,i);default:throw Zie(e.type)}}function NA(t,e){return window.getComputedStyle(t)[e]}var Nne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),iy=class extends bl{normalizePropertyName(e,i){return OA(e)}normalizeStyleValue(e,i,n,r){let o="",s=n.toString().trim();if(Nne.has(i)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Xie(e,n))}return s+o}};var ny="*";function Lne(t,e){let i=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>Vne(n,i,e)):i.push(t),i}function Vne(t,e,i){if(t[0]==":"){let l=jne(t,i);if(typeof l=="function"){e.push(l);return}t=l}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return i.push(dne(t)),e;let r=n[1],o=n[2],s=n[3];e.push(b4(r,s));let a=r==ny&&s==ny;o[0]=="<"&&!a&&e.push(b4(s,r))}function jne(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return e.push(une(t)),"* => *"}}var Yb=new Set(["true","1"]),Zb=new Set(["false","0"]);function b4(t,e){let i=Yb.has(t)||Zb.has(t),n=Yb.has(e)||Zb.has(e);return(r,o)=>{let s=t==ny||t==r,a=e==ny||e==o;return!s&&i&&typeof r=="boolean"&&(s=r?Yb.has(t):Zb.has(t)),!a&&n&&typeof o=="boolean"&&(a=o?Yb.has(e):Zb.has(e)),s&&a}}var O4=":self",Bne=new RegExp(`s*${O4}s*,?`,"g");function N4(t,e,i,n){return new bA(t).build(e,i,n)}var y4="",bA=class{constructor(e){this._driver=e}build(e,i,n){let r=new yA(i);return this._resetContextStyleTimingState(r),Dn(this,tf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=y4,e.collectedStyles=new Map,e.collectedStyles.set(y4,new Map),e.currentTime=0}visitTrigger(e,i){let n=i.queryCount=0,r=i.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&i.errors.push(Jie()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),a.type==be.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,i))}),l.name=c}else if(a.type==be.Transition){let l=this.visitTransition(a,i);n+=l.queryCount,r+=l.depCount,s.push(l)}else i.errors.push(ene())}),{type:be.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,i){let n=this.visitStyle(e.styles,i),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{P4(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&i.errors.push(tne(e.name,[...o.values()]))}return{type:be.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,i){i.queryCount=0,i.depCount=0;let n=Dn(this,tf(e.animation),i),r=Lne(e.expr,i.errors);return{type:be.Transition,matchers:r,animation:n,queryCount:i.queryCount,depCount:i.depCount,options:gl(e.options)}}visitSequence(e,i){return{type:be.Sequence,steps:e.steps.map(n=>Dn(this,n,i)),options:gl(e.options)}}visitGroup(e,i){let n=i.currentTime,r=0,o=e.steps.map(s=>{i.currentTime=n;let a=Dn(this,s,i);return r=Math.max(r,i.currentTime),a});return i.currentTime=r,{type:be.Group,steps:o,options:gl(e.options)}}visitAnimate(e,i){let n=Hne(e.timings,i.errors);i.currentAnimateTimings=n;let r,o=e.styles?e.styles:Wt({});if(o.type==be.Keyframes)r=this.visitKeyframes(o,i);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=Wt(c)}i.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,i);l.isEmptyStep=a,r=l}return i.currentAnimateTimings=null,{type:be.Animate,timings:n,style:r,options:null}}visitStyle(e,i){let n=this._makeStyleAst(e,i);return this._validateStyleAst(n,i),n}_makeStyleAst(e,i){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Gr?n.push(a):i.errors.push(ine(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(R4)>=0){o=!0;break}}}),{type:be.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,i){let n=i.currentAnimateTimings,r=i.currentTime,o=i.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=i.collectedStyles.get(i.currentQuerySelector),d=c.get(l),u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(i.errors.push(nne(l,d.startTime,d.endTime,o,r)),u=!1),o=d.startTime),u&&c.set(l,{startTime:o,endTime:r}),i.options&&Rne(a,i.options,i.errors)})})}visitKeyframes(e,i){let n={type:be.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(rne()),n;let r=1,o=0,s=[],a=!1,l=!1,c=0,d=e.steps.map(E=>{let N=this._makeStyleAst(E,i),M=N.offset!=null?N.offset:$ne(N.styles),P=0;return M!=null&&(o++,P=N.offset=M),l=l||P<0||P>1,a=a||P<c,c=P,s.push(P),N});l&&i.errors.push(one()),a&&i.errors.push(sne());let u=e.steps.length,h=0;o>0&&o<u?i.errors.push(ane()):o==0&&(h=r/(u-1));let m=u-1,p=i.currentTime,_=i.currentAnimateTimings,y=_.duration;return d.forEach((E,N)=>{let M=h>0?N==m?1:h*N:s[N],P=M*y;i.currentTime=p+_.delay+P,_.duration=P,this._validateStyleAst(E,i),E.offset=M,n.styles.push(E)}),n}visitReference(e,i){return{type:be.Reference,animation:Dn(this,tf(e.animation),i),options:gl(e.options)}}visitAnimateChild(e,i){return i.depCount++,{type:be.AnimateChild,options:gl(e.options)}}visitAnimateRef(e,i){return{type:be.AnimateRef,animation:this.visitReference(e.animation,i),options:gl(e.options)}}visitQuery(e,i){let n=i.currentQuerySelector,r=e.options||{};i.queryCount++,i.currentQuery=e;let[o,s]=Une(e.selector);i.currentQuerySelector=n.length?n+" "+o:o,Sn(i.collectedStyles,i.currentQuerySelector,new Map);let a=Dn(this,tf(e.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:be.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:gl(e.options)}}visitStagger(e,i){i.currentQuery||i.errors.push(lne());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ty(e.timings,i.errors,!0);return{type:be.Stagger,animation:Dn(this,tf(e.animation),i),timings:n,options:null}}};function Une(t){let e=!!t.split(/\s*,\s*/).find(i=>i==O4);return e&&(t=t.replace(Bne,"")),t=t.replace(/@\*/g,ey).replace(/@\w+/g,i=>ey+"-"+i.slice(1)).replace(/:animating/g,gA),[t,e]}function zne(t){return t?T({},t):null}var yA=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function $ne(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(i=>{if(i instanceof Map&&i.has("offset")){let n=i;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}return e}function Hne(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=ty(t,e).duration;return dA(o,0,"")}let i=t;if(i.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=dA(0,0,"");return o.dynamic=!0,o.strValue=i,o}let r=ty(i,e);return dA(r.duration,r.delay,r.easing)}function gl(t){return t?(t=T({},t),t.params&&(t.params=zne(t.params))):t={},t}function dA(t,e,i){return{duration:t,delay:e,easing:i}}function LA(t,e,i,n,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:i,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var of=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,i){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...i)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Gne=1,qne=":enter",Wne=new RegExp(qne,"g"),Qne=":leave",Kne=new RegExp(Qne,"g");function L4(t,e,i,n,r,o=new Map,s=new Map,a,l,c=[]){return new wA().buildKeyframes(t,e,i,n,r,o,s,a,l,c)}var wA=class{buildKeyframes(e,i,n,r,o,s,a,l,c,d=[]){c=c||new of;let u=new xA(e,i,c,r,o,d,[]);u.options=l;let h=l.delay?Xo(l.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,l),Dn(this,n,u);let m=u.timelines.filter(p=>p.containsAnimation());if(m.length&&a.size){let p;for(let _=m.length-1;_>=0;_--){let y=m[_];if(y.element===i){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,l)}return m.length?m.map(p=>p.buildKeyframes()):[LA(i,[],[],[],0,h,"",!1)]}visitTrigger(e,i){}visitState(e,i){}visitTransition(e,i){}visitAnimateChild(e,i){let n=i.subInstructions.get(i.element);if(n){let r=i.createSubContext(e.options),o=i.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&i.transformIntoNewTimeline(s)}i.previousNode=e}visitAnimateRef(e,i){let n=i.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],i,n),this.visitReference(e.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=e}_applyAnimationRefDelays(e,i,n){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Xo(rf(o,r?.params??{},i.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,i,n){let o=i.currentTimeline.currentTime,s=n.duration!=null?Xo(n.duration):null,a=n.delay!=null?Xo(n.delay):null;return s!==0&&e.forEach(l=>{let c=i.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,i){i.updateOptions(e.options,!0),Dn(this,e.animation,i),i.previousNode=e}visitSequence(e,i){let n=i.subContextCount,r=i,o=e.options;if(o&&(o.params||o.delay)&&(r=i.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==be.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ry);let s=Xo(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Dn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),i.previousNode=e}visitGroup(e,i){let n=[],r=i.currentTimeline.currentTime,o=e.options&&e.options.delay?Xo(e.options.delay):0;e.steps.forEach(s=>{let a=i.createSubContext(e.options);o&&a.delayNextStep(o),Dn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>i.currentTimeline.mergeTimelineCollectedStyles(s)),i.transformIntoNewTimeline(r),i.previousNode=e}_visitTiming(e,i){if(e.dynamic){let n=e.strValue,r=i.params?rf(n,i.params,i.errors):n;return ty(r,i.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,i){let n=i.currentAnimateTimings=this._visitTiming(e.timings,i),r=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),r.snapshotCurrentStyles());let o=e.style;o.type==be.Keyframes?this.visitKeyframes(o,i):(i.incrementTime(n.duration),this.visitStyle(o,i),r.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=e}visitStyle(e,i){let n=i.currentTimeline,r=i.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,i.errors,i.options),i.previousNode=e}visitKeyframes(e,i){let n=i.currentAnimateTimings,r=i.currentTimeline.duration,o=n.duration,a=i.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(r+o),i.previousNode=e}visitQuery(e,i){let n=i.currentTimeline.currentTime,r=e.options||{},o=r.delay?Xo(r.delay):0;o&&(i.previousNode.type===be.Style||n==0&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ry);let s=n,a=i.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{i.currentQueryIndex=d;let u=i.createSubContext(e.options,c);o&&u.delayNextStep(o),c===i.element&&(l=u.currentTimeline),Dn(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let h=u.currentTimeline.currentTime;s=Math.max(s,h)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(s),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=e}visitStagger(e,i){let n=i.parentContext,r=i.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(i.currentQueryTotal-1),l=s*i.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let d=i.currentTimeline;l&&d.delayNextStep(l);let u=d.currentTime;Dn(this,e.animation,i),i.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}},ry={},xA=class t{constructor(e,i,n,r,o,s,a,l){this._driver=e,this.element=i,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ry,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new oy(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,i){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=Xo(n.duration)),n.delay!=null&&(r.delay=Xo(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!i||!s.hasOwnProperty(a))&&(s[a]=rf(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let i=this.options.params;if(i){let n=e.params={};Object.keys(i).forEach(r=>{n[r]=i[r]})}}return e}createSubContext(e=null,i,n){let r=i||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ry,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,i,n){let r={duration:i??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new EA(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,i,n,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Wne,"."+this._enterClassName),e=e.replace(Kne,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(cne(i)),a}},oy=class t{constructor(e,i,n,r){this._driver=e,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let i=this._keyframes.size===1&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+e),i&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,i){return this.applyStylesToKeyframe(),new t(this._driver,e,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Gne,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,i){this._localTimelineStyles.set(e,i),this._globalTimelineStyles.set(e,i),this._styleSummary.set(e,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||Gr),this._currentKeyframe.set(i,Gr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,i,n,r){i&&this._previousKeyframe.set("easing",i);let o=r&&r.params||{},s=Yne(e,this._globalTimelineStyles);for(let[a,l]of s){let c=rf(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gr),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,i)=>{this._currentKeyframe.set(i,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,e)}))}snapshotCurrentStyles(){for(let[e,i]of this._localTimelineStyles)this._pendingStyles.set(e,i),this._updateStyle(e,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let i in this._currentKeyframe)e.push(i);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((i,n)=>{let r=this._styleSummary.get(n);(!r||i.time>r.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,i=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,u)=>{d===hv?e.add(u):d===Gr&&i.add(u)}),n||c.set("offset",l/this.duration),r.push(c)});let o=[...e.values()],s=[...i.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return LA(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},EA=class extends oy{constructor(e,i,n,r,o,s,a=!1){super(e,i,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:i,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&i){let o=[],s=n+i,a=i/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",w4(a)),o.push(c);let d=e.length-1;for(let u=1;u<=d;u++){let h=new Map(e[u]),m=h.get("offset"),p=i+m*n;h.set("offset",w4(p/s)),o.push(h)}n=s,i=0,r="",e=o}return LA(this.element,e,this.preStyleProps,this.postStyleProps,n,i,r,!0)}};function w4(t,e=3){let i=Math.pow(10,e-1);return Math.round(t*i)/i}function Yne(t,e){let i=new Map,n;return t.forEach(r=>{if(r==="*"){n??=e.keys();for(let o of n)i.set(o,Gr)}else for(let[o,s]of r)i.set(o,s)}),i}function x4(t,e,i,n,r,o,s,a,l,c,d,u,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:i,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:h}}var uA={},sy=class{constructor(e,i,n){this._triggerName=e,this.ast=i,this._stateStyles=n}match(e,i,n,r){return Zne(this.ast.matchers,e,i,n,r)}buildStyles(e,i,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(i,n):new Map}build(e,i,n,r,o,s,a,l,c,d){let u=[],h=this.ast.options&&this.ast.options.params||uA,m=a&&a.params||uA,p=this.buildStyles(n,m,u),_=l&&l.params||uA,y=this.buildStyles(r,_,u),E=new Set,N=new Map,M=new Map,P=r==="void",ie={params:V4(_,h),delay:this.ast.options?.delay},ne=d?[]:L4(e,i,this.ast.animation,o,s,p,y,ie,c,u),he=0;return ne.forEach(Ge=>{he=Math.max(Ge.duration+Ge.delay,he)}),u.length?x4(i,this._triggerName,n,r,P,p,y,[],[],N,M,he,u):(ne.forEach(Ge=>{let ji=Ge.element,Yn=Sn(N,ji,new Set);Ge.preStyleProps.forEach(Js=>Yn.add(Js));let HA=Sn(M,ji,new Set);Ge.postStyleProps.forEach(Js=>HA.add(Js)),ji!==i&&E.add(ji)}),x4(i,this._triggerName,n,r,P,p,y,ne,[...E.values()],N,M,he))}};function Zne(t,e,i,n,r){return t.some(o=>o(e,i,n,r))}function V4(t,e){let i=T({},e);return Object.entries(t).forEach(([n,r])=>{r!=null&&(i[n]=r)}),i}var IA=class{constructor(e,i,n){this.styles=e,this.defaultParams=i,this.normalizer=n}buildStyles(e,i){let n=new Map,r=V4(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=rf(s,r,i));let l=this.normalizer.normalizePropertyName(a,i);s=this.normalizer.normalizeStyleValue(a,l,s,i),n.set(a,s)})}),n}};function Xne(t,e,i){return new CA(t,e,i)}var CA=class{constructor(e,i,n){this.name=e,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new IA(r.style,o,n))}),E4(this.states,"true","1"),E4(this.states,"false","0"),i.transitions.forEach(r=>{this.transitionFactories.push(new sy(e,r,this.states))}),this.fallbackTransition=Jne(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,i,n,r){return this.transitionFactories.find(s=>s.match(e,i,n,r))||null}matchStyles(e,i,n){return this.fallbackTransition.buildStyles(e,i,n)}};function Jne(t,e,i){let n=[(s,a)=>!0],r={type:be.Sequence,steps:[],options:null},o={type:be.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new sy(t,o,e)}function E4(t,e,i){t.has(e)?t.has(i)||t.set(i,t.get(e)):t.has(i)&&t.set(e,t.get(i))}var ere=new of,DA=class{constructor(e,i,n){this.bodyNode=e,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,i){let n=[],r=[],o=N4(this._driver,i,n,r);if(n.length)throw fne(n);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,i,n){let r=e.element,o=A4(this._normalizer,e.keyframes,i,n);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,i,n={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=L4(this._driver,i,o,F4,pA,new Map,new Map,n,ere,r),s.forEach(d=>{let u=Sn(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(pne()),s=[]),r.length)throw gne(r);a.forEach((d,u)=>{d.forEach((h,m)=>{d.set(m,this._driver.computeStyle(u,m,Gr))})});let l=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),c=Xs(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let i=this._getPlayer(e);i.destroy(),this._playersById.delete(e);let n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(e){let i=this._playersById.get(e);if(!i)throw vne(e);return i}listen(e,i,n,r){let o=RA(i,"","","");return MA(this._getPlayer(e),n,o,r),()=>{}}command(e,i,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(e,i,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},I4="ng-animate-queued",tre=".ng-animate-queued",hA="ng-animate-disabled",ire=".ng-animate-disabled",nre="ng-star-inserted",rre=".ng-star-inserted",ore=[],j4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cr="__ng_removed",sf=class{get params(){return this.options.params}constructor(e,i=""){this.namespaceId=i;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=lre(r),n){let o=e,{value:s}=o,a=py(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let i=e.params;if(i){let n=this.options.params;Object.keys(i).forEach(r=>{n[r]==null&&(n[r]=i[r])})}}},nf="void",mA=new sf(nf),SA=class{constructor(e,i,n){this.id=e,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Kn(i,this._hostClassName)}listen(e,i,n,r){if(!this._triggers.has(i))throw _ne(n,i);if(n==null||n.length==0)throw bne(i);if(!cre(n))throw yne(n,i);let o=Sn(this._elementListeners,e,[]),s={name:i,phase:n,callback:r};o.push(s);let a=Sn(this._engine.statesByElement,e,new Map);return a.has(i)||(Kn(e,Kb),Kn(e,Kb+"-"+i),a.set(i,mA)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(e,i){return this._triggers.has(e)?!1:(this._triggers.set(e,i),!0)}_getTrigger(e){let i=this._triggers.get(e);if(!i)throw wne(e);return i}trigger(e,i,n,r=!0){let o=this._getTrigger(i),s=new af(this.id,i,e),a=this._engine.statesByElement.get(e);a||(Kn(e,Kb),Kn(e,Kb+"-"+i),this._engine.statesByElement.set(e,a=new Map));let l=a.get(i),c=new sf(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(i,c),l||(l=mA),!(c.value===nf)&&l.value===c.value){if(!hre(l.params,c.params)){let _=[],y=o.matchStyles(l.value,l.params,_),E=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{vl(e,y),mo(e,E)})}return}let h=Sn(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==i&&_.queued&&_.destroy()});let m=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!m){if(!r)return;m=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(Kn(e,I4),s.onStart(()=>{Wd(e,I4)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let y=this._engine.playersByElement.get(e);if(y){let E=y.indexOf(s);E>=0&&y.splice(E,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(i=>i.delete(e)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let i=this._engine.playersByElement.get(e);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,i){let n=this._engine.driver.query(e,ey,!0);n.forEach(r=>{if(r[Cr])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,i,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,i,n,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,nf,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,i,s),n&&Xs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let i=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(i&&n){let r=new Set;i.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||mA,d=new sf(nf),u=new af(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,i){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,i),this.triggerLeaveAnimation(e,i,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,i);else{let o=e[Cr];(!o||o===j4)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,i))}}insertNode(e,i){Kn(e,this._hostClassName)}drainQueuedTransitions(e){let i=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=RA(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,MA(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):i.push(n)}),this._queue=[],i.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},TA=class{_onRemovalComplete(e,i){this.onRemovalComplete(e,i)}constructor(e,i,n,r){this.bodyNode=e,this.driver=i,this._normalizer=n,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,i){let n=new SA(e,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,i){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(i);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return r.set(i,e),e}register(e,i){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,i)),n}registerTrigger(e,i,n){let r=this._namespaceLookup[e];r&&r.register(i,n)&&this.totalAnimations++}destroy(e,i){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(i),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let i=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&i.add(o)}}return i}trigger(e,i,n,r){if(Xb(i)){let o=this._fetchNamespace(e);if(o)return o.trigger(i,n,r),!0}return!1}insertNode(e,i,n,r){if(!Xb(i))return;let o=i[Cr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(i);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(i,n)}r&&this.collectEnterElement(i)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,i){i?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Kn(e,hA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wd(e,hA))}removeNode(e,i,n){if(Xb(i)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(i,n):this.markElementAsRemoved(e,i,!1,n);let o=this.namespacesByHostElement.get(i);o&&o.id!==e&&o.removeNode(i,n)}else this._onRemovalComplete(i,n)}markElementAsRemoved(e,i,n,r,o){this.collectedLeaveElements.push(i),i[Cr]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,i,n,r,o){return Xb(i)?this._fetchNamespace(e).listen(i,n,r,o):()=>{}}_buildInstruction(e,i,n,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,i,o)}destroyInnerAnimations(e){let i=this.driver.query(e,ey,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(i=this.driver.query(e,gA,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let i=this.playersByElement.get(e);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let i=this.playersByQueriedElement.get(e);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xs(this.players).onDone(()=>e());e()})}processLeaveNode(e){let i=e[Cr];if(i&&i.setForRemoval){if(e[Cr]=j4,i.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}e.classList?.contains(hA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ire,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Kn(r,nre)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{i=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],i.length?Xs(i).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw xne(e)}_flushAnimations(e,i){let n=new of,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(oe=>{d.add(oe);let de=this.driver.query(oe,tre,!0);for(let me=0;me<de.length;me++)d.add(de[me])});let u=this.bodyNode,h=Array.from(this.statesByElement.keys()),m=S4(h,this.collectedEnterElements),p=new Map,_=0;m.forEach((oe,de)=>{let me=F4+_++;p.set(de,me),oe.forEach(Ke=>Kn(Ke,me))});let y=[],E=new Set,N=new Set;for(let oe=0;oe<this.collectedLeaveElements.length;oe++){let de=this.collectedLeaveElements[oe],me=de[Cr];me&&me.setForRemoval&&(y.push(de),E.add(de),me.hasAnimation?this.driver.query(de,rre,!0).forEach(Ke=>E.add(Ke)):N.add(de))}let M=new Map,P=S4(h,Array.from(E));P.forEach((oe,de)=>{let me=pA+_++;M.set(de,me),oe.forEach(Ke=>Kn(Ke,me))}),e.push(()=>{m.forEach((oe,de)=>{let me=p.get(de);oe.forEach(Ke=>Wd(Ke,me))}),P.forEach((oe,de)=>{let me=M.get(de);oe.forEach(Ke=>Wd(Ke,me))}),y.forEach(oe=>{this.processLeaveNode(oe)})});let ie=[],ne=[];for(let oe=this._namespaceList.length-1;oe>=0;oe--)this._namespaceList[oe].drainQueuedTransitions(i).forEach(me=>{let Ke=me.player,di=me.element;if(ie.push(Ke),this.collectedEnterElements.length){let Si=di[Cr];if(Si&&Si.setForMove){if(Si.previousTriggersValues&&Si.previousTriggersValues.has(me.triggerName)){let ea=Si.previousTriggersValues.get(me.triggerName),Tn=this.statesByElement.get(me.element);if(Tn&&Tn.has(me.triggerName)){let lf=Tn.get(me.triggerName);lf.value=ea,Tn.set(me.triggerName,lf)}}Ke.destroy();return}}let Dr=!u||!this.driver.containsElement(u,di),dn=M.get(di),es=p.get(di),St=this._buildInstruction(me,n,es,dn,Dr);if(St.errors&&St.errors.length){ne.push(St);return}if(Dr){Ke.onStart(()=>vl(di,St.fromStyles)),Ke.onDestroy(()=>mo(di,St.toStyles)),r.push(Ke);return}if(me.isFallbackTransition){Ke.onStart(()=>vl(di,St.fromStyles)),Ke.onDestroy(()=>mo(di,St.toStyles)),r.push(Ke);return}let WA=[];St.timelines.forEach(Si=>{Si.stretchStartingKeyframe=!0,this.disabledNodes.has(Si.element)||WA.push(Si)}),St.timelines=WA,n.append(di,St.timelines);let tz={instruction:St,player:Ke,element:di};s.push(tz),St.queriedElements.forEach(Si=>Sn(a,Si,[]).push(Ke)),St.preStyleProps.forEach((Si,ea)=>{if(Si.size){let Tn=l.get(ea);Tn||l.set(ea,Tn=new Set),Si.forEach((lf,fy)=>Tn.add(fy))}}),St.postStyleProps.forEach((Si,ea)=>{let Tn=c.get(ea);Tn||c.set(ea,Tn=new Set),Si.forEach((lf,fy)=>Tn.add(fy))})});if(ne.length){let oe=[];ne.forEach(de=>{oe.push(Ene(de.triggerName,de.errors))}),ie.forEach(de=>de.destroy()),this.reportError(oe)}let he=new Map,Ge=new Map;s.forEach(oe=>{let de=oe.element;n.has(de)&&(Ge.set(de,de),this._beforeAnimationBuild(oe.player.namespaceId,oe.instruction,he))}),r.forEach(oe=>{let de=oe.element;this._getPreviousPlayers(de,!1,oe.namespaceId,oe.triggerName,null).forEach(Ke=>{Sn(he,de,[]).push(Ke),Ke.destroy()})});let ji=y.filter(oe=>T4(oe,l,c)),Yn=new Map;D4(Yn,this.driver,N,c,Gr).forEach(oe=>{T4(oe,l,c)&&ji.push(oe)});let Js=new Map;m.forEach((oe,de)=>{D4(Js,this.driver,new Set(oe),l,hv)}),ji.forEach(oe=>{let de=Yn.get(oe),me=Js.get(oe);Yn.set(oe,new Map([...de?.entries()??[],...me?.entries()??[]]))});let my=[],GA=[],qA={};s.forEach(oe=>{let{element:de,player:me,instruction:Ke}=oe;if(n.has(de)){if(d.has(de)){me.onDestroy(()=>mo(de,Ke.toStyles)),me.disabled=!0,me.overrideTotalTime(Ke.totalTime),r.push(me);return}let di=qA;if(Ge.size>1){let dn=de,es=[];for(;dn=dn.parentNode;){let St=Ge.get(dn);if(St){di=St;break}es.push(dn)}es.forEach(St=>Ge.set(St,di))}let Dr=this._buildAnimation(me.namespaceId,Ke,he,o,Js,Yn);if(me.setRealPlayer(Dr),di===qA)my.push(me);else{let dn=this.playersByElement.get(di);dn&&dn.length&&(me.parentPlayer=Xs(dn)),r.push(me)}}else vl(de,Ke.fromStyles),me.onDestroy(()=>mo(de,Ke.toStyles)),GA.push(me),d.has(de)&&r.push(me)}),GA.forEach(oe=>{let de=o.get(oe.element);if(de&&de.length){let me=Xs(de);oe.setRealPlayer(me)}}),r.forEach(oe=>{oe.parentPlayer?oe.syncPlayerEvents(oe.parentPlayer):oe.destroy()});for(let oe=0;oe<y.length;oe++){let de=y[oe],me=de[Cr];if(Wd(de,pA),me&&me.hasAnimation)continue;let Ke=[];if(a.size){let Dr=a.get(de);Dr&&Dr.length&&Ke.push(...Dr);let dn=this.driver.query(de,gA,!0);for(let es=0;es<dn.length;es++){let St=a.get(dn[es]);St&&St.length&&Ke.push(...St)}}let di=Ke.filter(Dr=>!Dr.destroyed);di.length?dre(this,de,di):this.processLeaveNode(de)}return y.length=0,my.forEach(oe=>{this.players.push(oe),oe.onDone(()=>{oe.destroy();let de=this.players.indexOf(oe);this.players.splice(de,1)}),oe.play()}),my}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,i,n,r,o){let s=[];if(i){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==nf;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,i,n){let r=i.triggerName,o=i.element,s=i.isRemovalTransition?void 0:e,a=i.isRemovalTransition?void 0:r;for(let l of i.timelines){let c=l.element,d=c!==o,u=Sn(n,c,[]);this._getPreviousPlayers(c,d,s,a,i.toState).forEach(m=>{let p=m.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),m.destroy(),u.push(m)})}vl(o,i.fromStyles)}_buildAnimation(e,i,n,r,o,s){let a=i.triggerName,l=i.element,c=[],d=new Set,u=new Set,h=i.timelines.map(p=>{let _=p.element;d.add(_);let y=_[Cr];if(y&&y.removedBeforeQueried)return new Ss(p.duration,p.delay);let E=_!==l,N=ure((n.get(_)||ore).map(he=>he.getRealPlayer())).filter(he=>{let Ge=he;return Ge.element?Ge.element===_:!1}),M=o.get(_),P=s.get(_),ie=A4(this._normalizer,p.keyframes,M,P),ne=this._buildPlayer(p,ie,N);if(p.subTimeline&&r&&u.add(_),E){let he=new af(e,a,_);he.setRealPlayer(ne),c.push(he)}return ne});c.forEach(p=>{Sn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>are(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>Kn(p,_4));let m=Xs(h);return m.onDestroy(()=>{d.forEach(p=>Wd(p,_4)),mo(l,i.toStyles)}),u.forEach(p=>{Sn(r,p,[]).push(m)}),m}_buildPlayer(e,i,n){return i.length>0?this.driver.animate(e.element,i,e.duration,e.delay,e.easing,n):new Ss(e.duration,e.delay)}},af=class{constructor(e,i,n){this.namespaceId=e,this.triggerName=i,this.element=n,this._player=new Ss,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((i,n)=>{i.forEach(r=>MA(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let i=this._player;i.triggerCallback&&e.onStart(()=>i.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,i){Sn(this._queuedCallbacks,e,[]).push(i)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let i=this._player;i.triggerCallback&&i.triggerCallback(e)}};function are(t,e,i){let n=t.get(e);if(n){if(n.length){let r=n.indexOf(i);n.splice(r,1)}n.length==0&&t.delete(e)}return n}function lre(t){return t??null}function Xb(t){return t&&t.nodeType===1}function cre(t){return t=="start"||t=="done"}function C4(t,e){let i=t.style.display;return t.style.display=e??"none",i}function D4(t,e,i,n,r){let o=[];i.forEach(l=>o.push(C4(l)));let s=[];n.forEach((l,c)=>{let d=new Map;l.forEach(u=>{let h=e.computeStyle(c,u,r);d.set(u,h),(!h||h.length==0)&&(c[Cr]=sre,s.push(c))}),t.set(c,d)});let a=0;return i.forEach(l=>C4(l,o[a++])),s}function S4(t,e){let i=new Map;if(t.forEach(a=>i.set(a,[])),e.length==0)return i;let n=1,r=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return i.has(c)?l=c:r.has(c)?l=n:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&i.get(l).push(a)}),i}function Kn(t,e){t.classList?.add(e)}function Wd(t,e){t.classList?.remove(e)}function dre(t,e,i){Xs(i).onDone(()=>t.processLeaveNode(e))}function ure(t){let e=[];return B4(t,e),e}function B4(t,e){for(let i=0;i<t.length;i++){let n=t[i];n instanceof ph?B4(n.players,e):e.push(n)}}function hre(t,e){let i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){let o=i[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function T4(t,e,i){let n=i.get(t);if(!n)return!1;let r=e.get(t);return r?n.forEach(o=>r.add(o)):e.set(t,n),i.delete(t),!0}var Kd=class{constructor(e,i,n,r){this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new TA(e.body,i,n,r),this._timelineEngine=new DA(e.body,i,n),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,i,n,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],d=N4(this._driver,o,l,c);if(l.length)throw hne(r,l);c.length&&void 0,a=Xne(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(i,r,a)}register(e,i){this._transitionEngine.register(e,i)}destroy(e,i){this._transitionEngine.destroy(e,i)}onInsert(e,i,n,r){this._transitionEngine.insertNode(e,i,n,r)}onRemove(e,i,n){this._transitionEngine.removeNode(e,i,n)}disableAnimations(e,i){this._transitionEngine.markElementAsDisabled(e,i)}process(e,i,n,r){if(n.charAt(0)=="@"){let[o,s]=g4(n),a=r;this._timelineEngine.command(o,i,s,a)}else this._transitionEngine.trigger(e,i,n,r)}listen(e,i,n,r,o){if(n.charAt(0)=="@"){let[s,a]=g4(n);return this._timelineEngine.listen(s,i,a,o)}return this._transitionEngine.listen(e,i,n,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function mre(t,e){let i=null,n=null;return Array.isArray(e)&&e.length?(i=fA(e[0]),e.length>1&&(n=fA(e[e.length-1]))):e instanceof Map&&(i=fA(e)),i||n?new AA(t,i,n):null}var Qd=class Qd{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let r=Qd.initialStylesByElement.get(e);r||Qd.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&mo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mo(this._element,this._initialStyles),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Qd.initialStylesByElement.delete(this._element),this._startStyles&&(vl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vl(this._element,this._endStyles),this._endStyles=null),mo(this._element,this._initialStyles),this._state=3)}};Qd.initialStylesByElement=new WeakMap;var AA=Qd;function fA(t){let e=null;return t.forEach((i,n)=>{fre(n)&&(e=e||new Map,e.set(n,i))}),e}function fre(t){return t==="display"||t==="position"}var ay=class{constructor(e,i,n,r){this.element=e,this.keyframes=i,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let i=[];return e.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(e,i,n){return e.animate(this._convertKeyframesToObject(i),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:NA(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let i=e==="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},ly=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,i){return!1}containsElement(e,i){return k4(e,i)}getParentElement(e){return FA(e)}query(e,i,n){return M4(e,i,n)}computeStyle(e,i,n){return NA(e,i)}animate(e,i,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(m=>m instanceof ay);Pne(n,r)&&d.forEach(m=>{m.currentSnapshot.forEach((p,_)=>c.set(_,p))});let u=Mne(i).map(m=>new Map(m));u=One(e,u,c);let h=mre(e,u);return new ay(e,u,l,h)}};var Jb="@",U4="@.disabled",cy=class{constructor(e,i,n,r){this.namespaceId=e,this.delegate=i,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,i){this.delegate.appendChild(e,i),this.engine.onInsert(this.namespaceId,i,e,!1)}insertBefore(e,i,n,r=!0){this.delegate.insertBefore(e,i,n),this.engine.onInsert(this.namespaceId,i,e,r)}removeChild(e,i,n){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,r){this.delegate.setAttribute(e,i,n,r)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,r){this.delegate.setStyle(e,i,n,r)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){i.charAt(0)==Jb&&i==U4?this.disableAnimations(e,!!n):this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.delegate.listen(e,i,n)}disableAnimations(e,i){this.engine.disableAnimations(e,i)}},kA=class extends cy{constructor(e,i,n,r,o){super(i,n,r,o),this.factory=e,this.namespaceId=i}setProperty(e,i,n){i.charAt(0)==Jb?i.charAt(1)=="."&&i==U4?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,i.slice(1),n):this.delegate.setProperty(e,i,n)}listen(e,i,n){if(i.charAt(0)==Jb){let r=pre(e),o=i.slice(1),s="";return o.charAt(0)!=Jb&&([o,s]=gre(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(e,i,n)}};function pre(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function gre(t){let e=t.indexOf("."),i=t.substring(0,e),n=t.slice(e+1);return[i,n]}var dy=class{constructor(e,i,n){this.delegate=e,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,i){let n="",r=this.delegate.createRenderer(e,i);if(!e||!i?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let u=()=>c.delete(r);d=new cy(n,r,this.engine,u),c.set(r,d)}return d}let o=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return i.data.animation.forEach(a),new kA(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>i(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([i,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var _re=(()=>{let e=class e extends Kd{constructor(n,r,o){super(n,r,o,A(Wl,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(g(re),g(_l),g(bl))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function bre(){return new iy}function yre(t,e,i){return new dy(t,e,i)}var $4=[{provide:bl,useFactory:bre},{provide:Kd,useClass:_re},{provide:_a,useFactory:yre,deps:[Sg,Kd,U]}],z4=[{provide:_l,useFactory:()=>new ly},{provide:li,useValue:"BrowserAnimations"},...$4],wre=[{provide:_l,useClass:PA},{provide:li,useValue:"NoopAnimations"},...$4],H4=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?wre:z4}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({providers:z4,imports:[lc]});let t=e;return t})();var Ire=["*"];function Cre(t,e){t&1&&Ae(0)}var jA=(()=>{let e=class e{constructor(n){this._elementRef=n}focus(){this._elementRef.nativeElement.focus()}};e.\u0275fac=function(r){return new(r||e)(f(K))},e.\u0275dir=H({type:e,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0});let t=e;return t})(),BA=(()=>{let e=class e{constructor(n){this.template=n}};e.\u0275fac=function(r){return new(r||e)(f(ai))},e.\u0275dir=H({type:e,selectors:[["","cdkStepLabel",""]],standalone:!0});let t=e;return t})(),Dre=0;var Jo={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},UA=new k("STEPPER_GLOBAL_OPTIONS"),uy=(()=>{let e=class e{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(n){this._completedOverride=n}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(n){this._customError=n}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(n,r){this._stepper=n,this.interacted=!1,this.interactedStream=new Te,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=r||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}};e.\u0275fac=function(r){return new(r||e)(f(ui(()=>hy)),f(UA,8))},e.\u0275cmp=X({type:e,selectors:[["cdk-step"]],contentQueries:function(r,o,s){if(r&1&&ft(s,BA,5),r&2){let a;Be(a=Ue())&&(o.stepLabel=a.first)}},viewQuery:function(r,o){if(r&1&&Ri(ai,7),r&2){let s;Be(s=Ue())&&(o.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[J.None,"aria-label","ariaLabel"],ariaLabelledby:[J.None,"aria-labelledby","ariaLabelledby"],state:"state",editable:[J.HasDecoratorInputTransform,"editable","editable",dt],optional:[J.HasDecoratorInputTransform,"optional","optional",dt],completed:[J.HasDecoratorInputTransform,"completed","completed",dt],hasError:[J.HasDecoratorInputTransform,"hasError","hasError",dt]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[$t,Ut,Me],ngContentSelectors:Ire,decls:1,vars:0,template:function(r,o){r&1&&(ct(),$(0,Cre,1,0,"ng-template"))},encapsulation:2,changeDetection:0});let t=e;return t})(),hy=(()=>{let e=class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this.steps&&this._steps?(this._isValidIndex(n),this.selected?._markAsInteracted(),this._selectedIndex!==n&&!this._anyControlsInvalidOrPending(n)&&(n>=this._selectedIndex||this.steps.toArray()[n].editable)&&this._updateSelectedItemIndex(n)):this._selectedIndex=n}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(n){this.selectedIndex=n&&this.steps?this.steps.toArray().indexOf(n):-1}get orientation(){return this._orientation}set orientation(n){this._orientation=n,this._keyManager&&this._keyManager.withVerticalOrientation(n==="vertical")}constructor(n,r,o){this._dir=n,this._changeDetectorRef=r,this._elementRef=o,this._destroyed=new W,this.steps=new hn,this._sortedHeaders=new hn,this.linear=!1,this._selectedIndex=0,this.selectionChange=new Te,this.selectedIndexChange=new Te,this._orientation="horizontal",this._groupId=Dre++}ngAfterContentInit(){this._steps.changes.pipe(si(this._steps),Ze(this._destroyed)).subscribe(n=>{this.steps.reset(n.filter(r=>r._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(si(this._stepHeader),Ze(this._destroyed)).subscribe(n=>{this._sortedHeaders.reset(n.toArray().sort((r,o)=>r._elementRef.nativeElement.compareDocumentPosition(o._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new yv(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:z()).pipe(si(this._layoutDirection()),Ze(this._destroyed)).subscribe(n=>this._keyManager.withHorizontalOrientation(n)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(n=>n.reset()),this._stateChanged()}_getStepLabelId(n){return`cdk-step-label-${this._groupId}-${n}`}_getStepContentId(n){return`cdk-step-content-${this._groupId}-${n}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(n){let r=n-this._selectedIndex;return r<0?this._layoutDirection()==="rtl"?"next":"previous":r>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(n,r=Jo.NUMBER){let o=this.steps.toArray()[n],s=this._isCurrentStep(n);return o._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(o,s):this._getGuidelineLogic(o,s,r)}_getDefaultIndicatorLogic(n,r){return n._showError()&&n.hasError&&!r?Jo.ERROR:!n.completed||r?Jo.NUMBER:n.editable?Jo.EDIT:Jo.DONE}_getGuidelineLogic(n,r,o=Jo.NUMBER){return n._showError()&&n.hasError&&!r?Jo.ERROR:n.completed&&!r?Jo.DONE:n.completed&&r?o:n.editable&&r?Jo.EDIT:o}_isCurrentStep(n){return this._selectedIndex===n}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(n){let r=this.steps.toArray();this.selectionChange.emit({selectedIndex:n,previouslySelectedIndex:this._selectedIndex,selectedStep:r[n],previouslySelectedStep:r[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(n):this._keyManager.updateActiveItem(n),this._selectedIndex=n,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(n){let r=kc(n),o=n.keyCode,s=this._keyManager;s.activeItemIndex!=null&&!r&&(o===32||o===13)?(this.selectedIndex=s.activeItemIndex,n.preventDefault()):s.setFocusOrigin("keyboard").onKeydown(n)}_anyControlsInvalidOrPending(n){return this.linear&&n>=0?this.steps.toArray().slice(0,n).some(r=>{let o=r.stepControl;return(o?o.invalid||o.pending||!r.interacted:!r.completed)&&!r.optional&&!r._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let n=this._elementRef.nativeElement,r=dI();return n===r||n.contains(r)}_isValidIndex(n){return n>-1&&(!this.steps||n<this.steps.length)}};e.\u0275fac=function(r){return new(r||e)(f(Wr,8),f(pt),f(K))},e.\u0275dir=H({type:e,selectors:[["","cdkStepper",""]],contentQueries:function(r,o,s){if(r&1&&(ft(s,uy,5),ft(s,jA,5)),r&2){let a;Be(a=Ue())&&(o._steps=a),Be(a=Ue())&&(o._stepHeader=a)}},inputs:{linear:[J.HasDecoratorInputTransform,"linear","linear",dt],selectedIndex:[J.HasDecoratorInputTransform,"selectedIndex","selectedIndex",Fu],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[$t]});let t=e;return t})();function Sre(t,e){if(t&1&&us(0,2),t&2){let i=Z();R("ngTemplateOutlet",i.iconOverrides[i.state])("ngTemplateOutletContext",i._getIconContext())}}function Tre(t,e){if(t&1&&(b(0,"span",7),x(1),v()),t&2){let i=Z(2);w(),It(i._getDefaultTextForState(i.state))}}function Are(t,e){if(t&1&&(b(0,"span",8),x(1),v()),t&2){let i=Z(3);w(),It(i._intl.completedLabel)}}function kre(t,e){if(t&1&&(b(0,"span",8),x(1),v()),t&2){let i=Z(3);w(),It(i._intl.editableLabel)}}function Mre(t,e){if(t&1&&($(0,Are,2,1,"span",8)(1,kre,2,1),b(2,"mat-icon",7),x(3),v()),t&2){let i=Z(2);Ht(0,i.state==="done"?0:i.state==="edit"?1:-1),w(3),It(i._getDefaultTextForState(i.state))}}function Rre(t,e){if(t&1&&$(0,Tre,2,1)(1,Mre,4,2),t&2){let i,n=Z();Ht(0,(i=n.state)==="number"?0:1)}}function Fre(t,e){t&1&&(b(0,"div",4),us(1,9),v()),t&2&&(w(),R("ngTemplateOutlet",e.template))}function Pre(t,e){if(t&1&&(b(0,"div",4),x(1),v()),t&2){let i=Z();w(),It(i.label)}}function Ore(t,e){if(t&1&&(b(0,"div",5),x(1),v()),t&2){let i=Z();w(),It(i._intl.optionalLabel)}}function Nre(t,e){if(t&1&&(b(0,"div",6),x(1),v()),t&2){let i=Z();w(),It(i.errorMessage)}}var W4=["*"];function Lre(t,e){}function Vre(t,e){if(t&1&&(Ae(0),$(1,Lre,0,0,"ng-template",0)),t&2){let i=Z();w(),R("cdkPortalOutlet",i._portal)}}var Q4=(t,e)=>({step:t,i:e}),K4=t=>({animationDuration:t}),Y4=(t,e)=>({value:t,params:e});function jre(t,e){t&1&&Ae(0)}function Bre(t,e){t&1&&Y(0,"div",6)}function Ure(t,e){if(t&1&&(us(0,5),$(1,Bre,1,0,"div",6)),t&2){let i=e.$implicit,n=e.$index,r=e.$index,o=e.$count;Z(2);let s=hi(4);R("ngTemplateOutlet",s)("ngTemplateOutletContext",Ea(3,Q4,i,n)),w(),Ht(1,r!==o-1?1:-1)}}function zre(t,e){if(t&1){let i=it();b(0,"div",7),le("@horizontalStepTransition.done",function(r){Le(i);let o=Z(2);return Ve(o._animationDone.next(r))}),us(1,8),v()}if(t&2){let i=e.$implicit,n=e.$index,r=Z(2);Ie("mat-horizontal-stepper-content-inactive",r.selectedIndex!==n),R("@horizontalStepTransition",Ea(8,Y4,r._getAnimationDirection(n),ur(6,K4,r._getAnimationDuration())))("id",r._getStepContentId(n)),ze("aria-labelledby",r._getStepLabelId(n)),w(),R("ngTemplateOutlet",i.content)}}function $re(t,e){if(t&1&&(b(0,"div",1)(1,"div",2),eg(2,Ure,2,6,null,null,Jp),v(),b(4,"div",3),eg(5,zre,2,11,"div",4,Jp),v()()),t&2){let i=Z();w(2),tg(i.steps),w(3),tg(i.steps)}}function Hre(t,e){if(t&1){let i=it();b(0,"div",9),us(1,5),b(2,"div",10)(3,"div",11),le("@verticalStepTransition.done",function(r){Le(i);let o=Z(2);return Ve(o._animationDone.next(r))}),b(4,"div",12),us(5,8),v()()()()}if(t&2){let i=e.$implicit,n=e.$index,r=e.$index,o=e.$count,s=Z(2),a=hi(4);w(),R("ngTemplateOutlet",a)("ngTemplateOutletContext",Ea(10,Q4,i,n)),w(),Ie("mat-stepper-vertical-line",r!==o-1),w(),Ie("mat-vertical-stepper-content-inactive",s.selectedIndex!==n),R("@verticalStepTransition",Ea(15,Y4,s._getAnimationDirection(n),ur(13,K4,s._getAnimationDuration())))("id",s._getStepContentId(n)),ze("aria-labelledby",s._getStepLabelId(n)),w(2),R("ngTemplateOutlet",i.content)}}function Gre(t,e){if(t&1&&eg(0,Hre,6,18,"div",9,Jp),t&2){let i=Z();tg(i.steps)}}function qre(t,e){if(t&1){let i=it();b(0,"mat-step-header",13),le("click",function(){let r=Le(i).step;return Ve(r.select())})("keydown",function(r){Le(i);let o=Z();return Ve(o._onKeydown(r))}),v()}if(t&2){let i=e.step,n=e.i,r=Z();Ie("mat-horizontal-stepper-header",r.orientation==="horizontal")("mat-vertical-stepper-header",r.orientation==="vertical"),R("tabIndex",r._getFocusIndex()===n?0:-1)("id",r._getStepLabelId(n))("index",n)("state",r._getIndicatorType(n,i.state))("label",i.stepLabel||i.label)("selected",r.selectedIndex===n)("active",r._stepIsNavigable(n,i))("optional",i.optional)("errorMessage",i.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(n,i))("color",i.color||r.color),ze("aria-posinset",n+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null)("aria-disabled",r._stepIsNavigable(n,i)?null:!0)}}var zA=(()=>{let e=class e extends BA{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=_t(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["","matStepLabel",""]],standalone:!0,features:[ve]});let t=e;return t})(),Wre=(()=>{let e=class e{constructor(){this.changes=new W,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G4=(()=>{let e=class e extends jA{constructor(n,r,o,s){super(o),this._intl=n,this._focusMonitor=r,this._intlSubscription=n.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,r){n?this._focusMonitor.focusVia(this._elementRef,n,r):this._elementRef.nativeElement.focus(r)}_stringLabel(){return this.label instanceof zA?null:this.label}_templateLabel(){return this.label instanceof zA?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(n){return n=="number"?`${this.index+1}`:n=="edit"?"create":n=="error"?"warning":n}};e.\u0275fac=function(r){return new(r||e)(f(Wre),f(Pc),f(K),f(pt))},e.\u0275cmp=X({type:e,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(r,o){r&2&&Xt("mat-"+(o.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[ve,Me],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(r,o){if(r&1&&(Y(0,"div",0),b(1,"div")(2,"div",1),$(3,Sre,1,2,"ng-container",2)(4,Rre,2,1),v()(),b(5,"div",3),$(6,Fre,2,1,"div",4)(7,Pre,2,1)(8,Ore,2,1,"div",5)(9,Nre,2,1,"div",6),v()),r&2){let s;R("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disableRipple),w(),OR("mat-step-icon-state-",o.state," mat-step-icon"),Ie("mat-step-icon-selected",o.selected),w(2),Ht(3,o.iconOverrides&&o.iconOverrides[o.state]?3:4),w(2),Ie("mat-step-label-active",o.active)("mat-step-label-selected",o.selected)("mat-step-label-error",o.state=="error"),w(),Ht(6,(s=o._templateLabel())?6:o._stringLabel()?7:-1,s),w(2),Ht(8,o.optional&&o.state!="error"?8:-1),w(),Ht(9,o.state==="error"?9:-1)}},dependencies:[II,Ou,Ab],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0});let t=e;return t})(),Z4="500ms",X4="225ms",q4={horizontalStepTransition:Fo("horizontalStepTransition",[xi("previous",Wt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),xi("current",Wt({transform:"none",visibility:"inherit"})),xi("next",Wt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Bn("* => *",eI([jn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),iI("@*",tI(),{optional:!0})]),{params:{animationDuration:Z4}})]),verticalStepTransition:Fo("verticalStepTransition",[xi("previous",Wt({height:"0px",visibility:"hidden"})),xi("next",Wt({height:"0px",visibility:"hidden"})),xi("current",Wt({height:"*",visibility:"inherit"})),Bn("* <=> current",eI([jn("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),iI("@*",tI(),{optional:!0})]),{params:{animationDuration:X4}})])},Qre=(()=>{let e=class e{constructor(n){this.templateRef=n}};e.\u0275fac=function(r){return new(r||e)(f(ai))},e.\u0275dir=H({type:e,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[J.None,"matStepperIcon","name"]},standalone:!0});let t=e;return t})(),Kre=(()=>{let e=class e{constructor(n){this._template=n}};e.\u0275fac=function(r){return new(r||e)(f(ai))},e.\u0275dir=H({type:e,selectors:[["ng-template","matStepContent",""]],standalone:!0});let t=e;return t})(),Yre=(()=>{let e=class e extends uy{constructor(n,r,o,s){super(n,s),this._errorStateMatcher=r,this._viewContainerRef=o,this._isSelected=Ye.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Pe(()=>this._stepper.selectionChange.pipe(B(n=>n.selectedStep===this),si(this._stepper.selected===this)))).subscribe(n=>{n&&this._lazyContent&&!this._portal&&(this._portal=new Ts(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(n,r){let o=this._errorStateMatcher.isErrorState(n,r),s=!!(n&&n.invalid&&this.interacted);return o||s}};e.\u0275fac=function(r){return new(r||e)(f(ui(()=>$A)),f(Ev,4),f(qi),f(UA,8))},e.\u0275cmp=X({type:e,selectors:[["mat-step"]],contentQueries:function(r,o,s){if(r&1&&(ft(s,zA,5),ft(s,Kre,5)),r&2){let a;Be(a=Ue())&&(o.stepLabel=a.first),Be(a=Ue())&&(o._lazyContent=a.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[yt([{provide:Ev,useExisting:e},{provide:uy,useExisting:e}]),ve,Me],ngContentSelectors:W4,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(r,o){r&1&&(ct(),$(0,Vre,2,1,"ng-template"))},dependencies:[Sh],encapsulation:2,changeDetection:0});let t=e;return t})(),$A=(()=>{let e=class e extends hy{get animationDuration(){return this._animationDuration}set animationDuration(n){this._animationDuration=/^\d+$/.test(n)?n+"ms":n}constructor(n,r,o){super(n,r,o),this._stepHeader=void 0,this._steps=void 0,this.steps=new hn,this.animationDone=new Te,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new W,this._animationDuration="",this._isServer=!A($e).isBrowser;let s=o.nativeElement.nodeName.toLowerCase();this.orientation=s==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:n,templateRef:r})=>this._iconOverrides[n]=r),this.steps.changes.pipe(Ze(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(tr((n,r)=>n.fromState===r.fromState&&n.toState===r.toState),Ze(this._destroyed)).subscribe(n=>{n.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(n,r){return r.completed||this.selectedIndex===n||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?Z4:X4}};e.\u0275fac=function(r){return new(r||e)(f(Wr,8),f(pt),f(K))},e.\u0275cmp=X({type:e,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(r,o,s){if(r&1&&(ft(s,Yre,5),ft(s,Qre,5)),r&2){let a;Be(a=Ue())&&(o._steps=a),Be(a=Ue())&&(o._icons=a)}},viewQuery:function(r,o){if(r&1&&Ri(G4,5),r&2){let s;Be(s=Ue())&&(o._stepHeader=s)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(r,o){r&2&&(ze("aria-orientation",o.orientation),Ie("mat-stepper-horizontal",o.orientation==="horizontal")("mat-stepper-vertical",o.orientation==="vertical")("mat-stepper-label-position-end",o.orientation==="horizontal"&&o.labelPosition=="end")("mat-stepper-label-position-bottom",o.orientation==="horizontal"&&o.labelPosition=="bottom")("mat-stepper-header-position-bottom",o.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[yt([{provide:hy,useExisting:e}]),ve,Me],ngContentSelectors:W4,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(r,o){if(r&1&&(ct(),$(0,jre,1,0)(1,$re,7,0)(2,Gre,2,0)(3,qre,1,23,"ng-template",null,0,pn)),r&2){let s;Ht(0,o._isServer?0:-1),w(),Ht(1,(s=o.orientation)==="horizontal"?1:s==="vertical"?2:-1)}},dependencies:[Ou,G4],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[q4.horizontalStepTransition,q4.verticalStepTransition]},changeDetection:0});let t=e;return t})();var Zre=[$A,nA,PT,Ch,rA,qd,oA,sA,kb,OT,jT,lA,LI,DT],J4=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e}),e.\u0275inj=V({imports:[_n,lc,H4,Zre,nA,PT,Ch,rA,qd,oA,sA,kb,OT,jT,lA,LI,DT]});let t=e;return t})();var ez=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=j({type:e,bootstrap:[SU]}),e.\u0275inj=V({providers:[Qn],imports:[PO.forRoot(),lc,vU,TO,MB,SO.initializeApp(TU.firebaseConfig),dO,kF,cO,m4,_n,J4]});let t=e;return t})();LF().bootstrapModule(ez).catch(t=>console.error(t));
